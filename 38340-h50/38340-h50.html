<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>38340-h50</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#contents" id="toc-contents"><br />
Contents</a></li>
<li><a href="#foreword" id="toc-foreword">Foreword</a></li>
<li><a href="#scope" id="toc-scope"><br />
1 Scope</a></li>
<li><a href="#references" id="toc-references">2 References</a></li>
<li><a href="#definitions-of-terms-symbols-and-abbreviations"
id="toc-definitions-of-terms-symbols-and-abbreviations">3 Definitions of
terms, symbols and abbreviations</a>
<ul>
<li><a href="#terms" id="toc-terms">3.1 Terms</a></li>
<li><a href="#abbreviations" id="toc-abbreviations">3.2
Abbreviations</a></li>
</ul></li>
<li><a href="#general" id="toc-general">4 General</a>
<ul>
<li><a href="#introduction" id="toc-introduction">4.1
Introduction</a></li>
<li><a href="#architecture" id="toc-architecture">4.2 Architecture</a>
<ul>
<li><a href="#bap-structure" id="toc-bap-structure">4.2.1 BAP
structure</a></li>
<li><a href="#bap-entities" id="toc-bap-entities">4.2.2 BAP
entities</a></li>
</ul></li>
<li><a href="#services" id="toc-services">4.3 Services</a>
<ul>
<li><a href="#services-provided-to-upper-layers"
id="toc-services-provided-to-upper-layers">4.3.1 Services provided to
upper layers</a></li>
<li><a href="#services-expected-from-lower-layers"
id="toc-services-expected-from-lower-layers">4.3.2 Services expected
from lower layers</a></li>
</ul></li>
<li><a href="#functions" id="toc-functions">4.4 Functions</a></li>
<li><a href="#configurations" id="toc-configurations">4.5
Configurations</a></li>
</ul></li>
<li><a href="#procedures" id="toc-procedures">5 Procedures</a>
<ul>
<li><a href="#bap-entity-handling" id="toc-bap-entity-handling">5.1 BAP
entity handling</a>
<ul>
<li><a href="#bap-entity-establishment"
id="toc-bap-entity-establishment">5.1.1 BAP entity
establishment</a></li>
<li><a href="#bap-entity-release" id="toc-bap-entity-release">5.1.2 BAP
entity release</a></li>
</ul></li>
<li><a href="#data-transfer" id="toc-data-transfer">5.2 Data
transfer</a>
<ul>
<li><a href="#transmitting-operation"
id="toc-transmitting-operation">5.2.1 Transmitting operation</a>
<ul>
<li><a href="#general-1" id="toc-general-1">5.2.1.1 General</a></li>
<li><a href="#bap-routing-id-selection"
id="toc-bap-routing-id-selection">5.2.1.2 BAP routing ID selection</a>
<ul>
<li><a href="#bap-routing-id-selection-at-iab-node"
id="toc-bap-routing-id-selection-at-iab-node">5.2.1.2.1 BAP routing ID
selection at IAB-node</a></li>
<li><a href="#bap-routing-id-selection-at-iab-donor-du"
id="toc-bap-routing-id-selection-at-iab-donor-du">5.2.1.2.2 BAP routing
ID selection at IAB-donor-DU</a></li>
</ul></li>
<li><a href="#routing" id="toc-routing">5.2.1.3 Routing</a></li>
<li><a href="#mapping-to-bh-rlc-channel"
id="toc-mapping-to-bh-rlc-channel">5.2.1.4 Mapping to BH RLC Channel</a>
<ul>
<li><a
href="#mapping-to-bh-rlc-channel-for-bap-data-packets-from-collocated-bap-entity-at-iab-node"
id="toc-mapping-to-bh-rlc-channel-for-bap-data-packets-from-collocated-bap-entity-at-iab-node">5.2.1.4.1
Mapping to BH RLC Channel for BAP Data Packets from collocated BAP
entity at IAB-node</a></li>
<li><a
href="#mapping-to-bh-rlc-channel-for-bap-sdus-from-upper-layers-at-iab-node"
id="toc-mapping-to-bh-rlc-channel-for-bap-sdus-from-upper-layers-at-iab-node">5.2.1.4.2
Mapping to BH RLC Channel for BAP SDUs from upper layers at
IAB-node</a></li>
<li><a href="#mapping-to-bh-rlc-channel-at-iab-donor-du"
id="toc-mapping-to-bh-rlc-channel-at-iab-donor-du">5.2.1.4.3 Mapping to
BH RLC Channel at IAB-donor-DU</a></li>
</ul></li>
</ul></li>
<li><a href="#receiving-operation" id="toc-receiving-operation">5.2.2
Receiving operation</a></li>
</ul></li>
<li><a href="#flow-control" id="toc-flow-control">5.3 Flow control</a>
<ul>
<li><a href="#flow-control-feedback"
id="toc-flow-control-feedback">5.3.1 Flow control feedback</a>
<ul>
<li><a href="#transmitting-operation-1"
id="toc-transmitting-operation-1">5.3.1.1 Transmitting
operation</a></li>
<li><a href="#receiving-operation-1"
id="toc-receiving-operation-1">5.3.1.2 Receiving operation</a></li>
</ul></li>
<li><a href="#flow-control-polling" id="toc-flow-control-polling">5.3.2
Flow control polling</a></li>
</ul></li>
<li><a href="#bh-rlf-related-indications"
id="toc-bh-rlf-related-indications">5.4 BH RLF related indications</a>
<ul>
<li><a href="#transmitting-operation-2"
id="toc-transmitting-operation-2">5.4.1 Transmitting operation</a></li>
<li><a href="#receiving-operation-2"
id="toc-receiving-operation-2">5.4.2 Receiving operation</a></li>
</ul></li>
<li><a
href="#handling-of-unknown-unforeseen-and-erroneous-protocol-data"
id="toc-handling-of-unknown-unforeseen-and-erroneous-protocol-data">5.5
Handling of unknown, unforeseen, and erroneous protocol data</a></li>
</ul></li>
<li><a href="#protocol-data-units-formats-and-parameters"
id="toc-protocol-data-units-formats-and-parameters">6 Protocol data
units, formats, and parameters</a>
<ul>
<li><a href="#protocol-data-units" id="toc-protocol-data-units">6.1
Protocol data units</a>
<ul>
<li><a href="#data-pdu" id="toc-data-pdu">6.1.1 Data PDU</a></li>
<li><a href="#control-pdu" id="toc-control-pdu">6.1.2 Control
PDU</a></li>
</ul></li>
<li><a href="#formats" id="toc-formats">6.2 Formats</a>
<ul>
<li><a href="#general-2" id="toc-general-2">6.2.1 General</a></li>
<li><a href="#data-pdu-1" id="toc-data-pdu-1">6.2.2 Data PDU</a></li>
<li><a href="#control-pdu-1" id="toc-control-pdu-1">6.2.3 Control
PDU</a>
<ul>
<li><a href="#control-pdu-for-flow-control-feedback"
id="toc-control-pdu-for-flow-control-feedback">6.2.3.1 Control PDU for
flow control feedback</a></li>
<li><a href="#control-pdu-for-flow-control-polling"
id="toc-control-pdu-for-flow-control-polling">6.2.3.2 Control PDU for
flow control polling</a></li>
<li><a href="#control-pdu-for-bh-rlf-indication"
id="toc-control-pdu-for-bh-rlf-indication">6.2.3.3 Control PDU for BH
RLF indication</a></li>
<li><a href="#control-pdu-for-bh-rlf-detection-indication"
id="toc-control-pdu-for-bh-rlf-detection-indication">6.2.3.4 Control PDU
for BH RLF detection indication</a></li>
<li><a href="#control-pdu-for-bh-rlf-recovery-indication"
id="toc-control-pdu-for-bh-rlf-recovery-indication">6.2.3.5 Control PDU
for BH RLF recovery indication</a></li>
</ul></li>
</ul></li>
<li><a href="#parameters" id="toc-parameters">6.3 Parameters</a>
<ul>
<li><a href="#general-3" id="toc-general-3">6.3.1 General</a></li>
<li><a href="#destination" id="toc-destination">6.3.2
DESTINATION</a></li>
<li><a href="#path" id="toc-path">6.3.3 PATH</a></li>
<li><a href="#data" id="toc-data">6.3.4 Data</a></li>
<li><a href="#r" id="toc-r">6.3.5 R</a></li>
<li><a href="#dc" id="toc-dc">6.3.6 D/C</a></li>
<li><a href="#pdu-type" id="toc-pdu-type">6.3.7 PDU type</a></li>
<li><a href="#bh-rlc-channel-id" id="toc-bh-rlc-channel-id">6.3.8 BH RLC
channel ID</a></li>
<li><a href="#bap-routing-id" id="toc-bap-routing-id">6.3.9 BAP Routing
ID</a></li>
<li><a href="#available-buffer-size"
id="toc-available-buffer-size">6.3.10 Available Buffer Size</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<table>
<colgroup>
<col style="width: 47%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th colspan="2">3GPP TS 38.340 V17.5.0 (2023-06)</th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="2">Technical Specification</td>
</tr>
<tr>
<td colspan="2"><p>3rd Generation Partnership Project;</p>
<p>Technical Specification Group Radio Access Network;</p>
<p>NR;</p>
<p><strong>Backhaul Adaptation Protocol (BAP) specification</strong></p>
<p>(Release 17)</p></td>
</tr>
<tr>
<td colspan="2" style="text-align: left;"></td>
</tr>
<tr>
<td><img src="media/image1.svg" /></td>
<td rowspan="5" style="text-align: right;"><img
src="media/image2.svg" /></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td colspan="2">The present document has been developed within the 3rd
Generation Partnership Project (3GPP <sup>TM</sup>) and may be further
elaborated for the purposes of 3GPP.<br />
The present document has not been subject to any approval process by the
3GPP Organizational Partners and shall not be implemented.<br />
This Specification is provided for future development work within 3GPP
only. The Organizational Partners accept no liability for any use of
this Specification.<br />
Specifications and Reports for implementation of the 3GPP <sup>TM</sup>
system should be obtained via the 3GPP Organizational Partners'
Publications Offices.</td>
</tr>
</tbody>
</table>
<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<thead>
<tr>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;"><blockquote>
<p><em><strong>3GPP</strong></em></p>
<p>Postal address</p>
<p>3GPP support office address</p>
<p>650 Route des Lucioles - Sophia Antipolis</p>
<p>Valbonne - FRANCE</p>
<p>Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16</p>
<p>Internet</p>
<p>http://www.3gpp.org</p>
</blockquote></td>
</tr>
<tr>
<td style="text-align: center;"><p><em><strong>Copyright
Notification</strong></em></p>
<p>No part may be reproduced except as authorized by written
permission.<br />
The copyright and the foregoing restriction extend to reproduction in
all media.</p>
<p>© 2023, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC).</p>
<p>All rights reserved.</p>
<p>UMTS™ is a Trade Mark of ETSI registered for the benefit of its
members</p>
<p>3GPP™ is a Trade Mark of ETSI registered for the benefit of its
Members and of the 3GPP Organizational Partners<br />
LTE™ is a Trade Mark of ETSI registered for the benefit of its Members
and of the 3GPP Organizational Partners</p>
<p>GSM® and the GSM logo are registered and owned by the GSM
Association</p></td>
</tr>
</tbody>
</table>
<h1 class="TT" id="contents"><br />
Contents</h1>
<p>Foreword <a href="#foreword">5</a></p>
<p>1 Scope <a href="#scope">7</a></p>
<p>2 References <a href="#references">7</a></p>
<p>3 Definitions of terms, symbols and abbreviations <a
href="#definitions-of-terms-symbols-and-abbreviations">7</a></p>
<p>3.1 Terms <a href="#terms">7</a></p>
<p>3.2 Abbreviations <a href="#abbreviations">8</a></p>
<p>4 General <a href="#general">8</a></p>
<p>4.1 Introduction <a href="#introduction">8</a></p>
<p>4.2 Architecture <a href="#architecture">8</a></p>
<p>4.2.1 BAP structure <a href="#bap-structure">8</a></p>
<p>4.2.2 BAP entities <a href="#bap-entities">8</a></p>
<p>4.3 Services <a href="#services">9</a></p>
<p>4.3.1 Services provided to upper layers <a
href="#services-provided-to-upper-layers">9</a></p>
<p>4.3.2 Services expected from lower layers <a
href="#services-expected-from-lower-layers">9</a></p>
<p>4.4 Functions <a href="#functions">9</a></p>
<p>4.5 Configurations <a href="#configurations">10</a></p>
<p>5 Procedures <a href="#procedures">10</a></p>
<p>5.1 BAP entity handling <a href="#bap-entity-handling">10</a></p>
<p>5.1.1 BAP entity establishment <a
href="#bap-entity-establishment">10</a></p>
<p>5.1.2 BAP entity release <a href="#bap-entity-release">11</a></p>
<p>5.2 Data transfer <a href="#data-transfer">11</a></p>
<p>5.2.1 Transmitting operation <a
href="#transmitting-operation">11</a></p>
<p>5.2.1.1 General <a href="#general-1">11</a></p>
<p>5.2.1.2 BAP routing ID selection <a
href="#bap-routing-id-selection">11</a></p>
<p>5.2.1.2.1 BAP routing ID selection at IAB-node <a
href="#bap-routing-id-selection-at-iab-node">11</a></p>
<p>5.2.1.2.2 BAP routing ID selection at IAB-donor-DU <a
href="#bap-routing-id-selection-at-iab-donor-du">12</a></p>
<p>5.2.1.3 Routing <a href="#routing">13</a></p>
<p>5.2.1.4 Mapping to BH RLC Channel <a
href="#mapping-to-bh-rlc-channel">14</a></p>
<p>5.2.1.4.1 Mapping to BH RLC Channel for BAP Data Packets from
collocated BAP entity at IAB-node <a
href="#mapping-to-bh-rlc-channel-for-bap-data-packets-from-collocated-bap-entity-at-iab-node">14</a></p>
<p>5.2.1.4.2 Mapping to BH RLC Channel for BAP SDUs from upper layers at
IAB-node <a
href="#mapping-to-bh-rlc-channel-for-bap-sdus-from-upper-layers-at-iab-node">14</a></p>
<p>5.2.1.4.3 Mapping to BH RLC Channel at IAB-donor-DU <a
href="#mapping-to-bh-rlc-channel-at-iab-donor-du">15</a></p>
<p>5.2.2 Receiving operation <a href="#receiving-operation">17</a></p>
<p>5.3 Flow control <a href="#flow-control">17</a></p>
<p>5.3.1 Flow control feedback <a
href="#flow-control-feedback">17</a></p>
<p>5.3.1.1 Transmitting operation <a
href="#transmitting-operation-1">17</a></p>
<p>5.3.1.2 Receiving operation <a
href="#receiving-operation-1">18</a></p>
<p>5.3.2 Flow control polling <a href="#flow-control-polling">18</a></p>
<p>5.4 BH RLF related indications <a
href="#bh-rlf-related-indications">18</a></p>
<p>5.4.1 Transmitting operation <a
href="#transmitting-operation-2">18</a></p>
<p>5.4.2 Receiving operation <a href="#receiving-operation-2">18</a></p>
<p>5.5 Handling of unknown, unforeseen, and erroneous protocol data <a
href="#handling-of-unknown-unforeseen-and-erroneous-protocol-data">19</a></p>
<p>6 Protocol data units, formats, and parameters <a
href="#protocol-data-units-formats-and-parameters">19</a></p>
<p>6.1 Protocol data units <a href="#protocol-data-units">19</a></p>
<p>6.1.1 Data PDU <a href="#data-pdu">19</a></p>
<p>6.1.2 Control PDU <a href="#control-pdu">19</a></p>
<p>6.2 Formats <a href="#formats">19</a></p>
<p>6.2.1 General <a href="#general-2">19</a></p>
<p>6.2.2 Data PDU <a href="#data-pdu-1">19</a></p>
<p>6.2.3 Control PDU <a href="#control-pdu-1">20</a></p>
<p>6.2.3.1 Control PDU for flow control feedback <a
href="#control-pdu-for-flow-control-feedback">20</a></p>
<p>6.2.3.2 Control PDU for flow control polling <a
href="#control-pdu-for-flow-control-polling">21</a></p>
<p>6.2.3.3 Control PDU for BH RLF indication <a
href="#control-pdu-for-bh-rlf-indication">21</a></p>
<p>6.2.3.4 Control PDU for BH RLF detection indication <a
href="#control-pdu-for-bh-rlf-detection-indication">21</a></p>
<p>6.2.3.5 Control PDU for BH RLF recovery indication <a
href="#control-pdu-for-bh-rlf-recovery-indication">22</a></p>
<p>6.3 Parameters <a href="#parameters">22</a></p>
<p>6.3.1 General <a href="#general-3">22</a></p>
<p>6.3.2 DESTINATION <a href="#destination">22</a></p>
<p>6.3.3 PATH <a href="#path">22</a></p>
<p>6.3.4 Data <a href="#data">22</a></p>
<p>6.3.5 R <a href="#r">22</a></p>
<p>6.3.6 D/C <a href="#dc">22</a></p>
<p>6.3.7 PDU type <a href="#pdu-type">23</a></p>
<p>6.3.8 BH RLC channel ID <a href="#bh-rlc-channel-id">23</a></p>
<p>6.3.9 BAP Routing ID <a href="#bap-routing-id">23</a></p>
<p>6.3.10 Available Buffer Size <a
href="#available-buffer-size">23</a></p>
<p>Annex A (informative): Change history <a
href="#annex-a-informative-change-history">24</a></p>
<h1 id="foreword">Foreword</h1>
<p>This Technical Specification has been produced by the 3rd Generation
Partnership Project (3GPP).</p>
<p>The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:</p>
<p>Version x.y.z</p>
<p>where:</p>
<p>x the first digit:</p>
<p>1 presented to TSG for information;</p>
<p>2 presented to TSG for approval;</p>
<p>3 or greater indicates TSG approved document under change
control.</p>
<p>y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.</p>
<p>z the third digit is incremented when editorial only changes have
been incorporated in the document.</p>
<p>In the present document, certain modal verbs have the following
meanings:</p>
<p><strong>shall</strong> indicates a mandatory requirement to do
something</p>
<p><strong>shall not</strong> indicates an interdiction (prohibition) to
do something</p>
<p>NOTE 1: The constructions "shall" and "shall not" are confined to the
context of normative provisions, and do not appear in Technical
Reports.</p>
<p>NOTE 2: The constructions "must" and "must not" are not used as
substitutes for "shall" and "shall not". Their use is avoided insofar as
possible, and they are not used in a normative context except in a
direct citation from an external, referenced, non-3GPP document, or so
as to maintain continuity of style when extending or modifying the
provisions of such a referenced document.</p>
<p><strong>should</strong> indicates a recommendation to do
something</p>
<p><strong>should not</strong> indicates a recommendation not to do
something</p>
<p><strong>may</strong> indicates permission to do something</p>
<p><strong>need not</strong> indicates permission not to do
something</p>
<p>NOTE 3: The construction "may not" is ambiguous and is not used in
normative elements. The unambiguous constructions "might not" or "shall
not" are used instead, depending upon the meaning intended.</p>
<p><strong>can</strong> indicates that something is possible</p>
<p><strong>cannot</strong> indicates that something is impossible</p>
<p>NOTE 4: The constructions "can" and "cannot" shall not to be used as
substitutes for "may" and "need not".</p>
<p><strong>will</strong> indicates that something is certain or expected
to happen as a result of action taken by an agency the behaviour of
which is outside the scope of the present document</p>
<p><strong>will not</strong> indicates that something is certain or
expected not to happen as a result of action taken by an agency the
behaviour of which is outside the scope of the present document</p>
<p><strong>might</strong> indicates a likelihood that something will
happen as a result of action taken by some agency the behaviour of which
is outside the scope of the present document</p>
<p><strong>might not</strong> indicates a likelihood that something will
not happen as a result of action taken by some agency the behaviour of
which is outside the scope of the present document</p>
<p>In addition:</p>
<p><strong>is</strong> (or any other verb in the indicative mood)
indicates a statement of fact</p>
<p><strong>is not</strong> (or any other negative verb in the indicative
mood) indicates a statement of fact</p>
<p>NOTE 5: The constructions "is" and "is not" do not indicate
requirements.</p>
<h1 id="scope"><br />
1 Scope</h1>
<p>The present document provides description of the Backhaul Adaptation
Protocol (BAP).</p>
<h1 id="references">2 References</h1>
<p>The following documents contain provisions which, through reference
in this text, constitute provisions of the present document.</p>
<p>- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.</p>
<p>- For a specific reference, subsequent revisions do not apply.</p>
<p>- For a non-specific reference, the latest version applies. In the
case of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document <em>in the same Release as the present document</em>.</p>
<p>[1] 3GPP TR 21.905: "Vocabulary for 3GPP Specifications".</p>
<p>[2] 3GPP TS 38.300: "NG Radio Access Network; Overall
description".</p>
<p>[3] 3GPP TS 38.331: "NR Radio Resource Control (RRC); Protocol
Specification".</p>
<p>[4] 3GPP TS 38.322: "NR Radio Link Control (RLC) protocol
specification".</p>
<p>[5] 3GPP TS 38.473: "NG-RAN F1 application protocol (F1AP) protocol
specification".</p>
<p>[6] 3GPP TS 38.401: "NG-RAN; Architecture description".</p>
<h1 id="definitions-of-terms-symbols-and-abbreviations">3 Definitions of
terms, symbols and abbreviations</h1>
<h2 id="terms">3.1 Terms</h2>
<p>For the purposes of the present document, the terms given in TR
21.905 [1] and the following apply. A term defined in the present
document takes precedence over the definition of the same term, if any,
in TR 21.905 [1].</p>
<p><strong>BH RLC channel:</strong> an RLC channel between two nodes,
which is used to transport backhaul packets, as defined in TS 38.300
[2]<strong>.</strong></p>
<p><strong>Boundary IAB-node</strong>: an IAB-node with one RRC
interface terminating at a different IAB-donor-CU than the F1 interface,
as defined in TS 38.401 [6].</p>
<p><strong>Egress BH RLC channel:</strong> a BH RLC channel on which a
packet is transmitted by a node.</p>
<p><strong>Egress link</strong>: a radio link on which a packet is
transmitted by a node.</p>
<p><strong>F1-terminating donor</strong>: refers to the IAB-donor that
terminates F1 for the boundary IAB-node, as defined in TS 38.401
[6].</p>
<p><strong>IAB-donor</strong>: as defined in TS 38.300 [2].</p>
<p><strong>IAB-donor-DU</strong>: as defined in TS 38.401 [6].</p>
<p><strong>IAB-node</strong>: as defined in TS 38.300 [2].</p>
<p><strong>Ingress BH RLC channel:</strong> a BH RLC channel on which a
packet is received by a node.</p>
<p><strong>Ingress link</strong>: a radio link on which a packet is
received by a node.</p>
<p><strong>Non-F1-terminating donor</strong>: refers to the IAB-donor
that has an RRC connection with the boundary node but does not terminate
F1 with this boundary IAB-node, as defined in TS 38.401 [6].</p>
<h2 id="abbreviations">3.2 Abbreviations</h2>
<p>For the purposes of the present document, the abbreviations given in
TR 21.905 [1] and the following apply. An abbreviation defined in the
present document takes precedence over the definition of the same
abbreviation, if any, in TR 21.905 [1].</p>
<p>BH Backhaul</p>
<p>DSCP Differentiated Services Code Point</p>
<p>IAB Integrated Access and Backhaul</p>
<p>MT Mobile Termination</p>
<p>TEID Tunnel Endpoint Identifier</p>
<h1 id="general">4 General</h1>
<h2 id="introduction">4.1 Introduction</h2>
<p>The present document describes the functionalities of BAP.</p>
<h2 id="architecture">4.2 Architecture</h2>
<h3 id="bap-structure">4.2.1 BAP structure</h3>
<p>Figure 4.2.1-1 represents one possible structure for the BAP
sublayer; it should not restrict implementation. The figure is based on
the radio interface protocol architecture defined in TS 38.300 [2].</p>
<p><img src="media/image3.svg" /></p>
<p>Figure 4.2.1-1: BAP layer, structure view</p>
<p>The BAP sublayer is configured by upper layers TS 38.331 [3] and TS
38.473 [5].</p>
<h3 id="bap-entities">4.2.2 BAP entities</h3>
<p>On the IAB-node, the BAP sublayer contains one BAP entity at the MT
function and a separate collocated BAP entity at the DU function. On the
IAB-donor-DU, the BAP sublayer contains only one BAP entity. Each BAP
entity has a transmitting part and a receiving part.</p>
<p>NOTE: The modelling of BAP entities does not restrict internal
implementation of IAB-nodes, i.e. the exact modelling of BAP sublayer
may vary for different IAB-node implementations.</p>
<p>The transmitting part of the BAP entity has a corresponding receiving
part of a BAP entity at the IAB-node or IAB-donor-DU across the BH
link.</p>
<p>Figure 4.2.2-1 shows one example of the functional view of the BAP
sublayer. This functional view should not restrict implementation. The
figure is based on the radio interface protocol architecture defined in
TS 38.300 [2].</p>
<p>In the example of Figure 4.2.2-1, the receiving part on the BAP
entity delivers BAP PDUs to the transmitting part on the collocated BAP
entity. Alternatively, the receiving part may deliver BAP SDUs to the
collocated transmitting part. When passing BAP SDUs, the receiving part
removes the BAP header and the transmitting part adds the BAP header
with the same BAP header content as carried on the BAP PDU header prior
to removal. Passing BAP SDUs in this manner is therefore functionally
equivalent to passing BAP PDUs, in implementation. The following
specification therefore refers to the passing of BAP Data Packets.</p>
<p>Besides, BAP entity generates, delivers/receives BAP Control PDU(s)
as described in clause 6.1.2. BAP Control PDU can only be exchanged
between peer BAP entities across the BH link.</p>
<p>In addition to the functions shown in Figure 4.2.2-1, the
transmitting part of the BAP entity may perform BAP header rewriting
operation, in accordance with clause 5.2.1.</p>
<p><img src="media/image4.svg" /></p>
<p>Figure 4.2.2-1. Example of functional view of BAP sublayer</p>
<h2 id="services">4.3 Services</h2>
<h3 id="services-provided-to-upper-layers">4.3.1 Services provided to
upper layers</h3>
<p>The following services are provided by the BAP sublayer to upper
layers:</p>
<p>- data transfer.</p>
<h3 id="services-expected-from-lower-layers">4.3.2 Services expected
from lower layers</h3>
<p>A BAP sublayer expects the following services from lower layers per
RLC entity (for a detailed description see TS 38.322 [4]):</p>
<p>- acknowledged data transfer service;</p>
<p>- unacknowledged data transfer service.</p>
<h2 id="functions">4.4 Functions</h2>
<p>The BAP sublayer supports the following functions:</p>
<p>- Data transfer;</p>
<p>- Determination of BAP destination and path for packets from upper
layers;</p>
<p>- Determination of egress BH RLC channels for packets routed to next
hop;</p>
<p>- Routing of packets to next hop;</p>
<p>- BAP header rewriting;</p>
<p>- Differentiating traffic to be delivered to upper layers from
traffic to be delivered to egress link;</p>
<p>- Flow control feedback and polling signalling;</p>
<p>- Handling of BH RLF related indications;</p>
<h2 id="configurations">4.5 Configurations</h2>
<p>The configuration of the BAP entity includes:</p>
<p>- The IAB-node's BAP address(es) via RRC.</p>
<p>- The IAB-donor-DU's BAP address via F1AP.</p>
<p>- Mapping from next hop BAP address to downstream egress link via
F1AP.</p>
<p>- Mapping from next hop BAP address to upstream egress link via
RRC.</p>
<p>- Mapping from upper layer traffic to BAP routing ID in BAP header
via F1AP and RRC.</p>
<p>- The BAP routing entries via F1AP.</p>
<p>- Mapping to egress BH RLC channels via F1AP and RRC.</p>
<p>- Flow control feedback type(s) to be provided, if any, via RRC.</p>
<p>- Inter-donor-DU re-routing enabling/disabling via F1AP.</p>
<p>BH RLC channels are configured via RRC on the IAB-MT, and via F1AP on
the IAB-DU/IAB-donor-DU.</p>
<p>For F1AP configurations, the following mapping, which are derived
from the original F1AP signaling, are used in procedure:</p>
<p>- Uplink Traffic to Routing ID Mapping Configuration.</p>
<p>- Downlink Traffic to Routing ID Mapping Configuration.</p>
<p>- BH Routing Configuration.</p>
<p>- BH RLC Channel Mapping Configuration.</p>
<p>- Uplink Traffic to BH RLC Channel Mapping Configuration.</p>
<p>- Downlink Traffic to BH RLC Channel Mapping Configuration.</p>
<p>- Header Rewriting Configuration.</p>
<h1 id="procedures">5 Procedures</h1>
<h2 id="bap-entity-handling">5.1 BAP entity handling</h2>
<h3 id="bap-entity-establishment">5.1.1 BAP entity establishment</h3>
<p>When upper layers request establishment of a BAP entity, the node
shall:</p>
<p>- establish a BAP entity;</p>
<p>- follow the procedures in clause 5.</p>
<h3 id="bap-entity-release">5.1.2 BAP entity release</h3>
<p>When upper layers request release of a BAP entity, the node
shall:</p>
<p>- release the BAP entity and the related BAP configurations.</p>
<h2 id="data-transfer">5.2 Data transfer</h2>
<h3 id="transmitting-operation">5.2.1 Transmitting operation</h3>
<h4 id="general-1">5.2.1.1 General</h4>
<p>The transmitting part of the BAP entity on the IAB-MT can receive BAP
SDUs from upper layers and BAP Data Packets from the receiving part of
the BAP entity on the IAB-DU of the same IAB-node, and construct BAP
Data PDUs as needed (see clause 4.2.2). The transmitting part of the BAP
entity on the IAB-DU can receive BAP Data Packets from the receiving
part of the BAP entity on the IAB-MT of the same IAB-node, and construct
BAP Data PDUs as needed (see clause 4.2.2). The transmitting part of the
BAP entity on the IAB-donor-DU can receive BAP SDUs from upper layers,
and construct BAP Data PDUs as needed (see clause 4.2.2).</p>
<p>Upon receiving a BAP SDU from upper layers, the transmitting part of
the BAP entity shall:</p>
<p>- select a BAP address and a BAP path identity for this BAP SDU in
accordance with clause 5.2.1.2;</p>
<p>- construct a BAP Data PDU by adding a BAP header to the BAP SDU,
where the DESTINATION field is set to the selected BAP address and the
PATH field is set to the selected BAP path identity, in accordance with
clause 6.2.2;</p>
<p>When the BAP entity has a BAP Data PDU to transmit, the transmitting
part of the BAP entity shall:</p>
<p>- for the boundary IAB-node, if the BAP Data PDU is received from the
collocated BAP entity, perform the BAP header rewriting operation (if
configured) in accordance with clause 5.2.1.5;</p>
<p>- perform routing to determine the egress link in accordance with
clause 5.2.1.3;</p>
<p>- determine the egress BH RLC channel in accordance with clause
5.2.1.4;</p>
<p>- submit this BAP Data PDU to the selected egress BH RLC channel of
the selected egress link.</p>
<p>NOTE: Data buffering on the transmitting part of the BAP entity,
e.g., until RLC-AM entity has received an acknowledgement, is up to
implementation. In case of BH RLF, the transmitting part of the BAP
entity may reroute the BAP Data PDUs, which has not been acknowledged by
lower layer before the BH RLF, to an alternative path in accordance with
clause 5.2.1.3.</p>
<h4 id="bap-routing-id-selection">5.2.1.2 BAP routing ID selection</h4>
<h5 id="bap-routing-id-selection-at-iab-node">5.2.1.2.1 BAP routing ID
selection at IAB-node</h5>
<p>At an IAB-node, for a BAP SDU received from upper layers and to be
transmitted in upstream direction, the BAP entity performs mapping to a
BAP address and BAP path identity based on:</p>
<p>- Uplink Traffic to Routing ID Mapping Configuration, which is
derived from F1AP on the IAB-node in TS 38.473 [5],</p>
<p>- <em>defaultUL-BAP-RoutingID</em>, which is configured by RRC on the
IAB-node in TS 38.331[3].</p>
<p>Each entry of the Uplink Traffic to Routing ID Mapping Configuration
contains:</p>
<p>- a traffic type specifier, which is indicated by <em>UL UP TNL
Information</em> IE for F1-U packets and <em>Non-UP Traffic Type</em> IE
for non-F1-U packets in TS 38.473 [5],</p>
<p>- a BAP routing ID, which includes a BAP address and a BAP path
identity, indicated by <em>BAP Routing ID</em> IE in <em>BH
Information</em> IE in TS 38.473 [5], and</p>
<p>- a Topology indicator, indicating whether the BAP routing ID belongs
to the non-F1-terminating donor topology, which is optionally indicated
by <em>Non-F1-terminating IAB-donor Topology Indicator</em> IE.</p>
<p>At the IAB-node, for a BAP SDU received from upper layers and to be
transmitted in upstream direction, the BAP entity shall:</p>
<p>- if the Uplink Traffic to Routing ID Mapping Configuration has not
been (re)configured by F1AP after the last (re)configuration of
<em>defaultUL-BAP-RoutingID</em> by RRC:</p>
<p>- select the BAP address and the BAP path identity as configured by
<em>defaultUL-BAP-RoutingID</em> in TS 38.331 [3] for non-F1-U
packets;</p>
<p>- else:</p>
<p>- for the BAP SDU encapsulating an F1-U packet:</p>
<p>- select an entry from the Uplink Traffic to Routing ID Mapping
Configuration with its traffic type specifier corresponds to the
destination IP address and TEID of this BAP SDU;</p>
<p>- for the BAP SDU encapsulating a non-F1-U packet:</p>
<p>- select an entry from the Uplink Traffic to Routing ID Mapping
Configuration with its traffic type specifier corresponds to the traffic
type of this BAP SDU;</p>
<p>- select the BAP address and the BAP path identity from the BAP
routing ID in the entry selected above;</p>
<p>- if the selected entry is configured with <em>Non-F1-terminating
IAB-donor Topology Indicator</em> IE:</p>
<p>- consider this BAP Data PDU as data to be routed to
non-F1-terminating donor topology.</p>
<p>NOTE: Uplink Traffic to Routing ID Mapping Configuration may contain
multiple entries for F1-C traffic. It is up to IAB node's implementation
to decide which entry is selected.</p>
<h5 id="bap-routing-id-selection-at-iab-donor-du">5.2.1.2.2 BAP routing
ID selection at IAB-donor-DU</h5>
<p>For a BAP SDU received from upper layer at the IAB-donor-DU, the BAP
entity performs mapping to a BAP address and a BAP Path identity based
on:</p>
<p>- Downlink Traffic to Routing ID Mapping Configuration, which is
derived from <em>IP-to-layer-2 traffic mapping Information List</em> IE
configured on the IAB-donor-DU in TS 38.473 [5].</p>
<p>Each entry of the Downlink Traffic to Routing ID Mapping
Configuration contains:</p>
<p>- a destination IP address, which is indicated by <em>Destination IAB
TNL Address</em> IE in <em>IP header information</em> IE, including an
IPv4 address or IPv6 address or an IPv6 address prefix,</p>
<p>- an IPv6 flow label, if configured, which is indicated by <em>IPv6
Flow Label</em> IE in <em>IP header information</em> IE,</p>
<p>- a DSCP, if configured, which is indicated by <em>DSCP</em> IE in
<em>DS Information List</em> IE in <em>IP header information</em> IE,
and</p>
<p>- a BAP routing ID, which is indicated by <em>BAP Routing ID</em> IE
in <em>BH Information</em> IE in TS 38.473 [5].</p>
<p>At the IAB-donor-DU, for a BAP SDU received from upper layers and to
be transmitted in downstream direction, the BAP entity shall:</p>
<p>- for the BAP SDU encapsulating an IPv6 packet:</p>
<p>- select an entry from the Downlink Traffic to Routing ID Mapping
Configuration which fulfils the following conditions:</p>
<p>- the Destination IP address of this BAP SDU matches the destination
IP address in this entry; and</p>
<p>- the IPv6 Flow Label of this BAP SDU matches IPv6 flow label in this
entry if configured; and</p>
<p>- the DSCP of this BAP SDU matches DSCP in this entry if
configured;</p>
<p>- for the BAP SDU encapsulating an IPv4 packet:</p>
<p>- select an entry from the Downlink Traffic to Routing ID Mapping
Configuration which fulfils the following conditions:</p>
<p>- the Destination IP address of this BAP SDU matches the destination
IP address in this entry; and</p>
<p>- the DSCP of this BAP SDU matches DSCP in this entry if
configured;</p>
<p>- select the BAP address and the BAP path identity from the BAP
routing ID in the entry selected above;</p>
<h4 id="routing">5.2.1.3 Routing</h4>
<p>The BAP entity performs routing based on:</p>
<p>- the BH Routing Configuration derived from an F1AP message as
specified in TS 38.473 [5].</p>
<p>Each entry of the BH Routing Configuration contains:</p>
<p>- a BAP Routing ID consisting of a BAP address and a BAP path
identity, which is indicated by <em>BAP Routing ID</em> IE,</p>
<p>- a Next Hop BAP Address which is indicated by <em>Next-Hop BAP
Address</em> IE, and</p>
<p>- a Topology indicator, indicating whether the entry belongs to the
non-F1-terminating donor topology, which is optionally indicated by
<em>Non-F1-terminating IAB-donor Topology Indicator</em> IE.</p>
<p>In the BH Routing Configuration, the entry configured with
<em>Non-F1-terminating IAB-donor Topology Indicator</em> IE applies to
the BAP Data PDU considered as data to be routed to non-F1-terminating
donor topology, and the entry not configured with <em>Non-F1-terminating
IAB-donor Topology Indicator</em> IE only applies to the BAP Data PDU
not considered as data to be routed to non-F1-terminating donor
topology.</p>
<p>For a BAP Data PDU to be transmitted, BAP entity shall:</p>
<p>- if the BAP Data PDU corresponds to a BAP SDU received from the
upper layer, and</p>
<p>- if the BH Routing Configuration has not been (re)configured by F1AP
after the last (re)configuration of <em>defaultUL-BH-RLC-Channel</em> by
RRC:</p>
<p>- select the egress link on which the egress BH RLC channel
corresponding to <em>defaultUL-BH-RLC-Channel</em> is configured as
specified in TS 38.331 [3] for non-F1-U packets;</p>
<p>- else if there is an entry in the BH Routing Configuration whose BAP
address matches the DESTINATION field, whose BAP path identity is the
same as the PATH field, and whose egress link corresponding to the Next
Hop BAP Address is available:</p>
<p>- select the egress link corresponding to the Next Hop BAP Address of
the entry;</p>
<p>NOTE 1: An egress link is not considered to be available if the link
is in BH RLF.</p>
<p>NOTE 2: For each combination of a BAP address and a BAP path
identity, there should be at most one entry with the same Topology
indicator in the BH Routing Configuration. There could be multiple
entries of the same BAP address with the same Topology indicator in the
BH Routing Configuration.</p>
<p>NOTE 3: An egress link may not be considered available for a BH
Routing Configuration entry with a given BAP routing ID, if it is
determined as congested, e.g. based on the received flow control
feedback, as defined in clause 5.3.1.</p>
<p>- else if there is at least one entry in the BH Routing Configuration
whose BAP address matches the DESTINATION field, and whose egress link
corresponding to the Next Hop BAP Address is available:</p>
<p>- select an entry from the BH Routing Configuration whose BAP address
is the same as the DESTINATION field, and whose egress link
corresponding to the Next Hop BAP Address is available;</p>
<p>- select the egress link corresponding to the Next Hop BAP Address of
the entry selected above;</p>
<p>- else if, for the transmitting part of IAB-MT, at least one egress
link is available, and if <em>Re-routing Enable Indicator</em> IE is set
to true by F1AP:</p>
<p>- if this egress link belongs to F1-terminating donor topology of the
boundary IAB-node or the transmitting part of IAB-MT is not at the
boundary IAB-node, and there is an entry in the BH Routing Configuration
not configured with <em>Non-F1-terminating IAB-donor Topology
Indicator</em> IE whose Next Hop BAP Address corresponds to this egress
link, or</p>
<p>- if this egress link belongs to non-F1-terminating donor topology,
and there is an entry in the BH Routing Configuration configured with
<em>Non-F1-terminating IAB-donor Topology Indicator</em> IE whose Next
Hop BAP Address corresponds to this egress link:</p>
<p>- select the egress link;</p>
<p>- rewrite the BAP header of this BAP Data PDU, where the DESTINATION
field is set to the leftmost 10 bits of BAP Routing ID of the entry in
the BH Routing Configuration (i.e. BAP address), and the PATH field is
set to the rightmost 10 bits of BAP Routing ID of the entry (i.e. BAP
path identity).</p>
<h4 id="mapping-to-bh-rlc-channel">5.2.1.4 Mapping to BH RLC
Channel</h4>
<h5
id="mapping-to-bh-rlc-channel-for-bap-data-packets-from-collocated-bap-entity-at-iab-node">5.2.1.4.1
Mapping to BH RLC Channel for BAP Data Packets from collocated BAP
entity at IAB-node</h5>
<p>For a BAP Data Packet received from the collocated BAP entity, the
transmitting part of the BAP entity performs mapping to an egress BH RLC
channel based on:</p>
<p>- BH RLC Channel Mapping Configuration, which is derived from <em>BAP
layer BH RLC channel mapping Information List</em> IE, and optionally
together with the <em>Configured BAP address</em> IE and the <em>BH RLC
Channel to be Setup/Modified List</em> IE, as configured on the IAB-node
in TS 38.473 [5],</p>
<p>Each entry of the BH RLC Channel Mapping Configuration contains:</p>
<p>- an ingress link ID, which is indicated by <em>Prior-Hop BAP
Address</em> IE, or by the <em>Configured BAP address</em> IE in
UE-associated F1AP message for upstream, belonging to topology indicated
by <em>Ingress Non-F1-terminating IAB-donor Topology Indicator</em> IE
in F1AP if configured,</p>
<p>- an egress link ID, which is indicated by <em>Next-Hop BAP
Address</em> IE, or by the <em>Configured BAP address</em> IE in
UE-associated F1AP message for downstream, belonging to topology
indicated by <em>Egress Non-F1-terminating IAB-donor Topology
Indicator</em> IE in F1AP if configured,</p>
<p>- an ingress BH RLC channel ID, which is indicated by <em>Ingress BH
RLC CH ID</em> IE, or by the <em>BH RLC CH ID</em> IE in UE-associated
F1AP message for upstream, and,</p>
<p>- an egress BH RLC channel ID, which is indicated by <em>Egress BH
RLC CH ID</em> IE, or by the <em>BH RLC CH ID</em> IE in UE-associated
F1AP message for downstream.</p>
<p>For a BAP Data PDU received from an ingress BH RLC channel of an
ingress link and for which the egress link has been selected as
specified in clause 5.2.1.3:</p>
<p>- if there is an entry in the BH RLC Channel Mapping Configuration,
whose ingress BH RLC channel ID matches the BAP Data PDU's ingress BH
RLC channel, whose ingress link ID matches the BAP Data PDU's ingress
link, and whose egress link ID corresponds to the selected egress
link;</p>
<p>- select the egress BH RLC channel corresponding to egress BH RLC
channel ID of this entry;</p>
<p>- else:</p>
<p>- select any egress BH RLC channel on the selected egress link;</p>
<h5
id="mapping-to-bh-rlc-channel-for-bap-sdus-from-upper-layers-at-iab-node">5.2.1.4.2
Mapping to BH RLC Channel for BAP SDUs from upper layers at
IAB-node</h5>
<p>For a BAP SDU received from upper layers at the IAB-node, the BAP
entity performs mapping to an egress BH RLC channel based on:</p>
<p>- Uplink Traffic to BH RLC Channel Mapping Configuration, which is
derived from F1AP message, configured on the IAB-node in TS 38.473
[5],</p>
<p>- <em>defaultUL-BH-RLC-Channel</em>, which is configured by RRC on
the IAB-node in TS 38.331[3].</p>
<p>Each entry of the Uplink Traffic to BH RLC Channel Mapping
Configuration contains:</p>
<p>- a traffic type specifier, which is indicated by <em>UL UP TNL
Information</em> IE for F1-U packets or <em>Non-UP Traffic Type</em> IE
for non-F1-U packets in TS 38.473 [5],</p>
<p>- an egress link ID, which is indicated by <em>Next-Hop BAP
address</em> IE in <em>BH Information</em> IE in TS 38.473 [5],
belonging to topology indicated by <em>Egress Non-F1-terminating
IAB-donor Topology Indicator</em> IE in F1AP if configured, and</p>
<p>- an egress BH RLC channel ID, which is indicated by <em>BH RLC CH
ID</em> IE in <em>BH Information</em> IE in TS 38.473 [5].</p>
<p>For a BAP SDU received from upper layers at the IAB-node and to be
transmitted in upstream direction, whose egress link has been selected
as specified in clause 5.2.1.3, the BAP entity shall:</p>
<p>- if the Uplink Traffic to BH RLC Channel Mapping Configuration has
not been (re)configured by F1AP after the last (re)configuration of
<em>defaultUL-BH-RLC-Channel</em> by RRC:</p>
<p>- select the egress BH RLC channel corresponding to
<em>defaultUL-BH-RLC-Channel</em> configured in TS 38.331 [3] for
non-F1-U packets;</p>
<p>- else:</p>
<p>- for the BAP SDU encapsulating an F1-U packet:</p>
<p>- if there is an entry in the Uplink Traffic to BH RLC Channel
Mapping Configuration with its traffic type specifier corresponds to the
destination IP address and TEID of this BAP SDU and its egress link ID
corresponding to the selected egress link;</p>
<p>- select the egress BH RLC channel corresponding to the egress BH RLC
channel ID of this entry;</p>
<p>- else:</p>
<p>- select any egress BH RLC channel on the selected egress link;</p>
<p>- for the BAP SDU encapsulating a non-F1-U packet:</p>
<p>- if there is an entry from the Uplink Traffic to BH RLC Channel
Mapping Configuration with its traffic type specifier corresponds to the
traffic type of this BAP SDU and its egress link ID corresponding to the
selected egress link;</p>
<p>- select the egress BH RLC channel corresponding to the egress BH RLC
channel ID of this entry;</p>
<p>- else:</p>
<p>- select any egress BH RLC channel on the selected egress link;</p>
<p>NOTE: Uplink Traffic to BH RLC Channel Mapping Configuration may
contain multiple entries for F1-C traffic. It is up to IAB node's
implementation to decide which entry is selected, but the selected entry
has to match the BAP routing ID selected in 5.2.1.2.1, i.e. BAP routing
ID and BH RLC channel must be derived from the same <em>BH
Information</em> IE.</p>
<h5 id="mapping-to-bh-rlc-channel-at-iab-donor-du">5.2.1.4.3 Mapping to
BH RLC Channel at IAB-donor-DU</h5>
<p>For a BAP SDU received from upper layers at the IAB-donor-DU, the BAP
entity performs mapping to an egress BH RLC channel based on:</p>
<p>- Downlink Traffic to BH RLC Channel Mapping Configuration, which is
derived from <em>IP-to-layer-2 traffic mapping Information List</em> IE,
and optionally together with the <em>Configured BAP address IE and</em>
the <em>BH RLC Channel to be Setup/Modified List</em> IE, as configured
on the IAB-donor-DU in TS 38.473 [5].</p>
<p>Each entry of the Downlink Traffic to BH RLC Channel Mapping
Configuration contains:</p>
<p>- a destination IP address, which is indicated by <em>Destination IAB
TNL Address</em> IE in <em>IP header information</em> IE including an
IPv4 address or IPv6 address or an IPv6 address prefix,</p>
<p>- an IPv6 flow label, if configured, which is indicated by <em>IPv6
Flow Label</em> IE in <em>IP header information</em> IE,</p>
<p>- a DSCP, if configured, which is indicated by <em>DSCP</em> IE in
<em>DS Information List</em> IE in <em>IP header information</em>
IE,</p>
<p>- an egress link ID, which is indicated by <em>Next-Hop BAP
Address</em> IE in <em>BH Information</em> IE, or by the <em>Configured
BAP address</em> IE in UE-associated F1AP message, and</p>
<p>- an egress BH RLC channel ID, which is indicated by <em>Egress BH
RLC CH ID</em> IE in <em>BH Information</em> IE, or by the <em>BH RLC CH
ID</em> IE in UE-associated F1AP message.</p>
<p>At the IAB-donor-DU, for a BAP SDU received from upper layers and to
be transmitted in downstream direction, whose egress link has been
selected as specified in clause 5.2.1.3, the BAP entity shall:</p>
<p>- for the BAP SDU encapsulating an IPv6 packet:</p>
<p>- if there is an entry in the Downlink Traffic to BH RLC Channel
Mapping Configuration with its egress link ID corresponding to the
selected egress link, and the entry fulfils the following
conditions:</p>
<p>- the Destination IP address of this BAP SDU matches the destination
IP address in this entry; and</p>
<p>- the IPv6 Flow Label of this BAP SDU matches IPv6 flow label in this
entry if configured; and</p>
<p>- the DSCP of this BAP SDU matches DSCP in this entry if
configured:</p>
<p>- select the egress BH RLC channel corresponding to egress BH RLC
channel ID of this entry;</p>
<p>- else:</p>
<p>- select any egress BH RLC channel on the selected egress link;</p>
<p>- for the BAP SDU encapsulating an IPv4 packet:</p>
<p>- if there is an entry in the Downlink Traffic to BH RLC Channel
Mapping Configuration with its egress link ID corresponding to the
selected egress link, and the entry fulfils the following
conditions:</p>
<p>- the Destination IP address of this BAP SDU matches the destination
IP address in this entry; and</p>
<p>- the DSCP of this BAP SDU matches DSCP in this entry if
configured:</p>
<p>- select the egress BH RLC channel corresponding to egress BH RLC
channel ID of this entry;</p>
<p>- else:</p>
<p>- select any egress BH RLC channel on the selected egress link;</p>
<p>5.2.1.5 BAP header rewriting operation</p>
<p>The BAP entity performs BAP header rewriting based on:</p>
<p>- the Header Rewriting Configuration derived from an F1AP message as
specified in TS 38.473 [5].</p>
<p>Each entry of the Header Rewriting Configuration contains:</p>
<p>- an Ingress Routing ID consisting of a BAP address and a BAP path
identity of the BAP Data PDU, which is indicated by <em>Ingress BAP
Routing ID</em> IE, and</p>
<p>- an Egress Routing ID consisting of a BAP address and a BAP path
identity of the BAP Data PDU, which is indicated by <em>Egress BAP
Routing ID</em> IE, and</p>
<p>- a Topology indicator, indicating whether the Egress Routing ID
belongs to the non-F1-terminating donor topology, which is optionally
indicated by <em>Non-F1-terminating IAB-donor Topology Indicator</em>
IE.</p>
<p>For each BAP Data PDU to be considered for BAP header rewriting, the
BAP entity shall:</p>
<p>- for the IAB-MT of boundary IAB-node, if there is an entry in the
Header Rewriting Configuration configured with <em>Non-F1-terminating
IAB-donor Topology Indicator</em> IE, whose BAP address of Ingress
Routing ID matches the DESTINATION field, and whose BAP path identity of
Ingress Routing ID matches the PATH field:</p>
<p>- rewrite the BAP header of this BAP Data PDU, where the DESTINATION
field is set to the leftmost 10 bits of Egress Routing ID of the entry
(i.e. BAP address), and the PATH field is set to the rightmost 10 bits
of Egress Routing ID of the entry (i.e. BAP path identity);</p>
<p>- consider this BAP Data PDU as data to be routed to
non-F1-terminating donor topology;</p>
<p>- for the IAB-DU of boundary IAB-node, if the ingress link of this
BAP Data PDU belongs to non-F1-terminating donor topology of the
boundary IAB-node; and</p>
<p>- if there is an entry in the Header Rewriting Configuration not
configured with <em>Non-F1-terminating IAB-donor Topology Indicator</em>
IE, whose BAP address of Ingress Routing ID matches the DESTINATION
field, and whose BAP path identity of Ingress Routing ID matches the
PATH field:</p>
<p>- rewrite the BAP header of this BAP Data PDU, where the DESTINATION
field is set to the leftmost 10 bits of Egress Routing ID of the entry
(i.e. BAP address), and the PATH field is set to the rightmost 10 bits
of Egress Routing ID of the entry (i.e. BAP path identity).</p>
<p>NOTE: In this specification, a BH link belongs to the topology of the
IAB-donor that provides the configuration of that BH link, as specified
in TS 38.331 [3].</p>
<h3 id="receiving-operation">5.2.2 Receiving operation</h3>
<p>Upon receiving a BAP Data PDU from lower layer (i.e. ingress BH RLC
channel), the receiving part of the BAP entity shall:</p>
<p>- if DESTINATION field of this BAP Data PDU matches the BAP address,
which is configured for this IAB-node by the IAB-donor providing this
ingress BH RLC channel configuration:</p>
<p>- remove the BAP header of this BAP Data PDU and deliver the BAP SDU
to upper layers;</p>
<p>- else:</p>
<p>- deliver the BAP Data Packet to the transmitting part of the
collocated BAP entity.</p>
<h2 id="flow-control">5.3 Flow control</h2>
<h3 id="flow-control-feedback">5.3.1 Flow control feedback</h3>
<h4 id="transmitting-operation-1">5.3.1.1 Transmitting operation</h4>
<p>For a link, the BAP entity at the IAB-MT shall:</p>
<p>- when a flow control feedback is triggered due to the buffer load
exceeding a certain level, or</p>
<p>- when a BAP Control PDU for flow control polling is received at the
receiving part, the transmitting part of this BAP entity shall:</p>
<p>- construct a BAP Control PDU for flow control feedback per BH RLC
channel, if configured by RRC, in accordance with clause 6.2.3;</p>
<p>- construct a BAP Control PDU for flow control feedback per BAP
routing ID, if configured by RRC, in accordance with clause 6.2.3;</p>
<p>- if the egress BH RLC channel for the BAP Control PDU is configured
as specified in TS 38.473 [5]:</p>
<p>- submit the BAP Control PDU(s) to the configured egress BH RLC
channel of the egress link, indicated by <em>Egress BH RLC CH ID</em> IE
in <em>BH Information</em> IE associated with <em>Non-UP Traffic
Type</em> IE set to <em>BAP control PDU</em> in TS 38.473 [5];</p>
<p>- else:</p>
<p>- submit the BAP Control PDU(s) to any egress BH RLC channel of the
egress link.</p>
<p>NOTE: The BH RLC channel(s) and BAP routing ID(s) to be included in
the flow control feedback is up to IAB node implementation, once
triggered.</p>
<h4 id="receiving-operation-1">5.3.1.2 Receiving operation</h4>
<p>For a link, upon receiving a BAP Control PDU for flow control
feedback per BAP routing ID from lower layer, the BAP entity at the
IAB-DU or IAB-donor-DU may:</p>
<p>- if the available buffer size as indicated by the received BAP
Control PDU for flow control feedback per BAP routing ID is less than
the <em>Buffer Size Threshold</em> IE, configured by F1AP in TS 38.473
[5]:</p>
<p>- consider the BH link as congested for this BAP routing ID (for
routing defined in accordance with clause 5.2.1.3).</p>
<h3 id="flow-control-polling">5.3.2 Flow control polling</h3>
<p>When a flow control polling is to be transmitted over an egress link,
the transmitting part of the BAP entity at the IAB-DU or
IAB-donor-DU:</p>
<p>- construct a BAP Control PDU for flow control polling in accordance
with clause 6.2.3:</p>
<p>- if the egress BH RLC channel for the BAP Control PDU is configured
as specified in TS 38.473 [5]:</p>
<p>- submit this BAP Control PDU to the configured egress BH RLC channel
of the egress link, indicated by <em>BH RLC CH ID</em> IE which is
associated with <em>BAP Control PDU Channel</em> IE that is set to true
in TS 38.473[5];</p>
<p>- else:</p>
<p>- submit this BAP Control PDU to any egress BH RLC channel of the
egress link.</p>
<h2 id="bh-rlf-related-indications">5.4 BH RLF related indications</h2>
<h3 id="transmitting-operation-2">5.4.1 Transmitting operation</h3>
<p>When a BH RLF recovery failure is detected at the IAB-MT, for each
egress link associated with the IAB-DU, the transmitting part of the
collocated BAP entity at the IAB-DU may:</p>
<p>- construct a BAP Control PDU for BH RLF indication in accordance
with clause 6.2.3.3;</p>
<p>When BH RLF(s) occur at the IAB-MT on all the link(s) providing F1
interface over BAP, for each egress link associated with the IAB-DU, the
transmitting part of the collocated BAP entity at the IAB-DU may:</p>
<p>- construct a BAP Control PDU for BH RLF detection indication in
accordance with clause 6.2.3.4;</p>
<p>When BH RLF recovery is successful at the IAB-MT, for each egress
link associated with the IAB-DU on which a BAP Control PDU for BH RLF
detection indication was transmitted, the transmitting part of the
collocated BAP entity at the IAB-DU shall:</p>
<p>- construct a BAP Control PDU for BH RLF recovery indication in
accordance with clause 6.2.3.5;</p>
<p>For any constructed BAP Control PDU above, the BAP entity shall:</p>
<p>- if the egress BH RLC channel for the BAP control PDU is configured
as specified in TS 38.473 [5]:</p>
<p>- submit this BAP Control PDU to the configured egress BH RLC channel
of the egress link, indicated by <em>BH RLC CH ID</em> IE which is
associated with <em>BAP Control PDU Channel</em> that is set to true in
TS 38.473 [5];</p>
<p>- else:</p>
<p>- submit this BAP Control PDU to any egress BH RLC channel of the
egress link.</p>
<h3 id="receiving-operation-2">5.4.2 Receiving operation</h3>
<p>Upon receiving a BAP Control PDU for BH RLF indication from lower
layer (i.e. ingress BH RLC channel), the receiving part of the BAP
entity shall:</p>
<p>- indicate to upper layers that the BH RLF indication has been
received for the ingress link where this BAP Control PDU is
received.</p>
<p>Upon receiving a BAP Control PDU for BH RLF detection indication from
lower layer (i.e. ingress BH RLC channel), the receiving part of the BAP
entity shall:</p>
<p>- consider the BH link, from which this BAP Control PDU is received,
as not available (for routing defined in accordance with clause
5.2.1.3).</p>
<p>Upon receiving a BAP Control PDU for BH RLF recovery indication from
lower layer (i.e. ingress BH RLC channel), the receiving part of the BAP
entity shall:</p>
<p>- consider the BH link, from which this BAP Control PDU is received,
to be available again (for routing defined in accordance with clause
5.2.1.3).</p>
<h2 id="handling-of-unknown-unforeseen-and-erroneous-protocol-data">5.5
Handling of unknown, unforeseen, and erroneous protocol data</h2>
<p>When a BAP Data PDU contains a BAP address which is not included in
the applied entries of BH Routing Configuration during Routing operation
in accordance with clause 5.2.1.3 and the BAP Data PDU contains a BAP
address which is not the BAP address of this node in accordance with
clause 5.2.2 upon receiving; or</p>
<p>when a BAP Control PDU that contains reserved or invalid values is
received the BAP entity shall:</p>
<p>- discard the received BAP PDU.</p>
<h1 id="protocol-data-units-formats-and-parameters">6 Protocol data
units, formats, and parameters</h1>
<h2 id="protocol-data-units">6.1 Protocol data units</h2>
<h3 id="data-pdu">6.1.1 Data PDU</h3>
<p>The BAP Data PDU is used to convey one of the following in addition
to the PDU header:</p>
<p>- upper layer data.</p>
<h3 id="control-pdu">6.1.2 Control PDU</h3>
<p>The BAP Control PDU is used to convey one of the following in
addition to the PDU header:</p>
<p>- flow control feedback per BH RLC channel;</p>
<p>- flow control feedback per BAP routing ID;</p>
<p>- flow control polling;</p>
<p>- BH RLF related indication;</p>
<h2 id="formats">6.2 Formats</h2>
<h3 id="general-2">6.2.1 General</h3>
<p>A BAP PDU is a bit string that is byte aligned (i.e. multiple of 8
bits) in length. The formats of BAP PDUs are described in clause 6.2.2,
6.2.3 and their parameters are described in clause 6.3.</p>
<h3 id="data-pdu-1">6.2.2 Data PDU</h3>
<p>Figure 6.2.2-1 shows the format of the BAP Data PDU.</p>
<p><img src="media/image5.svg" /></p>
<p>Figure 6.2.2-1: BAP Data PDU format</p>
<h3 id="control-pdu-1">6.2.3 Control PDU</h3>
<h4 id="control-pdu-for-flow-control-feedback">6.2.3.1 Control PDU for
flow control feedback</h4>
<p>Figure 6.2.3.1-1 and 6.2.3.1-2 show the formats of the BAP Control
PDU for flow control feedback.</p>
<p><img src="media/image6.svg" /></p>
<p>Figure 6.2.3.1-1: BAP Control PDU format for flow control feedback
per BH RLC channel</p>
<p><img src="media/image7.svg" /></p>
<p>Figure 6.2.3.1-2: BAP Control PDU format for flow control feedback
per BAP routing ID</p>
<h4 id="control-pdu-for-flow-control-polling">6.2.3.2 Control PDU for
flow control polling</h4>
<p>Figure 6.2.3.2-1 shows the formats of the BAP Control PDU for flow
control polling.</p>
<p><img src="media/image8.svg" /></p>
<p>Figure 6.2.3.2-1: BAP Control PDU format for flow control feedback
polling</p>
<h4 id="control-pdu-for-bh-rlf-indication">6.2.3.3 Control PDU for BH
RLF indication</h4>
<p>Figure 6.2.3.3-1 shows the format of the BAP Control PDU for BH RLF
indication.</p>
<p><img src="media/image9.svg" /></p>
<p>Figure 6.2.3.3-1: BAP Control PDU format for BH RLF indication</p>
<h4 id="control-pdu-for-bh-rlf-detection-indication">6.2.3.4 Control PDU
for BH RLF detection indication</h4>
<p>Figure 6.2.3.4-1 shows the format of the BAP Control PDU for BH RLF
detection indication.</p>
<p><img src="media/image9.svg" /></p>
<p>Figure 6.2.3.4-1: BAP Control PDU format for BH RLF detection
indication</p>
<h4 id="control-pdu-for-bh-rlf-recovery-indication">6.2.3.5 Control PDU
for BH RLF recovery indication</h4>
<p>Figure 6.2.3.5-1 shows the format of the BAP Control PDU for BH RLF
recovery indication.</p>
<p><img src="media/image9.svg" /></p>
<p>Figure 6.2.3.5-1: BAP Control PDU format for BH RLF recovery
indication</p>
<h2 id="parameters">6.3 Parameters</h2>
<h3 id="general-3">6.3.1 General</h3>
<p>If not otherwise mentioned in the definition of each field, the bits
in the parameters shall be interpreted as follows: the left most bit
string is the first and most significant and the right most bit is the
last and least significant bit.</p>
<p>Unless otherwise mentioned, integers are encoded in standard binary
encoding for unsigned integers. In all cases the bits appear ordered
from MSB to LSB when read in the PDU.</p>
<h3 id="destination">6.3.2 DESTINATION</h3>
<p>Length: 10 bits.</p>
<p>This field carries the BAP address of the destination IAB-node or
IAB-donor-DU.</p>
<h3 id="path">6.3.3 PATH</h3>
<p>Length: 10 bits.</p>
<p>This field carries the BAP path identity.</p>
<h3 id="data">6.3.4 Data</h3>
<p>Length: Variable</p>
<p>This field carries the BAP SDU (i.e. IP packet).</p>
<h3 id="r">6.3.5 R</h3>
<p>Length: 1 bit</p>
<p>Reserved. In this version of the specification reserved bits shall be
set to 0. Reserved bits shall be ignored by the receiver.</p>
<h3 id="dc">6.3.6 D/C</h3>
<p>Length: 1 bit</p>
<p>This field indicates whether the corresponding BAP PDU is a BAP Data
PDU or a BAP Control PDU.</p>
<p>Table 6.3.6-1: D/C field</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<tbody>
<tr>
<td>Bit</td>
<td>Description</td>
</tr>
<tr>
<td>0</td>
<td>BAP Control PDU</td>
</tr>
<tr>
<td>1</td>
<td>BAP Data PDU</td>
</tr>
</tbody>
</table>
<h3 id="pdu-type">6.3.7 PDU type</h3>
<p>Length: 4 bits</p>
<p>This field indicates the type of control information included in the
corresponding BAP Control PDU.</p>
<p>Table 6.3.7-1: PDU type</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<tbody>
<tr>
<td>Bit</td>
<td>Description</td>
</tr>
<tr>
<td>0000</td>
<td>Flow control feedback per BH RLC channel</td>
</tr>
<tr>
<td>0001</td>
<td>Flow control feedback per BAP routing ID</td>
</tr>
<tr>
<td>0010</td>
<td>Flow control feedback polling</td>
</tr>
<tr>
<td>0011</td>
<td>BH RLF indication</td>
</tr>
<tr>
<td>0100</td>
<td>BH RLF detection indication</td>
</tr>
<tr>
<td>0101</td>
<td>BH RLF recovery indication</td>
</tr>
<tr>
<td>0110-1111</td>
<td>Reserved</td>
</tr>
</tbody>
</table>
<h3 id="bh-rlc-channel-id">6.3.8 BH RLC channel ID</h3>
<p>Length: 16 bits.</p>
<p>This field indicates the identity of the BH RLC channel whose flow
control information is provided in the flow control feedback.</p>
<h3 id="bap-routing-id">6.3.9 BAP Routing ID</h3>
<p>Length: 20 bits.</p>
<p>This field indicates BAP routing identity, for which the flow control
information is provided in the flow control feedback. It contains the
BAP address in the leftmost 10 bits and the BAP path identity in the
rightmost 10 bits.</p>
<h3 id="available-buffer-size">6.3.10 Available Buffer Size</h3>
<p>Length: 24 bits.</p>
<p>This field indicates the maximum traffic volume the transmitter
should send. The unit is kilobyte.</p>
<p class="heading" id="annex-a-informative-change-history"><br />
Annex A (informative):<br />
Change history</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 10%" />
<col style="width: 5%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 52%" />
<col style="width: 7%" />
</colgroup>
<tbody>
<tr>
<td colspan="8">Change history</td>
</tr>
<tr>
<td><strong>Date</strong></td>
<td><strong>Meeting</strong></td>
<td><strong>TDoc</strong></td>
<td><strong>CR</strong></td>
<td><strong>Rev</strong></td>
<td><strong>Cat</strong></td>
<td><strong>Subject/Comment</strong></td>
<td><strong>New version</strong></td>
</tr>
<tr>
<td>10/2019</td>
<td style="text-align: left;">RAN2#107bis</td>
<td style="text-align: left;">R2-1914006</td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>skeleton</td>
<td style="text-align: left;">0.0.0</td>
</tr>
<tr>
<td>10/2019</td>
<td style="text-align: left;">RAN2#107bis</td>
<td style="text-align: left;">R2-1914008</td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>Captured agreements made before RAN2#107bis</td>
<td style="text-align: left;">0.1.0</td>
</tr>
<tr>
<td>02/2020</td>
<td style="text-align: left;">RAN2#109e</td>
<td style="text-align: left;">R2-2002113</td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>Captured agreements made in RAN2#108</td>
<td style="text-align: left;">0.3.0</td>
</tr>
<tr>
<td>03/2020</td>
<td style="text-align: left;">RAN2#109e</td>
<td style="text-align: left;">R2-2002345</td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>Captured agreements made in RAN2#109e</td>
<td style="text-align: left;">0.4.0</td>
</tr>
<tr>
<td>03/2020</td>
<td style="text-align: left;">RP-87</td>
<td style="text-align: left;">RP-200113</td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>Version submitted for approval in RAN#87-e</td>
<td style="text-align: left;">1.0.0</td>
</tr>
<tr>
<td>03/2020</td>
<td style="text-align: left;">RP-87</td>
<td style="text-align: left;"></td>
<td></td>
<td style="text-align: center;"></td>
<td></td>
<td>Updated to Rel-16</td>
<td style="text-align: left;">16.0.0</td>
</tr>
<tr>
<td>07/2020</td>
<td style="text-align: left;">RP-88</td>
<td style="text-align: left;">RP-201179</td>
<td>0001</td>
<td style="text-align: center;">4</td>
<td>F</td>
<td>Miscellaneous corrections to 38.340 for IAB</td>
<td style="text-align: left;">16.1.0</td>
</tr>
<tr>
<td>09/2020</td>
<td style="text-align: left;">RP-89</td>
<td style="text-align: left;">RP-201923</td>
<td>0006</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous corrections to 38.340 for IAB</td>
<td style="text-align: left;">16.2.0</td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">RP-89</td>
<td style="text-align: left;">RP-201923</td>
<td>0007</td>
<td style="text-align: center;">-</td>
<td>F</td>
<td>Corrections on flow control BAP control PDU</td>
<td style="text-align: left;">16.2.0</td>
</tr>
<tr>
<td>12/2020</td>
<td style="text-align: left;">RP-90</td>
<td style="text-align: left;">RP-202772</td>
<td>0009</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous corrections to 38.340 for IAB</td>
<td style="text-align: left;">16.3.0</td>
</tr>
<tr>
<td>03/2021</td>
<td style="text-align: left;">RP-91</td>
<td style="text-align: left;">RP-210691</td>
<td>0012</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Correction on the illustration of BAP entity</td>
<td style="text-align: left;">16.4.0</td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">RP-91</td>
<td style="text-align: left;">RP-210691</td>
<td>0014</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous corrections to 38.340 for IAB</td>
<td style="text-align: left;">16.4.0</td>
</tr>
<tr>
<td>06/2021</td>
<td style="text-align: left;">RP-92</td>
<td style="text-align: left;">RP-211472</td>
<td>0015</td>
<td style="text-align: center;">2</td>
<td>F</td>
<td>Miscellaneous corrections on BAP transmitting operation and default
routing</td>
<td style="text-align: left;">16.5.0</td>
</tr>
<tr>
<td></td>
<td style="text-align: left;">RP-92</td>
<td style="text-align: left;">RP-211472</td>
<td>0018</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Corrections to the handling of unknown, unforeseen, and erroneous
protocol data</td>
<td style="text-align: left;">16.5.0</td>
</tr>
<tr>
<td>03/2022</td>
<td style="text-align: left;">RP-95</td>
<td style="text-align: left;">RP-220486</td>
<td>0020</td>
<td style="text-align: center;">2</td>
<td>B</td>
<td>Introduction of eIAB to TS 38.340</td>
<td style="text-align: left;">17.0.0</td>
</tr>
<tr>
<td>06/2022</td>
<td style="text-align: left;">RP-96</td>
<td style="text-align: left;">RP-221718</td>
<td>0024</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous CR for TS 38.340</td>
<td style="text-align: left;">17.1.0</td>
</tr>
<tr>
<td>09/2022</td>
<td style="text-align: left;">RP-97</td>
<td style="text-align: left;">RP-222523</td>
<td>0029</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous corrections in TS 38.340 for eIAB</td>
<td style="text-align: left;">17.2.0</td>
</tr>
<tr>
<td>12/2022</td>
<td style="text-align: left;">RP-98</td>
<td style="text-align: left;">RP-223410</td>
<td>0030</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Miscellaneous corrections in TS 38.340 for eIAB</td>
<td style="text-align: left;">17.3.0</td>
</tr>
<tr>
<td>03/2023</td>
<td style="text-align: left;">RP-99</td>
<td style="text-align: left;">RP-230689</td>
<td>0031</td>
<td style="text-align: center;">1</td>
<td>F</td>
<td>Corrections on the inter-CU routing and header rewriting for
eIAB</td>
<td style="text-align: left;">17.4.0</td>
</tr>
<tr>
<td>06/2023</td>
<td style="text-align: left;">RP-100</td>
<td style="text-align: left;">RP-231413</td>
<td>0032</td>
<td style="text-align: center;">-</td>
<td>F</td>
<td>Corrections on RLF indication for BAP</td>
<td style="text-align: left;">17.5.0</td>
</tr>
</tbody>
</table>
</body>
</html>
