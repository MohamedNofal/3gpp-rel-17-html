<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>38401-h90</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#contents" id="toc-contents"><br />
Contents</a></li>
<li><a href="#foreword" id="toc-foreword"><br />
Foreword</a></li>
<li><a href="#scope" id="toc-scope"><br />
1 Scope</a></li>
<li><a href="#references" id="toc-references">2 References</a></li>
<li><a href="#definitions-and-abbreviations"
id="toc-definitions-and-abbreviations">3 Definitions and
abbreviations</a>
<ul>
<li><a href="#definitions" id="toc-definitions">3.1 Definitions</a></li>
<li><a href="#abbreviations" id="toc-abbreviations">3.2
Abbreviations</a></li>
</ul></li>
<li><a href="#general-principles" id="toc-general-principles">4 General
principles</a></li>
<li><a href="#general-architecture" id="toc-general-architecture">5
General architecture</a>
<ul>
<li><a href="#general" id="toc-general">5.1 General</a></li>
<li><a href="#user-plane" id="toc-user-plane">5.2 User plane</a></li>
<li><a href="#control-plane" id="toc-control-plane">5.3 Control
plane</a></li>
</ul></li>
<li><a href="#ng-ran-architecture" id="toc-ng-ran-architecture">6 NG-RAN
architecture</a>
<ul>
<li><a href="#overview" id="toc-overview">6.1 Overview</a>
<ul>
<li><a href="#overall-architecture-of-ng-ran"
id="toc-overall-architecture-of-ng-ran">6.1.1 Overall Architecture of
NG-RAN</a></li>
<li><a
href="#overall-architecture-for-separation-of-gnb-cu-cp-and-gnb-cu-up"
id="toc-overall-architecture-for-separation-of-gnb-cu-cp-and-gnb-cu-up">6.1.2
Overall architecture for separation of gNB-CU-CP and gNB-CU-UP</a></li>
<li><a href="#overall-architecture-of-iab"
id="toc-overall-architecture-of-iab">6.1.3 Overall Architecture of
IAB</a></li>
<li><a href="#protocol-stacks-of-iab"
id="toc-protocol-stacks-of-iab">6.1.4 Protocol stacks of IAB </a></li>
<li><a href="#overall-architecture-of-nr-mbs"
id="toc-overall-architecture-of-nr-mbs">6.1.5 Overall Architecture of NR
MBS</a></li>
<li><a href="#protocol-stacks-of-l2-ue-to-network-relay"
id="toc-protocol-stacks-of-l2-ue-to-network-relay">6.1.6 Protocol stacks
of L2 UE-to-Network Relay</a></li>
</ul></li>
<li><a href="#ng-ran-identifiers" id="toc-ng-ran-identifiers">6.2 NG-RAN
identifiers</a>
<ul>
<li><a href="#principle-of-handling-application-protocol-identities"
id="toc-principle-of-handling-application-protocol-identities">6.2.1
Principle of handling Application Protocol Identities</a></li>
<li><a href="#gnb-du-id" id="toc-gnb-du-id">6.2.2 gNB-DU ID</a></li>
<li><a href="#ng-enb-du-id" id="toc-ng-enb-du-id">6.2.3 ng-eNB-DU
ID</a></li>
<li><a href="#gnb-cu-up-id" id="toc-gnb-cu-up-id">6.2.4 gNB-CU-UP
ID</a></li>
<li><a href="#ran-ue-id" id="toc-ran-ue-id">6.2.5 RAN UE ID</a></li>
</ul></li>
<li><a href="#transport-addresses" id="toc-transport-addresses">6.3
Transport addresses</a></li>
<li><a href="#ue-associations-in-ng-ran-node"
id="toc-ue-associations-in-ng-ran-node">6.4 UE associations in NG-RAN
Node</a></li>
<li><a href="#mbs-session-associations-in-ng-ran-node"
id="toc-mbs-session-associations-in-ng-ran-node">6.5 MBS Session
associations in NG-RAN Node</a></li>
</ul></li>
<li><a href="#ng-ran-functions-description"
id="toc-ng-ran-functions-description">7 NG-RAN functions description</a>
<ul>
<li><a href="#general-1" id="toc-general-1">7.0 General</a></li>
<li><a href="#ng-ran-sharing" id="toc-ng-ran-sharing">7.1 NG-RAN
sharing</a></li>
<li><a href="#remote-interference-management"
id="toc-remote-interference-management">7.2 Remote Interference
Management</a></li>
<li><a href="#cross-link-interference-management"
id="toc-cross-link-interference-management">7.3 Cross-Link Interference
Management</a></li>
<li><a href="#support-for-non-public-networks"
id="toc-support-for-non-public-networks">7.4 Support for Non-Public
Networks</a></li>
<li><a href="#rach-optimisation-function"
id="toc-rach-optimisation-function">7.5 RACH Optimisation
Function</a></li>
<li><a href="#positioning" id="toc-positioning">7.6 Positioning</a></li>
<li><a href="#support-for-nr-mbs" id="toc-support-for-nr-mbs">7.7
Support for NR MBS</a>
<ul>
<li><a href="#support-of-dynamic-ptp-and-ptm-switching"
id="toc-support-of-dynamic-ptp-and-ptm-switching">7.7.1 Support of
dynamic PTP and PTM switching</a></li>
</ul></li>
<li><a href="#pci-optimisation-function"
id="toc-pci-optimisation-function">7.8 PCI Optimisation
Function</a></li>
<li><a href="#support-for-cco" id="toc-support-for-cco">7.9 Support for
CCO</a>
<ul>
<li><a href="#general-2" id="toc-general-2">7.9.1 General</a></li>
<li><a href="#oam-requirements" id="toc-oam-requirements">7.9.2 OAM
requirements</a></li>
<li><a href="#dynamic-coverage-configuration-changes"
id="toc-dynamic-coverage-configuration-changes">7.9.3 Dynamic coverage
configuration changes</a></li>
</ul></li>
<li><a href="#support-of-ran-visible-qoe-measurement"
id="toc-support-of-ran-visible-qoe-measurement">7.10 Support of RAN
visible QoE measurement </a></li>
</ul></li>
<li><a href="#overall-procedures-in-gnb-cugnb-du-architecture"
id="toc-overall-procedures-in-gnb-cugnb-du-architecture">8 Overall
procedures in gNB-CU/gNB-DU Architecture</a>
<ul>
<li><a href="#ue-initial-access" id="toc-ue-initial-access">8.1 UE
Initial Access</a></li>
<li><a href="#intra-gnb-cu-mobility" id="toc-intra-gnb-cu-mobility">8.2
Intra-gNB-CU Mobility</a>
<ul>
<li><a href="#intra-nr-mobility" id="toc-intra-nr-mobility">8.2.1
Intra-NR Mobility</a>
<ul>
<li><a href="#inter-gnb-du-mobility"
id="toc-inter-gnb-du-mobility">8.2.1.1 Inter-gNB-DU Mobility</a></li>
<li><a href="#intra-gnb-du-handover"
id="toc-intra-gnb-du-handover">8.2.1.2 Intra-gNB-DU handover</a></li>
<li><a
href="#inter-gnb-du-conditional-handover-or-conditional-pscell-change"
id="toc-inter-gnb-du-conditional-handover-or-conditional-pscell-change">8.2.1.3
Inter-gNB-DU Conditional Handover or Conditional PSCell Change</a></li>
</ul></li>
<li><a href="#en-dc-mobility" id="toc-en-dc-mobility">8.2.2 EN-DC
Mobility</a>
<ul>
<li><a href="#inter-gnb-du-mobility-using-mcg-srb"
id="toc-inter-gnb-du-mobility-using-mcg-srb">8.2.2.1 Inter-gNB-DU
Mobility using MCG SRB</a></li>
<li><a href="#inter-gnb-du-mobility-using-scg-srb-srb3"
id="toc-inter-gnb-du-mobility-using-scg-srb-srb3">8.2.2.2 Inter-gNB-DU
Mobility using SCG SRB (SRB3)</a></li>
<li><a
href="#inter-gnb-du-conditional-pscell-change-using-mcg-srb-without-mn-negotiation"
id="toc-inter-gnb-du-conditional-pscell-change-using-mcg-srb-without-mn-negotiation">8.2.2.3
Inter-gNB-DU Conditional PSCell Change using MCG SRB without MN
negotiation</a></li>
</ul></li>
<li><a href="#intra-cu-topology-adaptation-procedure"
id="toc-intra-cu-topology-adaptation-procedure">8.2.3 Intra-CU topology
adaptation procedure</a>
<ul>
<li><a href="#intra-cu-topology-adaptation-procedure-in-sa"
id="toc-intra-cu-topology-adaptation-procedure-in-sa">8.2.3.1 Intra-CU
topology adaptation procedure in SA</a></li>
<li><a
href="#intra-cu-topology-adaptation-procedure-in-nsa-using-mcg-srb"
id="toc-intra-cu-topology-adaptation-procedure-in-nsa-using-mcg-srb">8.2.3.2
Intra-CU topology adaptation procedure in NSA using MCG SRB</a></li>
<li><a
href="#intra-cu-topology-adaptation-procedure-in-nsa-using-scg-srb-srb3"
id="toc-intra-cu-topology-adaptation-procedure-in-nsa-using-scg-srb-srb3">8.2.3.3
Intra-CU topology adaptation procedure in NSA using SCG SRB
(SRB3)</a></li>
</ul></li>
<li><a href="#intra-cu-topological-redundancy-procedure"
id="toc-intra-cu-topological-redundancy-procedure">8.2.4 Intra-CU
topological redundancy procedure</a></li>
<li><a href="#intra-cu-backhaul-rlf-recovery-for-iab-nodes-in-sa-mode"
id="toc-intra-cu-backhaul-rlf-recovery-for-iab-nodes-in-sa-mode">8.2.5
Intra-CU Backhaul RLF recovery for IAB-nodes in SA mode </a></li>
</ul></li>
<li><a href="#mechanism-of-centralized-retransmission-of-lost-pdus"
id="toc-mechanism-of-centralized-retransmission-of-lost-pdus">8.3
Mechanism of centralized retransmission of lost PDUs</a>
<ul>
<li><a href="#centralized-retransmission-in-intra-gnb-cu-cases"
id="toc-centralized-retransmission-in-intra-gnb-cu-cases">8.3.1
Centralized Retransmission in Intra gNB-CU Cases</a></li>
</ul></li>
<li><a href="#multi-connectivity-operation"
id="toc-multi-connectivity-operation">8.4 Multi-Connectivity
operation</a>
<ul>
<li><a href="#secondary-node-addition"
id="toc-secondary-node-addition">8.4.1 Secondary Node Addition</a>
<ul>
<li><a href="#en-dc" id="toc-en-dc">8.4.1.1 EN-DC</a></li>
</ul></li>
<li><a href="#secondary-node-release-mnsn-initiated"
id="toc-secondary-node-release-mnsn-initiated">8.4.2 Secondary Node
Release (MN/SN initiated)</a>
<ul>
<li><a href="#en-dc-1" id="toc-en-dc-1">8.4.2.1 EN-DC</a></li>
</ul></li>
<li><a href="#scg-suspendresume-in-rrc_inactive"
id="toc-scg-suspendresume-in-rrc_inactive">8.4.3 SCG suspend/resume in
RRC_INACTIVE</a></li>
<li><a href="#scg-deactivation-and-activation"
id="toc-scg-deactivation-and-activation">8.4.4 SCG Deactivation and
Activation</a>
<ul>
<li><a href="#sn-addition-with-scg-activation-or-deactivation"
id="toc-sn-addition-with-scg-activation-or-deactivation">8.4.4.1 SN
Addition with SCG Activation or Deactivation</a></li>
<li><a
href="#mn-initiated-sn-modification-with-scg-activation-or-deactivation"
id="toc-mn-initiated-sn-modification-with-scg-activation-or-deactivation">8.4.4.2
MN initiated SN Modification with SCG Activation or
Deactivation</a></li>
<li><a
href="#sn-initiated-sn-modification-with-scg-activation-or-deactivation"
id="toc-sn-initiated-sn-modification-with-scg-activation-or-deactivation">8.4.4.3
SN initiated SN Modification with SCG Activation or
Deactivation</a></li>
</ul></li>
</ul></li>
<li><a href="#f1-startup-and-cells-activation"
id="toc-f1-startup-and-cells-activation">8.5 F1 Startup and cells
activation</a></li>
<li><a href="#rrc-state-transition" id="toc-rrc-state-transition">8.6
RRC state transition</a>
<ul>
<li><a href="#rrc-connected-to-rrc-inactive"
id="toc-rrc-connected-to-rrc-inactive">8.6.1 RRC connected to RRC
inactive</a></li>
<li><a href="#rrc-inactive-to-other-states"
id="toc-rrc-inactive-to-other-states">8.6.2 RRC inactive to other
states</a></li>
</ul></li>
<li><a href="#rrc-connection-reestablishment"
id="toc-rrc-connection-reestablishment">8.7 RRC connection
reestablishment</a></li>
<li><a href="#multiple-tnlas-for-f1-c"
id="toc-multiple-tnlas-for-f1-c">8.8 Multiple TNLAs for F1-C</a></li>
<li><a href="#overall-procedures-involving-e1-and-f1"
id="toc-overall-procedures-involving-e1-and-f1">8.9 Overall procedures
involving E1 and F1</a>
<ul>
<li><a href="#ue-initial-access-1" id="toc-ue-initial-access-1">8.9.1 UE
Initial Access</a></li>
<li><a href="#bearer-context-setup-over-f1-u"
id="toc-bearer-context-setup-over-f1-u">8.9.2 Bearer context setup over
F1-U</a></li>
<li><a href="#bearer-context-release-over-f1-u"
id="toc-bearer-context-release-over-f1-u">8.9.3 Bearer context release
over F1-U</a>
<ul>
<li><a href="#gnb-cu-cp-initiated-bearer-context-release"
id="toc-gnb-cu-cp-initiated-bearer-context-release">8.9.3.1 gNB-CU-CP
initiated bearer context release</a></li>
<li><a href="#gnb-cu-up-initiated-bearer-context-release"
id="toc-gnb-cu-up-initiated-bearer-context-release">8.9.3.2 gNB-CU-UP
initiated bearer context release</a></li>
</ul></li>
<li><a href="#inter-gnb-handover-involving-gnb-cu-up-change"
id="toc-inter-gnb-handover-involving-gnb-cu-up-change">8.9.4 Inter-gNB
handover involving gNB-CU-UP change</a></li>
<li><a href="#change-of-gnb-cu-up" id="toc-change-of-gnb-cu-up">8.9.5
Change of gNB-CU-UP</a></li>
<li><a href="#rrc-state-transition-1"
id="toc-rrc-state-transition-1">8.9.6 RRC State transition</a>
<ul>
<li><a href="#rrc-connected-to-rrc-inactive-1"
id="toc-rrc-connected-to-rrc-inactive-1">8.9.6.1 RRC Connected to RRC
Inactive</a></li>
<li><a href="#rrc-inactive-to-other-states-1"
id="toc-rrc-inactive-to-other-states-1">8.9.6.2 RRC Inactive to other
states</a></li>
</ul></li>
<li><a href="#trace-activationdeactivation-over-f1-and-e1"
id="toc-trace-activationdeactivation-over-f1-and-e1">8.9.7 Trace
activation/deactivation over F1 and E1</a></li>
<li><a href="#bh-rlc-channel-establishment-procedure"
id="toc-bh-rlc-channel-establishment-procedure">8.9.8 BH RLC channel
establishment procedure </a></li>
<li><a href="#traffic-mapping" id="toc-traffic-mapping">8.9.9 Traffic
Mapping</a>
<ul>
<li><a href="#traffic-mapping-from-ip-layer-to-layer-2"
id="toc-traffic-mapping-from-ip-layer-to-layer-2">8.9.9.1 Traffic
Mapping from IP-layer to Layer-2</a></li>
<li><a href="#bh-rlc-channel-mapping-on-bap-layer"
id="toc-bh-rlc-channel-mapping-on-bap-layer">8.9.9.2 BH RLC Channel
Mapping on BAP Layer</a></li>
</ul></li>
<li><a href="#iab-node-release" id="toc-iab-node-release">8.9.10
IAB-node release</a>
<ul>
<li><a href="#iab-node-orderly-release"
id="toc-iab-node-orderly-release">8.9.10.1 IAB-node orderly
release</a></li>
<li><a href="#iab-node-disorderly-release"
id="toc-iab-node-disorderly-release">8.9.10.2 IAB-node disorderly
release</a></li>
</ul></li>
<li><a href="#iab-node-oam" id="toc-iab-node-oam">8.9.11 IAB-node
OAM</a></li>
<li><a href="#handling-of-iab-mts-in-inactive-state"
id="toc-handling-of-iab-mts-in-inactive-state">8.9.12 Handling of
IAB-MTs in INACTIVE State</a></li>
<li><a href="#ip-address-allocation-for-iab-nodes"
id="toc-ip-address-allocation-for-iab-nodes">8.9.13 IP Address
Allocation for IAB-nodes</a></li>
<li><a href="#void" id="toc-void">8.9.14 (void)</a></li>
<li><a href="#void-1" id="toc-void-1">8.9.15 (void)</a></li>
<li><a href="#void-2" id="toc-void-2">8.9.16 (void)</a></li>
<li><a href="#iab-node-authorization"
id="toc-iab-node-authorization">8.9.17 IAB-node authorization</a>
<ul>
<li><a href="#iab-node-in-nsa" id="toc-iab-node-in-nsa">8.9.17.1
IAB-node in NSA</a></li>
<li><a href="#iab-node-with-single-iab-donor-in-sa"
id="toc-iab-node-with-single-iab-donor-in-sa">8.9.17.2 IAB-node with
single IAB-donor in SA</a>
<ul>
<li><a href="#iab-node-is-single-connected"
id="toc-iab-node-is-single-connected">8.9.17.2.1 IAB-node is
single-connected</a></li>
<li><a href="#iab-node-is-nr-dual-connected"
id="toc-iab-node-is-nr-dual-connected">8.9.17.2.2 IAB-node is NR
dual-connected</a></li>
</ul></li>
<li><a href="#iab-node-is-served-by-two-iab-donors-in-sa"
id="toc-iab-node-is-served-by-two-iab-donors-in-sa">8.9.17.3 IAB-node is
served by two IAB-donors in SA</a></li>
</ul></li>
</ul></li>
<li><a href="#multiple-tnlas-for-e1" id="toc-multiple-tnlas-for-e1">8.10
Multiple TNLAs for E1</a></li>
<li><a
href="#support-of-network-sharing-with-multiple-cell-id-broadcast"
id="toc-support-of-network-sharing-with-multiple-cell-id-broadcast">8.11
Support of Network Sharing with multiple cell-ID broadcast</a>
<ul>
<li><a href="#general-3" id="toc-general-3">8.11.1 General</a></li>
<li><a href="#initial-registration-separate-plmn-signalling"
id="toc-initial-registration-separate-plmn-signalling">8.11.2 Initial
Registration – separate PLMN signalling</a></li>
<li><a href="#rrc-connection-reestablishment-separate-plmn-signalling"
id="toc-rrc-connection-reestablishment-separate-plmn-signalling">8.11.3
RRC Connection Reestablishment – separate PLMN signalling </a></li>
<li><a href="#support-of-shared-signalling-transport"
id="toc-support-of-shared-signalling-transport">8.11.4 Support of shared
signalling transport </a></li>
</ul></li>
<li><a href="#iab-node-integration-procedure"
id="toc-iab-node-integration-procedure">8.12 IAB-node Integration
Procedure</a>
<ul>
<li><a href="#standalone-iab-integration"
id="toc-standalone-iab-integration">8.12.1 Standalone IAB
integration</a></li>
<li><a href="#nsa-iab-integration-procedure"
id="toc-nsa-iab-integration-procedure">8.12.2 NSA IAB Integration
procedure</a></li>
</ul></li>
<li><a href="#overall-procedures-for-mdt"
id="toc-overall-procedures-for-mdt">8.13 Overall procedures for MDT </a>
<ul>
<li><a href="#general-4" id="toc-general-4">8.13.0 General</a></li>
<li><a href="#signalling-based-mdt-activation"
id="toc-signalling-based-mdt-activation">8.13.1 Signalling based MDT
activation</a></li>
<li><a href="#management-based-mdt-activation"
id="toc-management-based-mdt-activation">8.13.2 Management based MDT
activation</a>
<ul>
<li><a href="#general-5" id="toc-general-5">8.13.2.1 General</a></li>
<li><a href="#management-based-mdt-activation-in-gnb-cu-cp"
id="toc-management-based-mdt-activation-in-gnb-cu-cp">8.13.2.2
Management based MDT Activation in gNB-CU-CP</a></li>
<li><a href="#management-based-mdt-activation-in-gnb-du"
id="toc-management-based-mdt-activation-in-gnb-du">8.13.2.3 Management
based MDT Activation in gNB-DU</a></li>
<li><a href="#management-based-mdt-activation-in-gnb-cu-up"
id="toc-management-based-mdt-activation-in-gnb-cu-up">8.13.2.4
Management based MDT Activation in gNB-CU-UP</a></li>
<li><a href="#user-consent-propagation-in-en-dc"
id="toc-user-consent-propagation-in-en-dc">8.13.2.5 User consent
propagation in EN-DC</a></li>
<li><a href="#user-consent-propagation-in-mr-dc-with-5gc"
id="toc-user-consent-propagation-in-mr-dc-with-5gc">8.13.2.6 User
consent propagation in MR-DC with 5GC</a></li>
<li><a href="#management-based-trace-activation-in-mr-dc-with-5gc"
id="toc-management-based-trace-activation-in-mr-dc-with-5gc">8.13.2.7
Management based trace activation in MR-DC with 5GC</a></li>
</ul></li>
<li><a href="#alignment-of-mdt-and-qoe-measurements"
id="toc-alignment-of-mdt-and-qoe-measurements">8.13.3 Alignment of MDT
and QoE Measurements </a></li>
<li><a href="#mdt-reporting" id="toc-mdt-reporting">8.13.4 MDT
reporting</a></li>
</ul></li>
<li><a href="#self-optimisation" id="toc-self-optimisation">8.14
Self-optimisation </a>
<ul>
<li><a href="#overall-procedures-for-mro"
id="toc-overall-procedures-for-mro">8.14.1 Overall procedures for MRO
</a>
<ul>
<li><a href="#signalling-of-rlf-information-from-gnb-cu-to-gnb-du"
id="toc-signalling-of-rlf-information-from-gnb-cu-to-gnb-du">8.14.1.1
Signalling of RLF information from gNB-CU to gNB-DU</a></li>
<li><a href="#signalling-of-rach-information-from-gnb-cu-to-gnb-du"
id="toc-signalling-of-rach-information-from-gnb-cu-to-gnb-du">8.14.1.2
Signalling of RACH information from gNB-CU to gNB-DU</a></li>
</ul></li>
</ul></li>
<li><a href="#overall-procedures-for-nr-mbs"
id="toc-overall-procedures-for-nr-mbs">8.15 Overall procedures for NR
MBS </a>
<ul>
<li><a href="#general-6" id="toc-general-6">8.15.1 General</a>
<ul>
<li><a href="#broadcast-mbs-session-setup"
id="toc-broadcast-mbs-session-setup">8.15.1.1 Broadcast MBS Session
Setup</a></li>
<li><a href="#multicast-mbs-session-context-establishment"
id="toc-multicast-mbs-session-context-establishment">8.15.1.2 Multicast
MBS Session Context Establishment</a></li>
<li><a
href="#multicast-mrb-type-re-configuration-with-f1-u-ptp-retransmission-tunnel-establishment"
id="toc-multicast-mrb-type-re-configuration-with-f1-u-ptp-retransmission-tunnel-establishment">8.15.1.3
Multicast MRB type re-configuration with F1-U ptp-retransmission tunnel
establishment</a></li>
</ul></li>
<li><a href="#mobility-procedure-for-multicast"
id="toc-mobility-procedure-for-multicast">8.15.2 Mobility procedure for
Multicast</a>
<ul>
<li><a href="#inter-gnb-cu-mobility-between-mbs-supporting-nodes"
id="toc-inter-gnb-cu-mobility-between-mbs-supporting-nodes">8.15.2.1
Inter-gNB-CU Mobility between MBS Supporting nodes</a></li>
</ul></li>
</ul></li>
<li><a href="#overall-procedures-for-cpac"
id="toc-overall-procedures-for-cpac">8.16 Overall procedures for CPAC
</a>
<ul>
<li><a href="#mn-initiated-conditional-pscell-addition"
id="toc-mn-initiated-conditional-pscell-addition">8.16.1 MN initiated
Conditional PSCell Addition </a></li>
<li><a href="#mn-initiated-conditional-sn-change"
id="toc-mn-initiated-conditional-sn-change">8.16.2 MN initiated
conditional SN Change</a></li>
<li><a href="#sn-initiated-conditional-inter-sn-change"
id="toc-sn-initiated-conditional-inter-sn-change">8.16.3 SN initiated
conditional inter-SN Change</a></li>
</ul></li>
<li><a href="#iab-inter-cu-topology-management"
id="toc-iab-inter-cu-topology-management">8.17 IAB Inter-CU Topology
Management</a>
<ul>
<li><a href="#iab-inter-donor-du-re-routing"
id="toc-iab-inter-donor-du-re-routing">8.17.1 IAB Inter-donor-DU
Re-routing</a></li>
<li><a href="#iab-inter-cu-topology-redundancy"
id="toc-iab-inter-cu-topology-redundancy">8.17.2 IAB Inter-CU Topology
Redundancy </a>
<ul>
<li><a href="#iab-inter-cu-topological-redundancy-procedure"
id="toc-iab-inter-cu-topological-redundancy-procedure">8.17.2.1 IAB
Inter-CU topological redundancy procedure</a></li>
</ul></li>
<li><a href="#iab-inter-cu-topology-adaptation"
id="toc-iab-inter-cu-topology-adaptation">8.17.3 IAB Inter-CU Topology
Adaptation</a>
<ul>
<li><a href="#iab-inter-cu-topology-adaptation-procedure"
id="toc-iab-inter-cu-topology-adaptation-procedure">8.17.3.1 IAB
inter-CU topology adaptation procedure </a></li>
<li><a
href="#iab-inter-cu-topology-adaptation-procedure-with-descendant-iab-node"
id="toc-iab-inter-cu-topology-adaptation-procedure-with-descendant-iab-node">8.17.3.2
IAB inter-CU topology adaptation procedure with descendant
IAB-node</a></li>
</ul></li>
<li><a
href="#iab-inter-cu-backhaul-rlf-recovery-for-single-connected-iab-node"
id="toc-iab-inter-cu-backhaul-rlf-recovery-for-single-connected-iab-node">8.17.4
IAB Inter-CU Backhaul RLF recovery for single connected IAB-node
</a></li>
</ul></li>
<li><a
href="#overall-procedure-for-small-data-transmission-during-rrc-inactive"
id="toc-overall-procedure-for-small-data-transmission-during-rrc-inactive">8.18
Overall procedure for Small Data Transmission during RRC Inactive</a>
<ul>
<li><a href="#rach-based-sdt" id="toc-rach-based-sdt">8.18.1 RACH based
SDT</a></li>
<li><a href="#cg-based-sdt" id="toc-cg-based-sdt">8.18.2 CG based
SDT</a></li>
<li><a href="#ra-sdt-or-non-sdt-with-cg-sdt-configuration"
id="toc-ra-sdt-or-non-sdt-with-cg-sdt-configuration">8.18.3 RA-SDT or
non-SDT with CG-SDT configuration</a></li>
</ul></li>
<li><a href="#overall-procedures-for-l2-ue-to-network-relay"
id="toc-overall-procedures-for-l2-ue-to-network-relay">8.19 Overall
procedures for L2 UE-to-Network Relay </a>
<ul>
<li><a href="#remote-ue-initial-access"
id="toc-remote-ue-initial-access">8.19.1 Remote UE initial
access</a></li>
<li><a href="#remote-ue-rrc-reestablishment"
id="toc-remote-ue-rrc-reestablishment">8.19.2 Remote UE RRC
Reestablishment</a></li>
<li><a href="#remote-ue-rrc-inactive-to-other-states"
id="toc-remote-ue-rrc-inactive-to-other-states">8.19.3 Remote UE RRC
Inactive to other states</a></li>
<li><a href="#service-continuity-for-l2-u2n-relay"
id="toc-service-continuity-for-l2-u2n-relay">8.19.4 Service Continuity
for L2 U2N relay</a>
<ul>
<li><a href="#inter-gnb-du-switch-from-direct-to-indirect-path"
id="toc-inter-gnb-du-switch-from-direct-to-indirect-path">8.19.4.1
Inter-gNB-DU switch from direct to indirect path</a></li>
<li><a href="#intra-gnb-du-switch-from-direct-to-indirect-path"
id="toc-intra-gnb-du-switch-from-direct-to-indirect-path">8.19.4.2
Intra-gNB-DU switch from direct to indirect path</a></li>
</ul></li>
</ul></li>
<li><a href="#void-3" id="toc-void-3">8.20 Void</a></li>
</ul></li>
<li><a href="#synchronization" id="toc-synchronization">9
Synchronization</a>
<ul>
<li><a href="#gnb-synchronization" id="toc-gnb-synchronization">9.1 gNB
Synchronization</a></li>
</ul></li>
<li><a href="#ng-ran-interfaces" id="toc-ng-ran-interfaces">10 NG-RAN
interfaces</a>
<ul>
<li><a href="#ng-interface" id="toc-ng-interface">10.1 NG
interface</a></li>
<li><a href="#xn-interface" id="toc-xn-interface">10.2 Xn
interface</a></li>
<li><a href="#f1-interface" id="toc-f1-interface">10.3 F1
interface</a></li>
<li><a href="#e1-interface" id="toc-e1-interface">10.4 E1
interface</a></li>
<li><a href="#antenna-interface---general-principles"
id="toc-antenna-interface---general-principles">10.5 Antenna interface -
general principles</a></li>
</ul></li>
<li><a href="#overall-procedures-in-ng-ran-architecure"
id="toc-overall-procedures-in-ng-ran-architecure">11 Overall procedures
in NG-RAN Architecure</a>
<ul>
<li><a href="#multiple-tnlas-for-xn-c"
id="toc-multiple-tnlas-for-xn-c">11.1 Multiple TNLAs for Xn-C</a></li>
</ul></li>
</ul>
</nav>
<p>3GPP TS 38.401 V17.9.0 (2024-06)</p>
<p>Technical Specification</p>
<p>3rd Generation Partnership Project;</p>
<p>Technical Specification Group Radio Access Network;</p>
<p>NG-RAN;</p>
<p>Architecture description</p>
<p>(Release 17)</p>
<p><img src="media/image1.jpeg"
style="width:1.33333in;height:1.33333in" /> <img
src="media/image2.svg" /></p>
<p>The present document has been developed within the 3<sup>rd</sup>
Generation Partnership Project (3GPP <sup>TM</sup>) and may be further
elaborated for the purposes of 3GPP.<br />
The present document has not been subject to any approval process by the
3GPP Organizational Partners and shall not be implemented.<br />
This Specification is provided for future development work within 3GPP
only. The Organizational Partners accept no liability for any use of
this Specification.<br />
Specifications and reports for implementation of the 3GPP <sup>TM</sup>
system should be obtained via the 3GPP Organizational Partners'
Publications Offices.</p>
<blockquote>
<p>Keywords</p>
<p>NG-RAN, Radio</p>
<p><em><strong>3GPP</strong></em></p>
<p>Postal address</p>
<p>3GPP support office address</p>
<p>650 Route des Lucioles - Sophia Antipolis</p>
<p>Valbonne - FRANCE</p>
<p>Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16</p>
<p>Internet</p>
<p><a href="http://www.3gpp.org">http://www.3gpp.org</a></p>
</blockquote>
<p><em><strong>Copyright Notification</strong></em></p>
<p>No part may be reproduced except as authorized by written
permission.<br />
The copyright and the foregoing restriction extend to reproduction in
all media.</p>
<p>© 2024, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC).</p>
<p>All rights reserved.</p>
<p>UMTS™ is a Trade Mark of ETSI registered for the benefit of its
members</p>
<p>3GPP™ is a Trade Mark of ETSI registered for the benefit of its
Members and of the 3GPP Organizational Partners<br />
LTE™ is a Trade Mark of ETSI registered for the benefit of its Members
and of the 3GPP Organizational Partners</p>
<p>GSM® and the GSM logo are registered and owned by the GSM
Association</p>
<h1 class="TT" id="contents"><br />
Contents</h1>
<p>Foreword <a href="#foreword">7</a></p>
<p>1 Scope <a href="#scope">8</a></p>
<p>2 References <a href="#references">8</a></p>
<p>3 Definitions and abbreviations <a
href="#definitions-and-abbreviations">9</a></p>
<p>3.1 Definitions <a href="#definitions">9</a></p>
<p>3.2 Abbreviations <a href="#abbreviations">11</a></p>
<p>4 General principles <a href="#general-principles">12</a></p>
<p>5 General architecture <a href="#general-architecture">12</a></p>
<p>5.1 General <a href="#general">12</a></p>
<p>5.2 User plane <a href="#user-plane">13</a></p>
<p>5.3 Control plane <a href="#control-plane">13</a></p>
<p>6 NG-RAN architecture <a href="#ng-ran-architecture">14</a></p>
<p>6.1 Overview <a href="#overview">14</a></p>
<p>6.1.1 Overall Architecture of NG-RAN <a
href="#overall-architecture-of-ng-ran">14</a></p>
<p>6.1.2 Overall architecture for separation of gNB-CU-CP and gNB-CU-UP
<a
href="#overall-architecture-for-separation-of-gnb-cu-cp-and-gnb-cu-up">15</a></p>
<p>6.1.3 Overall Architecture of IAB <a
href="#overall-architecture-of-iab">16</a></p>
<p>6.1.4 Protocol stacks of IAB <a
href="#protocol-stacks-of-iab">17</a></p>
<p>6.1.5 Overall Architecture of NR MBS <a
href="#overall-architecture-of-nr-mbs">19</a></p>
<p>6.1.6 Protocol stacks of L2 UE-to-Network Relay <a
href="#protocol-stacks-of-l2-ue-to-network-relay">19</a></p>
<p>6.2 NG-RAN identifiers <a href="#ng-ran-identifiers">20</a></p>
<p>6.2.1 Principle of handling Application Protocol Identities <a
href="#principle-of-handling-application-protocol-identities">20</a></p>
<p>6.2.2 gNB-DU ID <a href="#gnb-du-id">22</a></p>
<p>6.2.3 ng-eNB-DU ID <a href="#ng-enb-du-id">22</a></p>
<p>6.2.4 gNB-CU-UP ID <a href="#gnb-cu-up-id">23</a></p>
<p>6.2.5 RAN UE ID <a href="#ran-ue-id">23</a></p>
<p>6.3 Transport addresses <a href="#transport-addresses">23</a></p>
<p>6.4 UE associations in NG-RAN Node <a
href="#ue-associations-in-ng-ran-node">23</a></p>
<p>6.5 MBS Session associations in NG-RAN Node <a
href="#mbs-session-associations-in-ng-ran-node">24</a></p>
<p>7 NG-RAN functions description <a
href="#ng-ran-functions-description">25</a></p>
<p>7.0 General <a href="#general-1">25</a></p>
<p>7.1 NG-RAN sharing <a href="#ng-ran-sharing">26</a></p>
<p>7.2 Remote Interference Management <a
href="#remote-interference-management">26</a></p>
<p>7.3 Cross-Link Interference Management <a
href="#cross-link-interference-management">26</a></p>
<p>7.4 Support for Non-Public Networks <a
href="#support-for-non-public-networks">26</a></p>
<p>7.5 RACH Optimisation Function <a
href="#rach-optimisation-function">26</a></p>
<p>7.6 Positioning <a href="#positioning">26</a></p>
<p>7.7 Support for NR MBS <a href="#support-for-nr-mbs">26</a></p>
<p>7.7.1 Support of dynamic PTP and PTM switching <a
href="#support-of-dynamic-ptp-and-ptm-switching">26</a></p>
<p>7.8 PCI Optimisation Function <a
href="#pci-optimisation-function">27</a></p>
<p>7.9 Support for CCO <a href="#support-for-cco">27</a></p>
<p>7.9.1 General <a href="#general-2">27</a></p>
<p>7.9.2 OAM requirements <a href="#oam-requirements">27</a></p>
<p>7.9.3 Dynamic coverage configuration changes <a
href="#dynamic-coverage-configuration-changes">27</a></p>
<p>7.10 Support of RAN visible QoE measurement <a
href="#support-of-ran-visible-qoe-measurement">27</a></p>
<p>8 Overall procedures in gNB-CU/gNB-DU Architecture <a
href="#overall-procedures-in-gnb-cugnb-du-architecture">27</a></p>
<p>8.1 UE Initial Access <a href="#ue-initial-access">27</a></p>
<p>8.2 Intra-gNB-CU Mobility <a href="#intra-gnb-cu-mobility">29</a></p>
<p>8.2.1 Intra-NR Mobility <a href="#intra-nr-mobility">29</a></p>
<p>8.2.1.1 Inter-gNB-DU Mobility <a
href="#inter-gnb-du-mobility">29</a></p>
<p>8.2.1.2 Intra-gNB-DU handover <a
href="#intra-gnb-du-handover">30</a></p>
<p>8.2.1.3 Inter-gNB-DU Conditional Handover or Conditional PSCell
Change <a
href="#inter-gnb-du-conditional-handover-or-conditional-pscell-change">31</a></p>
<p>8.2.2 EN-DC Mobility <a href="#en-dc-mobility">32</a></p>
<p>8.2.2.1 Inter-gNB-DU Mobility using MCG SRB <a
href="#inter-gnb-du-mobility-using-mcg-srb">32</a></p>
<p>8.2.2.2 Inter-gNB-DU Mobility using SCG SRB (SRB3) <a
href="#inter-gnb-du-mobility-using-scg-srb-srb3">34</a></p>
<p>8.2.2.3 Inter-gNB-DU Conditional PSCell Change using MCG SRB without
MN negotiation <a
href="#inter-gnb-du-conditional-pscell-change-using-mcg-srb-without-mn-negotiation">34</a></p>
<p>8.2.3 Intra-CU topology adaptation procedure <a
href="#intra-cu-topology-adaptation-procedure">36</a></p>
<p>8.2.3.1 Intra-CU topology adaptation procedure in SA <a
href="#intra-cu-topology-adaptation-procedure-in-sa">36</a></p>
<p>8.2.3.2 Intra-CU topology adaptation procedure in NSA using MCG SRB
<a
href="#intra-cu-topology-adaptation-procedure-in-nsa-using-mcg-srb">39</a></p>
<p>8.2.3.3 Intra-CU topology adaptation procedure in NSA using SCG SRB
(SRB3) <a
href="#intra-cu-topology-adaptation-procedure-in-nsa-using-scg-srb-srb3">41</a></p>
<p>8.2.4 Intra-CU topological redundancy procedure <a
href="#intra-cu-topological-redundancy-procedure">41</a></p>
<p>8.2.5 Intra-CU Backhaul RLF recovery for IAB-nodes in SA mode <a
href="#intra-cu-backhaul-rlf-recovery-for-iab-nodes-in-sa-mode">44</a></p>
<p>8.3 Mechanism of centralized retransmission of lost PDUs <a
href="#mechanism-of-centralized-retransmission-of-lost-pdus">45</a></p>
<p>8.3.1 Centralized Retransmission in Intra gNB-CU Cases <a
href="#centralized-retransmission-in-intra-gnb-cu-cases">45</a></p>
<p>8.4 Multi-Connectivity operation <a
href="#multi-connectivity-operation">46</a></p>
<p>8.4.1 Secondary Node Addition <a
href="#secondary-node-addition">46</a></p>
<p>8.4.1.1 EN-DC <a href="#en-dc">46</a></p>
<p>8.4.2 Secondary Node Release (MN/SN initiated) <a
href="#secondary-node-release-mnsn-initiated">47</a></p>
<p>8.4.2.1 EN-DC <a href="#en-dc-1">47</a></p>
<p>8.4.3 SCG suspend/resume in RRC_INACTIVE <a
href="#scg-suspendresume-in-rrc_inactive">48</a></p>
<p>8.4.4 SCG Deactivation and Activation <a
href="#scg-deactivation-and-activation">49</a></p>
<p>8.4.4.1 SN Addition with SCG Activation or Deactivation <a
href="#sn-addition-with-scg-activation-or-deactivation">50</a></p>
<p>8.4.4.2 MN initiated SN Modification with SCG Activation or
Deactivation <a
href="#mn-initiated-sn-modification-with-scg-activation-or-deactivation">51</a></p>
<p>8.4.4.3 SN initiated SN Modification with SCG Activation or
Deactivation <a
href="#sn-initiated-sn-modification-with-scg-activation-or-deactivation">52</a></p>
<p>8.5 F1 Startup and cells activation <a
href="#f1-startup-and-cells-activation">52</a></p>
<p>8.6 RRC state transition <a href="#rrc-state-transition">54</a></p>
<p>8.6.1 RRC connected to RRC inactive <a
href="#rrc-connected-to-rrc-inactive">54</a></p>
<p>8.6.2 RRC inactive to other states <a
href="#rrc-inactive-to-other-states">54</a></p>
<p>8.7 RRC connection reestablishment <a
href="#rrc-connection-reestablishment">56</a></p>
<p>8.8 Multiple TNLAs for F1-C <a
href="#multiple-tnlas-for-f1-c">58</a></p>
<p>8.9 Overall procedures involving E1 and F1 <a
href="#overall-procedures-involving-e1-and-f1">59</a></p>
<p>8.9.1 UE Initial Access <a href="#ue-initial-access-1">59</a></p>
<p>8.9.2 Bearer context setup over F1-U <a
href="#bearer-context-setup-over-f1-u">60</a></p>
<p>8.9.3 Bearer context release over F1-U <a
href="#bearer-context-release-over-f1-u">61</a></p>
<p>8.9.3.1 gNB-CU-CP initiated bearer context release <a
href="#gnb-cu-cp-initiated-bearer-context-release">61</a></p>
<p>8.9.3.2 gNB-CU-UP initiated bearer context release <a
href="#gnb-cu-up-initiated-bearer-context-release">62</a></p>
<p>8.9.4 Inter-gNB handover involving gNB-CU-UP change <a
href="#inter-gnb-handover-involving-gnb-cu-up-change">63</a></p>
<p>8.9.5 Change of gNB-CU-UP <a href="#change-of-gnb-cu-up">65</a></p>
<p>8.9.6 RRC State transition <a
href="#rrc-state-transition-1">66</a></p>
<p>8.9.6.1 RRC Connected to RRC Inactive <a
href="#rrc-connected-to-rrc-inactive-1">66</a></p>
<p>8.9.6.2 RRC Inactive to other states <a
href="#rrc-inactive-to-other-states-1">67</a></p>
<p>8.9.7 Trace activation/deactivation over F1 and E1 <a
href="#trace-activationdeactivation-over-f1-and-e1">69</a></p>
<p>8.9.8 BH RLC channel establishment procedure <a
href="#bh-rlc-channel-establishment-procedure">69</a></p>
<p>8.9.9 Traffic Mapping <a href="#traffic-mapping">71</a></p>
<p>8.9.9.1 Traffic Mapping from IP-layer to Layer-2 <a
href="#traffic-mapping-from-ip-layer-to-layer-2">71</a></p>
<p>8.9.9.2 BH RLC Channel Mapping on BAP Layer <a
href="#bh-rlc-channel-mapping-on-bap-layer">71</a></p>
<p>8.9.10 IAB-node release <a href="#iab-node-release">71</a></p>
<p>8.9.10.1 IAB-node orderly release <a
href="#iab-node-orderly-release">72</a></p>
<p>8.9.10.2 IAB-node disorderly release <a
href="#iab-node-disorderly-release">72</a></p>
<p>8.9.11 IAB-node OAM <a href="#iab-node-oam">72</a></p>
<p>8.9.12 Handling of IAB-MTs in INACTIVE State <a
href="#handling-of-iab-mts-in-inactive-state">72</a></p>
<p>8.9.13 IP Address Allocation for IAB-nodes <a
href="#ip-address-allocation-for-iab-nodes">72</a></p>
<p>8.9.14 (void) <a href="#void">73</a></p>
<p>8.9.15 (void) <a href="#void-1">73</a></p>
<p>8.9.16 (void) <a href="#void-2">73</a></p>
<p>8.9.17 IAB-node authorization <a
href="#iab-node-authorization">73</a></p>
<p>8.9.17.1 IAB-node in NSA <a href="#iab-node-in-nsa">73</a></p>
<p>8.9.17.2 IAB-node with single IAB-donor in SA <a
href="#iab-node-with-single-iab-donor-in-sa">74</a></p>
<p>8.9.17.2.1 IAB-node is single-connected <a
href="#iab-node-is-single-connected">74</a></p>
<p>8.9.17.2.2 IAB-node is NR dual-connected <a
href="#iab-node-is-nr-dual-connected">74</a></p>
<p>8.9.17.3 IAB-node is served by two IAB-donors in SA <a
href="#iab-node-is-served-by-two-iab-donors-in-sa">74</a></p>
<p>8.10 Multiple TNLAs for E1 <a
href="#multiple-tnlas-for-e1">74</a></p>
<p>8.11 Support of Network Sharing with multiple cell-ID broadcast <a
href="#support-of-network-sharing-with-multiple-cell-id-broadcast">76</a></p>
<p>8.11.1 General <a href="#general-3">76</a></p>
<p>8.11.2 Initial Registration – separate PLMN signalling <a
href="#initial-registration-separate-plmn-signalling">76</a></p>
<p>8.11.3 RRC Connection Reestablishment – separate PLMN signalling <a
href="#rrc-connection-reestablishment-separate-plmn-signalling">77</a></p>
<p>8.11.4 Support of shared signalling transport <a
href="#support-of-shared-signalling-transport">78</a></p>
<p>8.12 IAB-node Integration Procedure <a
href="#iab-node-integration-procedure">78</a></p>
<p>8.12.1 Standalone IAB integration <a
href="#standalone-iab-integration">78</a></p>
<p>8.12.2 NSA IAB Integration procedure <a
href="#nsa-iab-integration-procedure">79</a></p>
<p>8.13 Overall procedures for MDT <a
href="#overall-procedures-for-mdt">81</a></p>
<p>8.13.0 General <a href="#general-4">81</a></p>
<p>8.13.1 Signalling based MDT activation <a
href="#signalling-based-mdt-activation">81</a></p>
<p>8.13.2 Management based MDT activation <a
href="#management-based-mdt-activation">81</a></p>
<p>8.13.2.1 General <a href="#general-5">81</a></p>
<p>8.13.2.2 Management based MDT Activation in gNB-CU-CP <a
href="#management-based-mdt-activation-in-gnb-cu-cp">82</a></p>
<p>8.13.2.3 Management based MDT Activation in gNB-DU <a
href="#management-based-mdt-activation-in-gnb-du">82</a></p>
<p>8.13.2.4 Management based MDT Activation in gNB-CU-UP <a
href="#management-based-mdt-activation-in-gnb-cu-up">83</a></p>
<p>8.13.2.5 User consent propagation in EN-DC <a
href="#user-consent-propagation-in-en-dc">84</a></p>
<p>8.13.2.6 User consent propagation in MR-DC with 5GC <a
href="#user-consent-propagation-in-mr-dc-with-5gc">85</a></p>
<p>8.13.2.7 Management based trace activation in MR-DC with 5GC <a
href="#management-based-trace-activation-in-mr-dc-with-5gc">86</a></p>
<p>8.13.3 Alignment of MDT and QoE Measurements <a
href="#alignment-of-mdt-and-qoe-measurements">87</a></p>
<p>8.13.4 MDT reporting <a href="#mdt-reporting">87</a></p>
<p>8.14 Self-optimisation <a href="#self-optimisation">87</a></p>
<p>8.14.1 Overall procedures for MRO <a
href="#overall-procedures-for-mro">87</a></p>
<p>8.14.1.1 Signalling of RLF information from gNB-CU to gNB-DU <a
href="#signalling-of-rlf-information-from-gnb-cu-to-gnb-du">88</a></p>
<p>8.14.1.2 Signalling of RACH information from gNB-CU to gNB-DU <a
href="#signalling-of-rach-information-from-gnb-cu-to-gnb-du">88</a></p>
<p>8.15 Overall procedures for NR MBS <a
href="#overall-procedures-for-nr-mbs">89</a></p>
<p>8.15.1 General <a href="#general-6">89</a></p>
<p>8.15.1.1 Broadcast MBS Session Setup <a
href="#broadcast-mbs-session-setup">89</a></p>
<p>8.15.1.2 Multicast MBS Session Context Establishment <a
href="#multicast-mbs-session-context-establishment">90</a></p>
<p>8.15.1.3 Multicast MRB type re-configuration with F1-U
ptp-retransmission tunnel establishment <a
href="#multicast-mrb-type-re-configuration-with-f1-u-ptp-retransmission-tunnel-establishment">92</a></p>
<p>8.15.2 Mobility procedure for Multicast <a
href="#mobility-procedure-for-multicast">93</a></p>
<p>8.15.2.1 Inter-gNB-CU Mobility between MBS Supporting nodes <a
href="#inter-gnb-cu-mobility-between-mbs-supporting-nodes">93</a></p>
<p>8.16 Overall procedures for CPAC <a
href="#overall-procedures-for-cpac">94</a></p>
<p>8.16.1 MN initiated Conditional PSCell Addition <a
href="#mn-initiated-conditional-pscell-addition">94</a></p>
<p>8.16.2 MN initiated conditional SN Change <a
href="#mn-initiated-conditional-sn-change">95</a></p>
<p>8.16.3 SN initiated conditional inter-SN Change <a
href="#sn-initiated-conditional-inter-sn-change">95</a></p>
<p>8.17 IAB Inter-CU Topology Management <a
href="#iab-inter-cu-topology-management">95</a></p>
<p>8.17.1 IAB Inter-donor-DU Re-routing <a
href="#iab-inter-donor-du-re-routing">95</a></p>
<p>8.17.2 IAB Inter-CU Topology Redundancy <a
href="#iab-inter-cu-topology-redundancy">96</a></p>
<p>8.17.2.1 IAB Inter-CU topological redundancy procedure <a
href="#iab-inter-cu-topological-redundancy-procedure">96</a></p>
<p>8.17.3 IAB Inter-CU Topology Adaptation <a
href="#iab-inter-cu-topology-adaptation">98</a></p>
<p>8.17.3.1 IAB inter-CU topology adaptation procedure <a
href="#iab-inter-cu-topology-adaptation-procedure">98</a></p>
<p>8.17.3.2 IAB inter-CU topology adaptation procedure with descendant
IAB-node <a
href="#iab-inter-cu-topology-adaptation-procedure-with-descendant-iab-node">101</a></p>
<p>8.17.4 IAB Inter-CU Backhaul RLF recovery for single connected
IAB-node <a
href="#iab-inter-cu-backhaul-rlf-recovery-for-single-connected-iab-node">103</a></p>
<p>8.18 Overall procedure for Small Data Transmission during RRC
Inactive <a
href="#overall-procedure-for-small-data-transmission-during-rrc-inactive">106</a></p>
<p>8.18.1 RACH based SDT <a href="#rach-based-sdt">106</a></p>
<p>8.18.2 CG based SDT <a href="#cg-based-sdt">107</a></p>
<p>8.18.3 RA-SDT or non-SDT with CG-SDT configuration <a
href="#ra-sdt-or-non-sdt-with-cg-sdt-configuration">108</a></p>
<p>8.19 Overall procedures for L2 UE-to-Network Relay <a
href="#overall-procedures-for-l2-ue-to-network-relay">109</a></p>
<p>8.19.1 Remote UE initial access <a
href="#remote-ue-initial-access">109</a></p>
<p>8.19.2 Remote UE RRC Reestablishment <a
href="#remote-ue-rrc-reestablishment">112</a></p>
<p>8.19.3 Remote UE RRC Inactive to other states <a
href="#remote-ue-rrc-inactive-to-other-states">114</a></p>
<p>8.19.4 Service Continuity for L2 U2N relay <a
href="#service-continuity-for-l2-u2n-relay">116</a></p>
<p>8.19.4.1 Inter-gNB-DU switch from direct to indirect path <a
href="#inter-gnb-du-switch-from-direct-to-indirect-path">116</a></p>
<p>8.19.4.2 Intra-gNB-DU switch from direct to indirect path <a
href="#intra-gnb-du-switch-from-direct-to-indirect-path">118</a></p>
<p>8.20 Void <a href="#void-3">119</a></p>
<p>9 Synchronization <a href="#synchronization">119</a></p>
<p>9.1 gNB Synchronization <a href="#gnb-synchronization">119</a></p>
<p>10 NG-RAN interfaces <a href="#ng-ran-interfaces">120</a></p>
<p>10.1 NG interface <a href="#ng-interface">120</a></p>
<p>10.2 Xn interface <a href="#xn-interface">120</a></p>
<p>10.3 F1 interface <a href="#f1-interface">120</a></p>
<p>10.4 E1 interface <a href="#e1-interface">120</a></p>
<p>10.5 Antenna interface - general principles <a
href="#antenna-interface---general-principles">120</a></p>
<p>11 Overall procedures in NG-RAN Architecure <a
href="#overall-procedures-in-ng-ran-architecure">121</a></p>
<p>11.1 Multiple TNLAs for Xn-C <a
href="#multiple-tnlas-for-xn-c">121</a></p>
<p>Annex A (informative): Deployment scenarios of gNB/en-gNB <a
href="#annex-a-informative-deployment-scenarios-of-gnben-gnb">122</a></p>
<p>Annex B: NG-RAN Architecture for Radio Access Network Sharing with
multiple cell ID broadcast (informative) <a
href="#annex-b-ng-ran-architecture-for-radio-access-network-sharing-with-multiple-cell-id-broadcast-informative">123</a></p>
<p>Annex C (informative): Change History <a
href="#annex-c-informative-change-history">124</a></p>
<h1 id="foreword"><br />
Foreword</h1>
<p>This Technical Specification has been produced by the 3<sup>rd</sup>
Generation Partnership Project (3GPP).</p>
<p>The contents of the present document are subject to continuing work
within the TSG and may change following formal TSG approval. Should the
TSG modify the contents of the present document, it will be re-released
by the TSG with an identifying change of release date and an increase in
version number as follows:</p>
<p>Version x.y.z</p>
<p>where:</p>
<p>x the first digit:</p>
<p>1 presented to TSG for information;</p>
<p>2 presented to TSG for approval;</p>
<p>3 or greater indicates TSG approved document under change
control.</p>
<p>y the second digit is incremented for all changes of substance, i.e.
technical enhancements, corrections, updates, etc.</p>
<p>z the third digit is incremented when editorial only changes have
been incorporated in the document.</p>
<h1 id="scope"><br />
1 Scope</h1>
<p>The present document describes the overall architecture of the
NG-RAN, including interfaces NG, Xn and F1 interfaces and their
interaction with the radio interface.</p>
<h1 id="references">2 References</h1>
<p>The following documents contain provisions which, through reference
in this text, constitute provisions of the present document.</p>
<p>- References are either specific (identified by date of publication,
edition number, version number, etc.) or non‑specific.</p>
<p>- For a specific reference, subsequent revisions do not apply.</p>
<p>- For a non-specific reference, the latest version applies. In the
case of a reference to a 3GPP document (including a GSM document), a
non-specific reference implicitly refers to the latest version of that
document <em>in the same Release as the present document</em>.</p>
<p>[1] 3GPP TR 21.905: "Vocabulary for 3GPP Specifications".</p>
<p>[2] 3GPP TS 38.300: "NR; Overall description; Stage-2".</p>
<p>[3] 3GPP TS 23.501: "System Architecture for the 5G System".</p>
<p>[4] 3GPP TS 38.473: "NG-RAN; F1 application protocol (F1AP)".</p>
<p>[5] 3GPP TS 38.414: "NG-RAN; NG data transport".</p>
<p>[6] 3GPP TS 38.424: "NG-RAN; Xn data transport".</p>
<p>[7] 3GPP TS 38.474: "NG-RAN; F1 data transport".</p>
<p>[8] ITU-T Recommendation G.823 (2000-03): "The control of jitter and
wander within digital networks which are based on the 2048 kbit/s
hierarchy".</p>
<p>[9] ITU-T Recommendation G.824 (2000-03): "The control of jitter and
wander within digital networks which are based on the 1544 kbit/s
hierarchy".</p>
<p>[10] ITU-T Recommendation G.825 (2001-08): "The control of jitter and
wander within digital networks which are based on the synchronous
digital hierarchy (SDH)".</p>
<p>[11] ITU-T Recommendation G.8261/Y.1361 (2008-04): "Timing and
Synchronization aspects in Packet networks".</p>
<p>[12] 3GPP TS 37.340: "NR; Multi-connectivity; Overall description;
Stage-2".</p>
<p>[13] 3GPP TS 33.501: "Security Architecture and Procedures for 5G
System".</p>
<p>[14] 3GPP TS 38.410: "NG-RAN; NG general aspect and principles".</p>
<p>[15] 3GPP TS 38.420: "NG-RAN; Xn general aspects and principles"</p>
<p>[16] 3GPP TS 38.470: "NG-RAN; F1 general aspects and principles".</p>
<p>[17] 3GPP TS 38.460: "NG-RAN; E1 general aspects and principles".</p>
<p>[18] 3GPP TS 33.210: "3G security; Network Domain Security (NDS); IP
Network Layer Security".</p>
<p>[19] 3GPP TS 36.300: "Evolved Universal Terrestrial Radio Access
(E-UTRA), Evolved Universal Terrestrial Radio Access Network (E-UTRAN);
Overall description; Stage 2".</p>
<p>[20] 3GPP TS 32.422: "Trace control and configuration
management".</p>
<p>[21] 3GPP TS 37.470: "Evolved Universal Terrestrial Radio Access
Network (E-UTRAN) and NG-RAN; W1 general aspects and principles;
Stage-2".</p>
<p>[22] 3GPP TS 38.340: "NR; Backhaul Adaptation Protocol (BAP)
specification".</p>
<p>[23] 3GPP TS 38.331: "NR; Radio Resource Control (RRC) protocol
specification".</p>
<p>[24] 3GPP TS 38.425: "NG-RAN; NR user plane Protocol".</p>
<p>[25] 3GPP TS 38.305: "NG Radio Access Network (NG-RAN); Stage 2
functional specification of User Equipment (UE) positioning in
NG-RAN".</p>
<p>[26] 3GPP TS 38.472: "NG-RAN; F1 signalling transport".</p>
<p>[27] 3GPP TS 23.247: " Architectural enhancements for 5G
multicast-broadcast services; Stage 2".</p>
<p>[28] 3GPP TS 36.401: "Evolved Universal Terrestrial Radio Access
Network (E-UTRAN); Architecture Description".</p>
<p>[29] IETF RFC 4555 (2006-06): "RFC IKEv2 Mobility and Multihoming
Protocol (MOBIKE)".</p>
<p>[30] 3GPP TS 38.321 “NR; Medium Access Control (MAC) protocol
specification”.</p>
<p>[31] 3GPP TS 37.320: "Radio measurement collection for Minimization
of Drive Tests (MDT); Overall description; Stage 2".</p>
<h1 id="definitions-and-abbreviations">3 Definitions and
abbreviations</h1>
<h2 id="definitions">3.1 Definitions</h2>
<p>For the purposes of the present document, the terms and definitions
given in TR 21.905 [1] and the following apply.<br />
A term defined in the present document takes precedence over the
definition of the same term, if any, in TR 21.905 [1].</p>
<p><strong>Associated QoS Flow:</strong> as defined in TS 23.247
[27].</p>
<p><strong>Associated QoS flow information:</strong> Information
encompassing: QoS flow QoS parameters for associated QoS flows and
mapping information between mapped (unicast) QoS flows and associated
QoS flows. The respective information is included in a way that
non-supporting RAN nodes would not establish respective RAN resources
irrespective the multicast session state.</p>
<p><strong>Boundary IAB-node:</strong> an IAB-node with one RRC
interface terminating at a different IAB-donor-CU than the F1 interface.
This definition applies to partial migration, inter-donor redundancy and
inter-donor RLF recovery.</p>
<p><strong>Conditional Handover:</strong> as defined in TS 38.300
[2].</p>
<p><strong>Conditional PSCell Addition:</strong> as defined in TS 37.340
[12].</p>
<p><strong>Conditional PSCell Change:</strong> as defined in TS 37.340
[12].</p>
<p><strong>DAPS Handover:</strong> as defined in TS 38.300 [2].</p>
<p><strong>eNB-CP</strong>: as defined in TS 36.401 [28].</p>
<p><strong>eNB-UP</strong>: as defined in TS 36.401 [28].</p>
<p><strong>en-gNB</strong>: as defined in TS 37.340 [12].</p>
<p><strong>Early Data Forwarding</strong>: as defined in TS 38.300
[2].</p>
<p><strong>F1-terminating IAB-donor of boundary IAB-node</strong>:
Refers to the IAB-donor that terminates F1 for the boundary
IAB-node.</p>
<p><strong>gNB:</strong> as defined in TS 38.300 [2].</p>
<p><strong>gNB Central Unit (gNB-CU):</strong> a logical node hosting
RRC, SDAP and PDCP protocols of the gNB or RRC and PDCP protocols of the
en-gNB that controls the operation of one or more gNB-DUs. The gNB-CU
terminates the F1 interface connected with the gNB-DU.</p>
<p><strong>gNB Distributed Unit (gNB-DU):</strong> a logical node
hosting RLC, MAC and PHY layers of the gNB or en-gNB, and its operation
is partly controlled by gNB-CU. One gNB-DU supports one or multiple
cells. One cell is supported by only one gNB-DU. The gNB-DU terminates
the F1 interface connected with the gNB-CU. For DC operation, the
MgNB-DU designates the gNB-DU of an en-gNB or a gNB acting as master
node, and the SgNB-DU designates the gNB-DU of an en-gNB or a gNB acting
as secondary node.</p>
<p><strong>gNB-CU-Control Plane (gNB-CU-CP):</strong> a logical node
hosting the RRC and the control plane part of the PDCP protocol of the
gNB-CU for an en-gNB or a gNB. The gNB-CU-CP terminates the E1 interface
connected with the gNB-CU-UP and the F1-C interface connected with the
gNB-DU. For DC operation, the MgNB-CU-CP designates the gNB-CU-CP of the
gNB-CU for an en-gNB or a gNB acting as master node, and the SgNB-CU-CP
designates the gNB-CU-CP of the gNB-CU for an en-gNB or a gNB acting as
secondary node.</p>
<p><strong>gNB-CU-User Plane (gNB-CU-UP):</strong> a logical node
hosting the user plane part of the PDCP protocol of the gNB-CU for an
en-gNB, and the user plane part of the PDCP protocol and the SDAP
protocol of the gNB-CU for a gNB. The gNB-CU-UP terminates the E1
interface connected with the gNB-CU-CP and the F1-U interface connected
with the gNB-DU. For DC operation, the MgNB-CU-UP designates the
gNB-CU-UP of the gNB-CU for an en-gNB or a gNB acting as master node,
and the the SgNB-CU-UP designates the gNB-CU-UP of the gNB-CU for an
en-gNB or a gNB acting as secondary node.</p>
<p><strong>IAB-node</strong>: as defined in TS 38.300 [2].</p>
<p><strong>IAB-donor</strong>: as defined in TS 38.300 [2].</p>
<p><strong>IAB-donor-CU</strong>: the gNB-CU of an IAB-donor,
terminating the F1 interface towards IAB-nodes and IAB-donor-DU.</p>
<p><strong>IAB-donor-DU</strong>: the gNB-DU of an IAB-donor, hosting
the IAB BAP sublayer (as defined in TS 38.340 [22]), providing wireless
backhaul to IAB-nodes.</p>
<p><strong>IAB-DU</strong>: as defined in TS 38.300 [2].</p>
<p><strong>IAB-MT</strong>: as defined in TS 38.300 [2].</p>
<p><strong>IAB Topology</strong>: as defined in TS 38.300 [2].</p>
<p><strong>Mapped QoS flows:</strong> Unicast QoS flows requested to be
established, i.e. included in the legacy QoS flow lists in a way, that
non-support RAN nodes would attempt to establish unicast QoS flows and
supporting RAN nodes can identify them as mapped QoS flows based on the
associated QoS information.</p>
<p><strong>Master node:</strong> as defined in TS 37.340 [12].</p>
<p><strong>Master gNB:</strong> see TS 37.340 [12].</p>
<p><strong>MBS session resource</strong>: This term is used for
specification of NG, Xn, F1 and E1 interfaces. It denotes NG-RAN
interface and radio resources provided to support an MBS Session.</p>
<p><strong>ng-eNB:</strong> as defined in TS 38.300 [2].</p>
<p><strong>ng-eNB Central Unit (ng-eNB-CU):</strong> as defined in TS
37.470 [21].</p>
<p><strong>ng-eNB Distributed Unit (ng-eNB-DU):</strong> as defined in
TS 37.470 [21].</p>
<p><strong>ng-eNB-CU-Control Plane (ng-eNB-CU-CP):</strong> a logical
node hosting the RRC and the control plane part of the PDCP protocol of
the ng-eNB-CU for an ng-eNB. The ng-eNB-CU-CP terminates the E1
interface connected with the ng-eNB-CU-UP and the W1-C interface
connected with the ng-eNB-DU.</p>
<p><strong>ng-eNB-CU-User Plane (ng-eNB-CU-UP):</strong> a logical node
hosting the user plane part of the PDCP protocol and the SDAP protocol
of the ng-eNB-CU for an ng-eNB. The ng-eNB-CU-UP terminates the E1
interface connected with the ng-eNB-CU-CP and the W1-U interface
connected with the ng-eNB-DU.</p>
<p><strong>NG-RAN node:</strong> as defined in TS 38.300 [2].</p>
<p><strong>Non-F1-terminating IAB-donor of boundary IAB-node</strong>:
Refers to the IAB-donor that has an RRC connection with the boundary
node but does not terminate F1 with this boundary node.</p>
<p><strong>PDU Session Resource</strong>: This term is used for
specification of NG, Xn, and E1 interfaces. It denotes NG-RAN interface
and radio resources provided to support a PDU Session.</p>
<p><strong>Public Network Integrated NPN:</strong> as defined in TS
23.501 [3].</p>
<p><strong>Secondary gNB:</strong> see TS 37.340 [12].</p>
<p><strong>Stand-alone Non-Public Network:</strong> as defined in TS
23.501 [3].</p>
<p><strong>U2N Relay UE:</strong> as defined in TS 38.300 [2].</p>
<p><strong>U2N Remote UE:</strong> as defined in TS 38.300 [2].</p>
<h2 id="abbreviations">3.2 Abbreviations</h2>
<p>For the purposes of the present document, the terms and definitions
given in TR 21.905 [1] and the following apply.<br />
A term defined in the present document takes precedence over the
definition of the same term, if any, in TR 21.905 [1].</p>
<p>5GC 5G Core Network</p>
<p>AMF Access and Mobility Management Function</p>
<p>AP Application Protocol</p>
<p>AS Access Stratum</p>
<p>BH Backhaul</p>
<p>CAG Closed Access Group</p>
<p>CHO Conditional Handover</p>
<p>CLI Cross-Link Interference</p>
<p>CM Connection Management</p>
<p>CMAS Commercial Mobile Alert Service</p>
<p>CPA Conditional PSCell Addition</p>
<p>CPC Conditional PSCell Change</p>
<p>DAPS Dual Active Protocol Stack</p>
<p>EM Element Manager</p>
<p>EN-DC E-UTRA-NR Dual Connectivity</p>
<p>ETWS Earthquake and Tsunami Warning System</p>
<p>F1-U F1 User plane interface</p>
<p>F1-C F1 Control plane interface</p>
<p>F1AP F1 Application Protocol</p>
<p>FDD Frequency Division Duplex</p>
<p>FTEID Fully Qualified TEID</p>
<p>GTP-U GPRS Tunnelling Protocol</p>
<p>IAB Integrated Access and Backhaul</p>
<p>IP Internet Protocol</p>
<p>L2 Layer-2</p>
<p>MBS Multicast Broadcast Service</p>
<p>MCG Master Cell Group</p>
<p>MDT Minimization of Drive Tests</p>
<p>MN Master Node</p>
<p>MgNB Master gNB</p>
<p>MRB MBS Radio Bearer</p>
<p>MRDC Multi-Radio Dual Connectivity</p>
<p>NAS Non-Access Stratum</p>
<p>NID Network identifier</p>
<p>NPN Non-Public Network</p>
<p>NSA Non Standalone</p>
<p>OAM Operation, Administration and Maintenance</p>
<p>PNI-NPN Public Network Integrated Non-Public Network</p>
<p>PTP Point to Point</p>
<p>PTM Point to Multipoint</p>
<p>PWS Public Warning System</p>
<p>QoE Quality of Experience</p>
<p>QoS Quality of Service</p>
<p>RET Remote Electrical Tilting</p>
<p>RIM Remote Interference Management</p>
<p>RIM-RS Remote Interference Management Reference Signal</p>
<p>RNL Radio Network Layer</p>
<p>RRC Radio Resource Control</p>
<p>SA Standalone</p>
<p>SAP Service Access Point</p>
<p>SCG Secondary Cell Group</p>
<p>SCTP Stream Control Transmission Protocol</p>
<p>SDT Small Data Transmission</p>
<p>SFN System Frame Number</p>
<p>SgNB Secondary gNB</p>
<p>SM Session Management</p>
<p>SMF Session Management Function</p>
<p>SN Secondary Node</p>
<p>SNPN Stand-alone Non-Public Network</p>
<p>SRAP Sidelink Relay Adaptation Protocol</p>
<p>TCE Trace Collection Entity</p>
<p>TDD Time Division Duplex</p>
<p>TDM Time Division Multiplexing</p>
<p>TEID Tunnel Endpoint Identifier</p>
<p>TMA Tower Mounted Amplifier</p>
<p>TNL Transport Network Layer</p>
<p>U2N UE-to-Network</p>
<h1 id="general-principles">4 General principles</h1>
<p>The general principles guiding the definition of NG-RAN architecture
as well as the NG-RAN interfaces are the following:</p>
<p>- Logical separation of signalling and data transport networks.</p>
<p>- NG-RAN and 5GC functions are fully separated from transport
functions. Addressing scheme used in NG-RAN and 5GC shall not be tied to
the addressing schemes of transport functions. The fact that some NG-RAN
or 5GC functions reside in the same equipment as some transport
functions does not make the transport functions part of the NG-RAN or
the 5GC.</p>
<p>- Mobility for an RRC connection is fully controlled by the
NG-RAN.</p>
<p>- The NG-RAN interfaces are defined along the following
principles:</p>
<p>- The functional division across the interfaces have as few options
as possible.</p>
<p>- Interfaces are based on a logical model of the entity controlled
through this interface.</p>
<p>- One physical network element can implement multiple logical
nodes.</p>
<h1 id="general-architecture">5 General architecture</h1>
<h2 id="general">5.1 General</h2>
<p>The protocols over Uu and NG interfaces are divided into two
structures:</p>
<p><strong>- User plane protocols</strong></p>
<p>These are the protocols implementing the actual PDU Session service,
i.e. carrying user data through the access stratum.</p>
<p><strong>- Control plane protocols</strong></p>
<p>These are the protocols for controlling the PDU Sessions and the
connection between the UE and the network from different aspects
(including requesting the service, controlling different transmission
resources, handover etc.). Also a mechanism for transparent transfer of
NAS messages is included.</p>
<h2 id="user-plane">5.2 User plane</h2>
<p>The PDU Session Resource service is offered from SAP to SAP by the
Access Stratum. Figure 5.2-1 shows the protocols on the Uu and the NG
interfaces that linked together provide this PDU Session Resource
service.</p>
<p><img src="media/image3.svg" /></p>
<p>Note 1: The radio interface protocols are defined in TS 38.2xx and
TS 38.3xx.</p>
<p>Note 2: The NG interface protocols are defined in TS 38.41x.</p>
<p>Figure 5.2-1: NG and Uu user plane</p>
<h2 id="control-plane">5.3 Control plane</h2>
<p>Figure 5.3-1 shows the control plane (signalling) protocol stacks on
NG and Uu interfaces.</p>
<p><img src="media/image4.svg" /></p>
<p>Note 1: The radio interface protocols are defined in TS 38.2xx and
TS 38.3xx.</p>
<p>Note 2: The protocol is defined in TS 38.41x. (Description of NG
interface).</p>
<p>Note 3: CM, SM: This exemplifies a set of NAS control protocols
between UE and 5GC. The evolution of the protocol architecture for these
protocols is outside the scope of the present document.</p>
<p>Figure 5.3-1: NG and Uu control plane</p>
<p>NOTE: Both the Radio protocols and the NG protocols contain a
mechanism to transparently transfer NAS messages.</p>
<h1 id="ng-ran-architecture">6 NG-RAN architecture</h1>
<h2 id="overview">6.1 Overview</h2>
<h3 id="overall-architecture-of-ng-ran">6.1.1 Overall Architecture of
NG-RAN</h3>
<p><img src="media/image5.svg" /></p>
<p>Figure 6.1-1: Overall architecture</p>
<p>The NG-RAN consists of a set of gNBs connected to the 5GC through the
NG interface.</p>
<p>NOTE 1: As specified in TS 38.300 [2], NG-RAN could also consists of
a set of ng-eNBs, an ng-eNB may consist of an ng-eNB-CU and one or more
ng-eNB-DU(s). An ng-eNB-CU and an ng-eNB-DU is connected via W1
interface. The general principle described in this clause also applies
to ng-eNB and W1 interface, if not explicitly specified otherwise.</p>
<p>An gNB can support FDD mode, TDD mode or dual mode operation.</p>
<p>gNBs can be interconnected through the Xn interface.</p>
<p>A gNB may consist of a gNB-CU and one or more gNB-DU(s). A gNB-CU and
a gNB-DU is connected via F1 interface.</p>
<p>One gNB-DU is connected to only one gNB-CU.</p>
<p>NOTE 2: In case of network sharing with multiple cell ID broadcast,
each Cell Identity associated with a subset of PLMNs corresponds to a
gNB-DU and the gNB-CU it is connected to, i.e. the corresponding gNB-DUs
share the same physical layer cell resources.</p>
<p>NOTE 3: For resiliency, a gNB-DU may be connected to multiple gNB-CUs
by appropriate implementation.</p>
<p>NG, Xn and F1 are logical interfaces.</p>
<p>For NG-RAN, the NG and Xn-C interfaces for a gNB consisting of a
gNB-CU and gNB-DUs, terminate in the gNB-CU. For EN-DC, the S1-U and
X2-C interfaces for a gNB consisting of a gNB-CU and gNB-DUs, terminate
in the gNB-CU. The gNB-CU and connected gNB-DUs are only visible to
other gNBs and the 5GC as a gNB. A possible deployment scenario is
described in Annex A.</p>
<p>The node hosting user plane part of NR PDCP (e.g. gNB-CU, gNB-CU-UP,
and for EN-DC, MeNB or SgNB depending on the bearer split) shall perform
user inactivity monitoring and further informs its inactivity or
(re)activation to the node having C-plane connection towards the core
network (e.g. over E1, X2). The node hosting NR RLC (e.g. gNB-DU) may
perform user inactivity monitoring and further inform its inactivity or
(re)activation to the node hosting control plane, e.g. gNB-CU or
gNB-CU-CP.</p>
<p>UL PDCP configuration (i.e. how the UE uses the UL at the assisting
node) is indicated via X2-C (for EN-DC), Xn-C (for NG-RAN) and F1-C.
Radio Link Outage/Resume for DL and/or UL is indicated via X2-U (for
EN-DC), Xn-U (for NG-RAN) and F1-U.</p>
<p>The NG-RAN is layered into a Radio Network Layer (RNL) and a
Transport Network Layer (TNL).</p>
<p>The NG-RAN architecture, i.e. the NG-RAN logical nodes and interfaces
between them, is defined as part of the RNL.</p>
<p>For each NG-RAN interface (NG, Xn, F1) the related TNL protocol and
the functionality are specified. The TNL provides services for user
plane transport, signalling transport.</p>
<p>In NG-Flex configuration, each NG-RAN node is connected to all AMFs
of AMF Sets within an AMF Region supporting at least one slice also
supported by the NG-RAN node. The AMF Set and the AMF Region are defined
in TS 23.501 [3].</p>
<p>If security protection for control plane and user plane data on TNL
of NG-RAN interfaces has to be supported, NDS/IP TS 33.501 [13] shall be
applied.</p>
<h3
id="overall-architecture-for-separation-of-gnb-cu-cp-and-gnb-cu-up">6.1.2
Overall architecture for separation of gNB-CU-CP and gNB-CU-UP</h3>
<p>The overall architecture for separation of gNB-CU-CP and gNB-CU-UP is
depicted in Figure 6.1.2-1.</p>
<p>NOTE 0: NG-RAN could also consist of a set of ng-eNBs, an ng-eNB may
consist of an ng-eNB-CU-CP, one or more ng-eNB-CU-UP(s), and one or more
ng-eNB-DU(s). An ng-eNB-CU-CP and an ng-eNB-CU-UP is connected via the
E1 interface. An ng-eNB-DU is connected to an ng-eNB-CU-CP via the W1-C
interface, and to an ng-eNB-CU-UP via the W1-U interface. The general
principle described in this clause also applies to ng-eNB and its
corresponding E1 and W1 interfaces, if not explicitly specified
otherwise.</p>
<p><img src="media/image6.svg" /></p>
<p>Figure 6.1.2-1. Overall architecture for separation of gNB-CU-CP and
gNB-CU-UP</p>
<p>- A gNB may consist of a gNB-CU-CP, multiple gNB-CU-UPs and multiple
gNB-DUs;</p>
<p>- The gNB-CU-CP is connected to the gNB-DU through the F1-C
interface;</p>
<p>- The gNB-CU-UP is connected to the gNB-DU through the F1-U
interface;</p>
<p>- The gNB-CU-UP is connected to the gNB-CU-CP through the E1
interface;</p>
<p>- One gNB-DU is connected to only one gNB-CU-CP;</p>
<p>- One gNB-CU-UP is connected to only one gNB-CU-CP;</p>
<p>NOTE 1: For resiliency, a gNB-DU and/or a gNB-CU-UP may be connected
to multiple gNB-CU-CPs by appropriate implementation.</p>
<p>- One gNB-DU can be connected to multiple gNB-CU-UPs under the
control of the same gNB-CU-CP;</p>
<p>- One gNB-CU-UP can be connected to multiple DUs under the control of
the same gNB-CU-CP;</p>
<p>NOTE 2: The connectivity between a gNB-CU-UP and a gNB-DU is
established by the gNB-CU-CP using Bearer Context Management
functions.</p>
<p>NOTE 3: The gNB-CU-CP selects the appropriate gNB-CU-UP(s) for the
requested services for the UE. In case of multiple CU-UPs they belong to
same security domain as defined in TS 33.210 [18].</p>
<p>NOTE 4: Data forwarding between gNB-CU-UPs during intra-gNB-CU-CP
handover within a gNB may be supported by Xn-U.</p>
<h3 id="overall-architecture-of-iab">6.1.3 Overall Architecture of
IAB</h3>
<p><img src="media/image7.svg" /></p>
<p>Figure 6.1.3-1: Overall architecture of IAB</p>
<p>The NG-RAN supports IAB by the IAB-node wirelessly connecting to the
gNB capable of serving the IAB-nodes, named IAB-donor.</p>
<p>The IAB-donor consists of an IAB-donor-CU and one or more
IAB-donor-DU(s). In case of separation of gNB-CU-CP and gNB-CU-UP, the
IAB-donor may consist of an IAB-donor-CU-CP, multiple IAB-donor-CU-UPs
and multiple IAB-donor-DUs.</p>
<p>The IAB-node connects to an upstream IAB-node or an IAB-donor-DU via
a subset of the UE functionalities of the NR Uu interface (named IAB-MT
function of IAB-node). The IAB-node provides wireless backhaul to the
downstream IAB-nodes and UEs via the network functionalities of the NR
Uu interface (named IAB-DU function of IAB-node).</p>
<p>The F1-C traffic between an IAB-node and IAB-donor-CU is backhauled
via the IAB-donor-DU and the optional intermediate hop IAB-node(s).</p>
<p>The F1-U traffic between an IAB-node and IAB-donor-CU is backhauled
via the IAB-donor-DU and the optional intermediate hop IAB-node(s).</p>
<p>All functions specified for a gNB-DU are equally applicable for an
IAB-DU and IAB-donor-DU, unless otherwise stated, and all functions
specified for a gNB-CU are equally applicable for an IAB-donor-CU,
unless otherwise stated. All functions specified for the UE context are
equally applicable for managing the context of IAB-MT, unless otherwise
stated.</p>
<h3 id="protocol-stacks-of-iab">6.1.4 Protocol stacks of IAB </h3>
<p>Figure 6.1.4-1 shows the protocol stack for F1-U between IAB-DU and
the IAB-donor-CU-UP, and Figure 6.1.4-2 shows the protocol stack for
F1-C between IAB-DU and the IAB-donor-CU-CP. In these example figures,
F1-U and F1-C traffic are carried over two backhaul hops.</p>
<p>NOTE: F1 needs to be security-protected as described in TS 33.501.
The security layer is not shown in the Figure 6.1.4-1, Figure 6.1.4-2
and Figure 6.1.4-3.</p>
<p><img src="media/image8.svg" /></p>
<p>Figure 6.1.4-1: Protocol stack for F1-U of IAB</p>
<p><img src="media/image9.svg" /></p>
<p>Figure. 6.1.4-2: Protocol stack for F1-C of IAB</p>
<p>Figure 6.1.4-3 shows the protocol stack for F1-C between IAB-DU and
the IAB-donor-CU-CP, when the F1-C traffic is exchanged via the
MeNB.</p>
<p><strong>IAB-node</strong></p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>X2AP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>X2AP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>LTE RRC</p>
<p>LTE PDCP</p>
<p>LTE RLC</p>
<p>LTE MAC</p>
<p>LTE PHY</p>
<p>LTE RRC</p>
<p>LTE PDCP</p>
<p>LTE RLC</p>
<p>LTE MAC</p>
<p>LTE PHY</p>
<p>IAB-DU</p>
<p>IAB-MT</p>
<p><strong>MeNB</strong></p>
<p><strong>IAB-donor-CU-CP</strong></p>
<p>LTE-Uu</p>
<p>X2-C</p>
<p>Fig. 6.1.4-3: Protocol stack for IAB F1-C traffic exchanged via the
MeNB</p>
<p>Figure 6.1.4-4 shows the protocol stack for F1-C between IAB-DU and
the IAB-donor-CU-CP, when the F1-C traffic is exchanged via the
MgNB.</p>
<p><strong>IAB-node</strong></p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>XnAP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>XnAP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>NR RLC</p>
<p>NR MAC</p>
<p>NR PHY</p>
<p>NR RRC</p>
<p>NR PDCP</p>
<p>NR RLC</p>
<p>NR MAC</p>
<p>NR PHY</p>
<p>IAB-DU</p>
<p>IAB-MT</p>
<p><strong>MgNB</strong></p>
<p><strong>IAB-donor-CU-CP</strong></p>
<p>NR-Uu</p>
<p>Xn-C</p>
<p>NR PDCP</p>
<p>NR RRC</p>
<p> </p>
<p>Fig. 6.1.4-4: Protocol stack for IAB F1-C traffic exchanged via the
MgNB</p>
<p>Figure 6.1.4-5 shows the protocol stack for F1-C between IAB-DU and
the IAB-donor-CU-CP, when the F1-C traffic is exchanged via the
SgNB.</p>
<p><strong>IAB-node</strong></p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>F1AP</p>
<p>SCTP</p>
<p>IP</p>
<p>XnAP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>XnAP</p>
<p>SCTP</p>
<p>IP</p>
<p>L2</p>
<p>L1</p>
<p>NR RRC RRC</p>
<p>NR PDCP</p>
<p>NR RLC</p>
<p>NR MAC</p>
<p>NR PHY</p>
<p>NR RRC</p>
<p>NR PDCP</p>
<p>NR RLC</p>
<p>NR MAC</p>
<p>NR PHY</p>
<p>IAB-DU</p>
<p>IAB-MT</p>
<p><strong>SgNB</strong></p>
<p><strong>IAB-donor-CU-CP</strong></p>
<p>NR-Uu</p>
<p>Xn-C</p>
<p>Fig. 6.1.4-5: Protocol stack for IAB F1-C traffic exchanged via the
SgNB</p>
<h3 id="overall-architecture-of-nr-mbs">6.1.5 Overall Architecture of NR
MBS</h3>
<p>The overall architecture specified in clause 6.1.1 and 6.1.2 applies
for NR MBS.</p>
<p>Upon establishment of a MBS Session resource by the 5GC, the gNB-CU
triggers the establishment of MRBs, involving the gNB-DU. If E1 is
deployed, the gNB-CU-CP triggers establishment of respective MBS UP
resources in the gNB-CU-UP.</p>
<p>The gNB-DU assigns the G-RNTI.</p>
<p>A shared F1-U tunnel is used between the gNB-CU and the gNB-DU forMRB
with PTM transmission. UE dedicated F1-U tunnels are used between the
gNB-CU and the gNB-DU for data transmission of PTP retransmission and
PTP forwarding of an MRB. For an MRB configured with PTP only
transmission either a shared F1-U or a UE dedicated F1-U tunnel is used,
dependent on the lower layer configuration. The gNB-DU assigns the DL
GTP-U TEID and provides it to the gNB-CU. If E1 is deployed the
gNB-CU-CP forwards it to the gNB-CU-UP.</p>
<p>For both broadcast and multicast, DL flow control maybe used for the
shared F1-U tunnel established for the MRB, as specified in TS 38.425
[24].</p>
<h3 id="protocol-stacks-of-l2-ue-to-network-relay">6.1.6 Protocol stacks
of L2 UE-to-Network Relay</h3>
<p>The protocol stacks for the user plane and control plane of L2 U2N
Relay architecture are described in Figure 6.1.6-1 and Figure 6.1.6-2,
respectively. The Uu SRAP is terminated between U2N relay UE and
gNB-DU.</p>
<p><img src="media/image10.svg" /></p>
<p>Figure 6.1.6-1: User plane protocol stack for L2 UE-to-Network
Relay</p>
<p><img src="media/image11.svg" /></p>
<p>Figure 6.1.6-2: Control plane protocol stack for L2 UE-to-Network
Relay</p>
<h2 id="ng-ran-identifiers">6.2 NG-RAN identifiers</h2>
<h3 id="principle-of-handling-application-protocol-identities">6.2.1
Principle of handling Application Protocol Identities</h3>
<p>An Application Protocol Identity (AP ID) is allocated when a new
UE-associated logical connection is created in either an NG-RAN node or
an AMF. An AP ID shall uniquely identify a logical connection associated
to a UE over the NG interface or Xn interface within a node (NG-RAN node
or AMF) or over the F1 interface or over the E1 interface or over the W1
interface. Upon receipt of a message that has a new AP ID from the
sending node, the receiving node shall store the AP ID of the sending
node for the duration of the logical connection. The receiving node
shall assign the AP ID to be used to identify the logical connection
associated to the UE and include it as well as the previously received
new AP ID from the sending node, in the first returned message to the
sending node. In all subsequent messages to and from sending node, both
AP IDs of sending node and receiving node shall be included. For
MBS-associated logical connections of the E1 interface and the F1
interface the same principles for AP IDs apply as for UE-associated
logical connections.</p>
<p>The definitions of AP IDs as used on NG interface or Xn interface or
F1 interface or E1 interface are shown below:</p>
<p><strong>RAN UE NGAP ID:</strong></p>
<p>A RAN UE NGAP ID shall be allocated so as to uniquely identify the UE
over the NG interface within an gNB. When an AMF receives an RAN UE NGAP
ID it shall store it for the duration of the UE-associated logical
NG-connection for this UE. Once known to an AMF this is included in all
UE associated NGAP signalling.</p>
<p>The RAN UE NGAP ID shall be unique within the logical NG-RAN
node.</p>
<p><strong>AMF UE NGAP ID:</strong></p>
<p>An AMF UE NGAP ID shall be allocated so as to uniquely identify the
UE over the NG interface within the AMF. When a NG-RAN node receives an
AMF UE NGAP ID it shall store it for the duration of the UE-associated
logical NG-connection for this UE. Once known to a NG-RAN node this ID
is included in all UE associated NGAP signalling.</p>
<p>The AMF UE NGAP ID shall be unique within an AMF Set as specified in
TS 23.501 [3].</p>
<p><strong>Old NG-RAN node UE XnAP ID:</strong></p>
<p>An Old NG-RAN node UE XnAP ID shall be allocated so as to uniquely
identify the UE over the Xn interface within a source NG-RAN node. When
a target NG-RAN node receives an Old NG-RAN node UE XnAP ID it shall
store it for the duration of the UE-associated logical Xn-connection for
this UE. Once known to a target NG-RAN node this ID is included in all
UE associated XnAP signalling. The Old NG-RAN node UE XnAP ID shall be
unique within the logical NG-RAN node.</p>
<p><strong>New NG-RAN node UE XnAP ID:</strong></p>
<p>A New NG-RAN node UE XnAP ID shall be allocated so as to uniquely
identify the UE over the Xn interface within a target NG-RAN node. When
a source NG-RAN node receives a New NG-RAN node UE XnAP ID it shall
store it for the duration of the UE-associated logical Xn-connection for
this UE. Once known to a source NG-RAN node this ID is included in all
UE associated XnAP signalling. The New NG-RAN node UE XnAP ID shall be
unique within the logical NG-RAN node.</p>
<p><strong>M-NG-RAN node UE XnAP ID:</strong></p>
<p>An M-NG-RAN node UE XnAP ID shall be allocated so as to uniquely
identify the UE over the Xn interface within an M-NG-RAN node for dual
connectivity. When an S-NG-RAN node receives an M-NG-RAN node UE XnAP ID
it shall store it for the duration of the UE-associated logical
Xn-connection for this UE. Once known to an S-NG-RAN node this ID is
included in all UE associated XnAP signalling. The M-NG-RAN node UE XnAP
ID shall be unique within the logical NG-RAN node.</p>
<p><strong>S-NG-RAN node UE XnAP ID:</strong></p>
<p>A S-NG-RAN node UE XnAP ID shall be allocated so as to uniquely
identify the UE over the Xn interface within an S-NG-RAN node for dual
connectivity. When an M-NG-RAN node receives a S-NG-RAN node UE XnAP ID
it shall store it for the duration of the UE-associated logical
Xn-connection for this UE. Once known to an M-NG-RAN node this ID is
included in all UE associated XnAP signalling. The S-NG-RAN node UE XnAP
ID shall be unique within the logical NG-RAN node.</p>
<p><strong>gNB-CU UE F1AP ID:</strong></p>
<p>A gNB-CU UE F1AP ID shall be allocated so as to uniquely identify the
UE over the F1 interface within a gNB-CU. When a gNB-DU receives a
gNB-CU UE F1AP ID it shall store it for the duration of the
UE-associated logical F1-connection for this UE. The gNB-CU UE F1AP ID
shall be unique within the gNB-CU logical node.</p>
<p><strong>gNB-DU UE F1AP ID:</strong></p>
<p>A gNB-DU UE F1AP ID shall be allocated so as to uniquely identify the
UE over the F1 interface within a gNB-DU. When a gNB-CU receives a
gNB-DU UE F1AP ID it shall store it for the duration of the
UE-associated logical F1-connection for this UE. The gNB-DU UE F1AP ID
shall be unique within the gNB-DU logical node.</p>
<p><strong>gNB-CU-CP UE E1AP ID:</strong></p>
<p>A gNB-CU-CP UE E1AP ID shall be allocated so as to uniquely identify
the UE over the E1 interface within a gNB-CU-CP (respectively an
ng-eNB-CU-CP, or an eNB-CP as defined in TS 36.401[28]). When a
gNB-CU-UP (respectively an ng-eNB-CU-UP, or an eNB-UP as defined in TS
36.401[28]) receives a gNB-CU-CP UE E1AP ID it shall store it for the
duration of the UE-associated logical E1-connection for this UE. The
gNB-CU-CP UE E1AP ID shall be unique within the gNB-CU-CP (respectively
the ng-eNB-CU-CP, or the eNB-CP as defined in TS 36.401[28]) logical
node.</p>
<p><strong>gNB-CU-UP UE E1AP ID:</strong></p>
<p>A gNB-CU-UP UE E1AP ID shall be allocated so as to uniquely identify
the UE over the E1 interface within a gNB-CU-UP (respectively an
ng-eNB-CU-UP, or an eNB-UP as defined in TS 36.401[28]). When a
gNB-CU-CP (respectively an ng-eNB-CU-CP, or an eNB-CP as defined in TS
36.401[28]) receives a gNB-CU-UP UE E1AP ID it shall store it for the
duration of the UE-associated logical E1-connection for this UE. The
gNB-CU-UP UE E1AP ID shall be unique within the gNB-CU-UP (respectively
the ng-eNB-CU-UP, or the eNB-UP as defined in TS 36.401[28]) logical
node.</p>
<p><strong>ng-eNB-CU UE W1AP ID:</strong></p>
<p>An ng-eNB-CU UE W1AP ID shall be allocated so as to uniquely identify
the UE over the W1 interface within an ng-eNB-CU. When an ng-eNB-DU
receives an ng-eNB-CU UE W1AP ID it shall store it for the duration of
the UE-associated logical W1-connection for this UE. The ng-eNB-CU UE
W1AP ID shall be unique within the ng-eNB-CU logical node.</p>
<p><strong>ng-eNB-DU UE W1AP ID:</strong></p>
<p>An ng-eNB-DU UE W1AP ID shall be allocated so as to uniquely identify
the UE over the W1 interface within an ng-eNB-DU. When an ng-eNB-CU
receives an ng-eNB-DU UE W1AP ID it shall store it for the duration of
the UE-associated logical W1-connection for this UE. The ng-eNB-DU UE
W1AP ID shall be unique within the ng-eNB-DU logical node.</p>
<p><strong>gNB-CU MBS F1AP ID:</strong></p>
<p>A gNB-CU MBS F1AP ID shall be allocated so as to uniquely identify
the MBS Session Context over the F1 interface within a gNB-CU. When a
gNB-DU receives a gNB-CU MBS F1AP ID it shall store it for the duration
of the MBS-associated logical F1-connection for that MBS Session. The
gNB-CU MBS F1AP ID shall be unique within the gNB-CU logical node.</p>
<p><strong>gNB-DU MBS F1AP ID:</strong></p>
<p>A gNB-DU MBS F1AP ID shall be allocated so as to uniquely identify
the MBS Session Context over the F1 interface within a gNB-DU. When a
gNB-CU receives a gNB-DU MBS F1AP ID it shall store it for the duration
of the MBS-associated logical F1-connection for this MBS Session. The
gNB-DU MBS F1AP ID shall be unique within the gNB-DU logical node.</p>
<p><strong>gNB-CU-CP MBS E1AP ID:</strong></p>
<p>A gNB-CU-CP MBS E1AP ID shall be allocated so as to uniquely identify
the MBS Session Context over the E1 interface within a gNB-CU-CP. When a
gNB-CU-UP receives a gNB-CU-CP MBS E1AP ID it shall store it for the
duration of the MBS-associated logical E1-connection for that MBS
Session. The gNB-CU-CP MBS E1AP ID shall be unique within the gNB-CU-CP
logical node.</p>
<p><strong>gNB-CU-UP MBS E1AP ID:</strong></p>
<p>A gNB-CU-UP MBS E1AP ID shall be allocated so as to uniquely identify
the MBS Session Context over the E1 interface within a gNB-CU-UP. When a
gNB-CU-CP receives a gNB-CU-UP MBS E1AP ID it shall store it for the
duration of the MBS-associated logical E1-connection for this MBS
Session. The gNB-CU-UP MBS E1AP ID shall be unique within the gNB-CU-UP
logical node.</p>
<h3 id="gnb-du-id">6.2.2 gNB-DU ID</h3>
<p>The gNB-DU ID is configured at the gNB-DU and used to uniquely
identify the gNB-DU at least within a gNB-CU.</p>
<h3 id="ng-enb-du-id">6.2.3 ng-eNB-DU ID</h3>
<p>The ng-eNB-DU ID is configured at the ng-eNB-DU and used to uniquely
identify the ng-eNB-DU at least within an ng-eNB-CU. The ng-eNB-DU
provides its ng-eNB-DU ID to the ng-eNB-CU during the W1 Setup
procedure. The ng-eNB-DU ID is used only within W1AP procedures.</p>
<h3 id="gnb-cu-up-id">6.2.4 gNB-CU-UP ID</h3>
<p>The gNB-CU-UP ID is configured at the gNB-CU-CP and used to uniquely
identify the gNB-CU-UP at least within a gNB-CU-CP. The gNB-CU-UP
provides its gNB-CU-UP ID to the gNB-CU-CP during the E1 Setup
procedure. The gNB-CP-UP ID is used only within E1AP procedures.</p>
<p>NOTE 1: This identity is also used to uniquely identify the
ng-eNB-CU-UP at least within an ng-eNB-CU-CP in case CP/UP separation is
implemented in ng-eNB.</p>
<p>NOTE 2: This identity is also used to uniquely identify the eNB at
least within an eNB-CP in case CP/UP separation is implemented in
eNB.</p>
<h3 id="ran-ue-id">6.2.5 RAN UE ID</h3>
<p>The RAN UE ID is an identifier allocated to a UE by the gNB-DU during
UE Initial Access or by the gNB-CU during UE Context Setup. It is
transferred over E1 and F1 interface, in order to do correlation of data
for a given UE in case of disaggregated gNB deployment. The RAN UE ID is
unique within a gNB.</p>
<h2 id="transport-addresses">6.3 Transport addresses</h2>
<p>The transport layer address parameter is transported in the radio
network application signalling procedures that result in establishment
of transport bearer connections.</p>
<p>The transport layer address parameter shall not be interpreted in the
radio network application protocols and reveal the addressing format
used in the transport layer.</p>
<p>The formats of the transport layer addresses are further described in
TS 38.414 [5], TS 38.424 [6] and TS 38.474 [7].</p>
<h2 id="ue-associations-in-ng-ran-node">6.4 UE associations in NG-RAN
Node</h2>
<p>There are several types of UE associations needed in the NG-RAN node:
the "NG-RAN node UE context" used to store all information needed for a
UE and the associations between the UE and the logical NG and Xn
connections used for NG/XnAP UE associated messages. An "NG-RAN node UE
context" exists for a UE in CM_CONNECTED.</p>
<p><strong>Definitions:</strong></p>
<p><strong>NG-RAN node UE context:</strong></p>
<p>An NG-RAN node UE context is a block of information in an NG-RAN node
associated to one UE. The block of information contains the necessary
information required to maintain the NG-RAN services towards the active
UE. An NG-RAN node UE context is established when the transition to RRC
CONNECTED for a UE is completed or in the target NG-RAN node after
completion of handover resource allocation during handover preparation,
in which case at least UE state information, security information, UE
capability information and the identities of the UE-associated logical
NG-connection shall be included in the NG-RAN node UE context.</p>
<p>For Dual Connectivity an NG-RAN node UE context is also established
in the S-NG-RAN node after completion of S-NG-RAN node Addition
Preparation procedure.</p>
<p>If radio bearers are requested to be setup during a UE Context setup
or modification procedure, the UE capabilities are signalled to the
receiving node as part of the UE context setup or modification
procedures.</p>
<p><strong>Bearer context:</strong></p>
<p>A bearer context is a block of information in a gNB-CU-UP node
associated to one UE that is used for the sake of communication over the
E1 interface. It may include the information about data radio bearers,
PDU sessions and QoS-flows associated to the UE. The block of
information contains the necessary information required to maintain
user-plane services toward the UE.</p>
<p><strong>UE-associated logical NG/Xn/F1/E1-connection:</strong></p>
<p>NGAP, XnAP, F1AP and E1AP provide means to exchange control plane
messages associated with the UE over the respectively NG-C, Xn-C, F1-C
or E1 interface.</p>
<p>A UE-associated logical connection is established during the first
NGAP/XnAP/F1AP message exchange between the NG/Xn/F1 peer nodes.</p>
<p>The connection is maintained as long as UE associated NG/XnAP/F1AP
messages need to be exchanged over the NG/Xn/F1 interface.</p>
<p>The UE-associated logical NG-connection uses the identities AMF UE
NGAP ID and RAN UE NGAP ID.</p>
<p>The UE-associated logical Xn-connection uses the identities Old
NG-RAN node UE XnAP ID and New NG-RAN node UE XnAP ID, or M-NG-RAN node
UE XnAP ID and S-NG-RAN node UE XnAP ID.</p>
<p>The UE-associated logical F1-connection uses the identities gNB-CU UE
F1AP ID and gNB-DU UE F1AP ID.</p>
<p>The UE-associated logical E1-connection uses the identities gNB-CU-CP
UE E1AP ID and gNB-CU-UP UE E1AP ID.</p>
<p>When a node (AMF or gNB) receives a UE associated NGAP/XnAP/F1AP/E1AP
message the node retrieves the associated UE based on the
NGAP/XnAP/F1AP/E1AP ID.</p>
<p><strong>UE-associated signalling:</strong></p>
<p>UE-associated signalling is an exchange of NGAP/XnAP/F1AP/E1AP
messages associated with one UE over the UE-associated logical
NG/Xn/F1/E1-connection.</p>
<p>NOTE1: The UE-associated logical NG-connection may exist before the
NG-RAN node UE context is setup in the NG-RAN node.</p>
<p>NOTE2: The UE-associated logical F1-connection may exist before the
UE context is setup in the gNB-DU.</p>
<p>NOTE3: The general principle described in this clause also applies to
ng-eNB and W1/E1 interface, if not explicitly specified otherwise.</p>
<h2 id="mbs-session-associations-in-ng-ran-node">6.5 MBS Session
associations in NG-RAN Node</h2>
<p>The following MBS Session associations are defined in the NG-RAN node
to support NR MBS:</p>
<p><strong>NG-RAN MBS session resource context:</strong> Encompasses CP
and UP, transport and radio resources to support an MBS Session. For
multicast it also encompasses the MBS Session state (active,
de-activated) and information about joined UEs. If an MBS session
resource within a gNB serves multiple MBS service areas, as specified in
TS 23.247 [27] the same NG RAN MBS session resource context may be
associated with multiple NG-U resources. For a multicast MBS session,
NG-U resources are setup or released by the gNB upon UE mobility or UEs
leaving or joining the multicast MBS session.</p>
<p><strong>MBS Session context in a gNB-DU:</strong></p>
<p>The definition of an MBS Session context in a gNB-DU applicable for
broadcast and multicast.</p>
<p>An MBS Session context in a gNB-DU</p>
<p>- is a block of information associated to an MBS Session, which may
consist of one or several MRB Contexts;</p>
<p>- corresponds to either one or several F1-U tunnels.</p>
<p><strong>MRB Context in a gNB-DU:</strong></p>
<p>An MRB Context is a block of information in a gNB-DU associated to an
MRB (MRB “instance”). The gNB-DU sets up resources for each MRB Context
in a gNB-DU associated to an MBS Session context</p>
<p>- based on information provided within MBS Session Context related
information as received by the gNB-DU (e.g. MRB QoS, MBS service area
information, etc.), and,</p>
<p>- for multicast, based on the UE Contexts established for
RRC_CONNECTED UEs within the gNB-DU containing joining information of
the UE for the respective multicast session.</p>
<p>- for broadcast, the gNB-DU determines whether F1-U tunnels are setup
per gNB-DU or per MBS Area Session ID served by the gNB-DU.</p>
<p>- for multicast, the gNB-DU determines whether F1-U tunnels are setup
per gNB-DU or per cell served by the DU or per MBS Area Session ID
served by the gNB-DU or for ptp restransmissions or for a ptp-only MRB
leg.</p>
<p>For multicast, for each MRB, the gNB-DU provides the MRB specific Uu
configuration to the gNB-CU to configure the UE.</p>
<p><strong>Multicast F1-U Context:</strong></p>
<p>A Multicast F1-U Context is a block of information in a gNB-DU to
control the F1-U tunnels associated to the MRB Contexts established for
a multicast MBS session. A Multicast F1-U Context is either established
per gNB-DU or per cell served by the gNB-DU or per MBS Area Session ID
served by the gNB-DU or for ptp restransmissions or for ptp forwarding
or for a ptp-only MRB leg. Several Multicast F1-U contexts may exist in
parallel in a gNB-DU for the same multicast MBS session.</p>
<p><strong>Allocation and usage of MRB ID values on NG-RAN interfaces
for multicast MBS sessions:</strong></p>
<p>- F1 interface: an MRB ID signalled on an F1 interface instance
identifies uniquely an MRB among all MRB contexts in an gNB-DU,
allocated for all active multicast MBS sessions served by that gNB-DU.
The value of each MRB ID is the same value as communicated to UEs served
by that gNB-DU.</p>
<p>- E1 interface: an MRB ID signalled on an E1 interface instance
identifies uniquely an MRB among all MRBs allocated for a multicast MBS
session.</p>
<p>- Xn interface, NG interface: MRB IDs are signalled on Xn/NG
interfaces for providing MBS QoS flow to MRB mapping information and
data forwarding information from the source gNB. The value of the MRB ID
signalled on the Xn/NG interface is the same value as communicated to
UEs at the source cell.</p>
<p><strong>Allocation and usage of MRB ID values on NG-RAN interfaces
for broadcast MBS sessions:</strong></p>
<p>- An MRB ID signalled on NG-RAN interfaces identifies uniquely an MRB
among all MRBs allocated for a broadcast MBS sesssion.</p>
<p><strong>MBS-associated logical F1/E1-connection:</strong></p>
<p>F1AP and E1AP provide means to exchange control plane messages
associated with an MBS session over the respective F1/E1 interface.</p>
<p>An MBS-associated logical connection is established during the first
F1AP/E1AP message exchange between the F1/E1 peer nodes.</p>
<p>The connection is maintained as long as MBS associated F1AP/E1AP
messages need to be exchanged over the F1/E1 interface.</p>
<p>The MBS-associated logical F1-connection uses the identities gNB-CU
MBS F1AP ID and gNB-DU MBS F1AP ID.</p>
<p>The MBS-associated logical E1-connection uses the identities
gNB-CU-CP MBS E1AP ID and gNB-CU-UP MBS E1AP ID.</p>
<p>When a node (DU or CU or CU-CP and CU-UP) receives an MBS associated
F1AP/E1AP message the node retrieves the associated MBS session based on
the F1AP/E1AP ID.</p>
<p><strong>MBS-associated signalling:</strong></p>
<p>MBS-associated signalling is an exchange of F1AP/E1AP messages
associated with one MBS session over the MBS-associated logical
F1/E1-connection.</p>
<h1 id="ng-ran-functions-description">7 NG-RAN functions
description</h1>
<h2 id="general-1">7.0 General</h2>
<p>For the list of functions refer to TS 38.300 [2].</p>
<h2 id="ng-ran-sharing">7.1 NG-RAN sharing</h2>
<p>NG-RAN supports radio access network sharing as specified in TS
23.501 [3] and TS 38.300 [2] and TS 36.300 [19].</p>
<h2 id="remote-interference-management">7.2 Remote Interference
Management</h2>
<p>The Remote Interference Management function in non-split gNB case is
specified in TS 38.300 [2].</p>
<p>In case of split gNB architecture, in the victim set, a gNB-DU
detects the remote interference. If remote interference is detected, the
gNB-DU can send out the RIM-RS. In the aggressor set, if a gNB-DU
detects the RIM-RS sent by the victim gNB(s), it sends to the gNB-CU the
RIM-RS detection status and the victim Set ID. The gNB-CU acts as a
coordinator on behalf of its affiliated gNB-DUs, where the gNB-CU merges
the outgoing RIM information received from its gNB-DUs in the aggressor
set and forwards the merged information to all the gNBs in the victim
set.</p>
<p>Similarly, in the victim set, the gNB-CU distributes the incoming RIM
information to all the gNB-DUs in the set, as indicated in the RIM
information received from the aggressor set.</p>
<p>In addition, to facilitate consolidation of RIM information, the
gNB-DU provides the associated aggressor set ID and the victim set ID of
each serving cell to the gNB-CU.</p>
<h2 id="cross-link-interference-management">7.3 Cross-Link Interference
Management</h2>
<p>The Cross-Link Interference Management function in non-split gNB case
is specified in TS 38.300 [2].</p>
<p>In case of split gNB architecture, the gNB-CU forwards the TDD DL/UL
patterns received from neighboring nodes to each concerned gNB-DU. The
gNB-DU reports the TDD DL/UL patterns of its serving cells to the gNB-CU
if Cross-Link Interference is detected.</p>
<h2 id="support-for-non-public-networks">7.4 Support for Non-Public
Networks</h2>
<p>NG-RAN supports NPN as specified in TS 23.501 [3] and TS 38.300
[2].</p>
<h2 id="rach-optimisation-function">7.5 RACH Optimisation Function</h2>
<p>The RACH Optimization Function in non-split gNB case is specified in
TS 38.300 [2].</p>
<p>In case of split gNB architecture, RACH configuration conflict
detection and resolution function is located at the gNB-DU. To perform
RACH optimisation at gNB-DU, gNB-CU sends the RACH report reported by
the UE to gNB-DU via F1AP signalling. The gNB-DU signals the PRACH
configuration per-cell to gNB-CU. The gNB-CU may forward a limited set
of neighbour cell’s PRACH configurations received from neighbour gNBs
and other gNB-DUs to the gNB-DU to resolve the configuration
conflict.</p>
<h2 id="positioning">7.6 Positioning</h2>
<p>The NG-RAN supports the positioning functionality as specified in TS
38.305 [25].</p>
<h2 id="support-for-nr-mbs">7.7 Support for NR MBS</h2>
<p>The Support of NR MBS in non-split gNB case is specified in TS 38.300
[2].</p>
<h3 id="support-of-dynamic-ptp-and-ptm-switching">7.7.1 Support of
dynamic PTP and PTM switching</h3>
<p>NG-RAN supports dynamic switch between PTP and PTM for MBS as
specified in TS 38.300 [2].</p>
<p>In case of split gNB architecture, for a MRB with common PDCP
involving both PTP (RLC leg) and PTM (RLC leg), upon receiving the MBS
data from the gNB-CU via a shared F1-U tunnel, the gNB-DU makes decision
of using PTP (RLC leg) or PTM (RLC leg) or both.</p>
<h2 id="pci-optimisation-function">7.8 PCI Optimisation Function</h2>
<p>The PCI Optimization Function in non-split gNB case is specified in
TS 38.300 [2].</p>
<p>In split gNB architecture, the OAM configures a PCI for each NR cell
to the gNB-DU.</p>
<p>For centralized PCI assignment in split gNB architecture, the gNB-CU
detects PCI conflict of NR cells and reports the NR cells suffering PCI
conflict to OAM directly. The OAM is in charge of reassigning a new PCI
for the NR cell subject to PCI conflict.</p>
<p>For distributed PCI assignment in split gNB architecture, the OAM
assigns a list of PCIs for each NR cell and sends the configured PCI
list to the gNB-CU. If the gNB-CU detects PCI conflict, the gNB-CU may
select a new PCI value from the preconfigured PCI list for the NR cell
and send it to the gNB-DU by either F1 Setup procedure or gNB-CU
configuration update procedure.</p>
<h2 id="support-for-cco">7.9 Support for CCO</h2>
<h3 id="general-2">7.9.1 General</h3>
<p>The NR Capacity and Coverage Optimization (CCO) Function in non-split
gNB case is specified in TS 38.300 [2]. The objective of this function
is to detect and mitigate coverage and cell edge interference
issues.</p>
<h3 id="oam-requirements">7.9.2 OAM requirements</h3>
<p>Each gNB-DU may be configured with alternative coverage
configurations by OAM. The alternative coverage configurations contain
relevant radio parameters and may also include a range for how each
parameter is allowed to be adjusted.</p>
<h3 id="dynamic-coverage-configuration-changes">7.9.3 Dynamic coverage
configuration changes</h3>
<p>In case of split gNB architecture, CCO detection function is located
at the gNB-CU. The gNB-CU signals to the gNB-DU the CCO issue and the
affected cells and beams. The gNB-DU resolves the CCO issue concerning
own served cell by local action within the OAM configured limits. The
gNB-DU may also take into account information received for other cells
when adopting the CCO configuration. The gNB-DU informs the gNB-CU of
the new coverage states adopted.</p>
<h2 id="support-of-ran-visible-qoe-measurement">7.10 Support of RAN
visible QoE measurement </h2>
<p>The RAN visible QoE measurement function is specified in TS 38.300
[2].</p>
<p>In split gNB architecture, upon the reception of the RAN visible QoE
measurement report from the UE, the gNB-CU may forward it to the
gNB-DU.</p>
<h1 id="overall-procedures-in-gnb-cugnb-du-architecture">8 Overall
procedures in gNB-CU/gNB-DU Architecture</h1>
<h2 id="ue-initial-access">8.1 UE Initial Access</h2>
<p>The signalling flow for UE Initial access is shown in Figure
8.1-1.</p>
<p><img src="media/image12.svg" /></p>
<p>Figure 8.1-1: UE Initial Access procedure</p>
<p>1. The UE sends an <em>RRCSetupRequest</em> message to the
gNB-DU.</p>
<p>2. The gNB-DU includes the RRC message and, if the UE is admitted,
the corresponding low layer configuration for the UE in the INITIAL UL
RRC MESSAGE TRANSFER message and transfers to the gNB-CU. The INITIAL UL
RRC MESSAGE TRANSFER message includes the C-RNTI allocated by the
gNB-DU. If the gNB-DU identifies the UE as a Reduced Capability UE
during the random access procedure, a NR RedCap UE Indication is
provided in the INITIAL UL RRC MESSAGE TRANSFER message.</p>
<p>3. The gNB-CU allocates a gNB-CU UE F1AP ID for the UE and generates
a <em>RRCSetup</em> message towards UE. The RRC message is encapsulated
in -the DL RRC MESSAGE TRANSFER message.</p>
<p>4. The gNB-DU sends the <em>RRCSetup</em> message to the UE.</p>
<p>5. The UE sends the RRC CONNECTION SETUP COMPLETE message to the
gNB-DU.</p>
<p>6. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and sends it to the gNB-CU.</p>
<p>7. The gNB-CU sends the INITIAL UE MESSAGE message to the AMF.</p>
<p>8. The AMF sends the INITIAL CONTEXT SETUP REQUEST message to the
gNB-CU.</p>
<p>9. The gNB-CU sends the UE CONTEXT SETUP REQUEST message to establish
the UE context in the gNB-DU. In this message, it may also encapsulate
the <em>SecurityModeCommand</em> message. In case of NG-RAN sharing, the
gNB-CU includes the serving PLMN ID (for SNPNs the serving SNPN ID).</p>
<p>10. The gNB-DU sends the <em>SecurityModeCommand</em> message to the
UE.</p>
<p>11. The gNB-DU sends the UE CONTEXT SETUP RESPONSE message to the
gNB-CU.</p>
<p>12. The UE responds with the <em>SecurityModeComplete</em>
message.</p>
<p>13. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and sends it to the gNB-CU.</p>
<p>14. The gNB-CU generates the <em>RRCReconfiguration</em> message and
encapsulates it in the DL RRC MESSAGE TRANSFER message.</p>
<p>15. The gNB-DU sends <em>RRCReconfiguration</em> message to the
UE.</p>
<p>16. The UE sends <em>RRCReconfigurationComplete</em> message to the
gNB-DU.</p>
<p>17. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and send it to the gNB-CU.</p>
<p>18. The gNB-CU sends the INITIAL CONTEXT SETUP RESPONSE message to
the AMF.</p>
<h2 id="intra-gnb-cu-mobility">8.2 Intra-gNB-CU Mobility</h2>
<h3 id="intra-nr-mobility">8.2.1 Intra-NR Mobility</h3>
<h4 id="inter-gnb-du-mobility">8.2.1.1 Inter-gNB-DU Mobility</h4>
<p>This procedure is used for the case when the UE moves from one gNB-DU
to another gNB-DU within the same gNB-CU during NR operation. Figure
8.2.1.1-1 shows the inter-gNB-DU mobility procedure for intra-NR.</p>
<p><img src="media/image13.svg" /></p>
<p>Figure 8.2.1.1-1: Inter-gNB-DU Mobility for intra-NR</p>
<p>1. The UE sends a <em>MeasurementReport</em> message to the source
gNB-DU.</p>
<p>2. The source gNB-DU sends an UL RRC MESSAGE TRANSFER message to the
gNB-CU to convey the received <em>MeasurementReport</em> message.</p>
<p>2a. The gNB-CU may send an UE CONTEXT MODIFICATION REQUEST message to
the source gNB-DU to query the latest configuration.</p>
<p>2b. The source gNB-DU responds with an UE CONTEXT MODIFICATION
RESPONSE message that includes full configuration information.</p>
<p>3. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the target
gNB-DU to create an UE context and setup one or more data bearers. The
UE CONTEXT SETUP REQUEST message includes a
HandoverPreparationInformation. In case of NG-RAN sharing, the gNB-CU
includes the serving PLMN ID (for SNPNs the serving SNPN ID).</p>
<p>4. The target gNB-DU responds to the gNB-CU with an UE CONTEXT SETUP
RESPONSE message.</p>
<p>5. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the
source gNB-DU, which includes a generated <em>RRCReconfiguration</em>
message and indicates to stop the data transmission for the UE. The
source gNB-DU also sends a Downlink Data Delivery Status frame to inform
the gNB-CU about the unsuccessfully transmitted downlink data to the
UE.</p>
<p>NOTE 1: In case of DAPS Handover, the UE CONTEXT MODIFICATION REQUEST
message in step 5 may indicate to stop the data transmission only for
the DRB(s) not subject to DAPS Handover or may not indicate to stop the
data transmission at all. Instead, the DL RRC Message Transfer procedure
can be used to carry the handover command to the UE. The UE CONTEXT
MODIFICATION REQUEST message that indicates to stop the data
transmission for the UE is sent to the source gNB-DU once the gNB-CU
knows that the UE has successfully accessed the target gNB-DU, for which
the source gNB-DU sends a DDDS frame about the unsuccessfully
transmitted downlink data to the gNB-CU.</p>
<p>6. The source gNB-DU forwards the received
<em>RRCReconfiguration</em> message to the UE.</p>
<p>7. The source gNB-DU responds to the gNB-CU with the UE CONTEXT
MODIFICATION RESPONSE message.</p>
<p>8. A Random Access procedure is performed at the target gNB-DU. The
target gNB-DU sends a Downlink Data Delivery Status frame to inform the
gNB-CU. Downlink packets, which may include PDCP PDUs not successfully
transmitted in the source gNB-DU, are sent from the gNB-CU to the target
gNB-DU.</p>
<p>NOTE 2: It is up to gNB-CU implementation whether to start sending DL
User Data to gNB-DU before or after reception of the Downlink Data
Delivery Status.</p>
<p>9. The UE responds to the target gNB-DU with an
<em>RRCReconfigurationComplete</em> message.</p>
<p>10. The target gNB-DU sends an UL RRC MESSAGE TRANSFER message to the
gNB-CU to convey the received <em>RRCReconfigurationComplete</em>
message. Downlink packets are sent to the UE. Also, uplink packets are
sent from the UE, which are forwarded to the gNB-CU through the target
gNB-DU.</p>
<p>11. The gNB-CU sends an UE CONTEXT RELEASE COMMAND message to the
source gNB-DU.</p>
<p>12. The source gNB-DU releases the UE context and responds the gNB-CU
with an UE CONTEXT RELEASE COMPLETE message.</p>
<h4 id="intra-gnb-du-handover">8.2.1.2 Intra-gNB-DU handover</h4>
<p>This procedure is used for the case that the UE moves from one cell
to another cell within the same gNB-DU or for the case that intra-cell
handover is performed during NR operation, and supported by the UE
Context Modification (gNB-CU initiated) procedure as specified in TS
38.473 [4]. When the intra-gNB-DU handover is performed (either
inter-cell or intra-cell), the gNB-CU provides new UL GTP TEID to the
gNB-DU and the gNB-DU provides new DL GTP TEID to the gNB-CU. The gNB-DU
shall continue sending UL PDCP PDUs to the gNB-CU using the previous UL
GTP TEID until it re-establishes the RLC, and after then start sending
using the new UL GTP TEID. The gNB-CU shall continue sending DL PDCP
PDUs to the gNB-DU using the previous DL GTP TEID until it performs PDCP
re-establishment or PDCP data recovery, and after then start sending
using the new DL GTP TEID.</p>
<h4
id="inter-gnb-du-conditional-handover-or-conditional-pscell-change">8.2.1.3
Inter-gNB-DU Conditional Handover or Conditional PSCell Change</h4>
<p>This procedure is used for the case when the UE moves from one gNB-DU
to another gNB-DU within the same gNB-CU during NR operation for
conditional handover or conditional PSCell change. Figure 8.2.1.3-1
shows the inter-gNB-DU conditional mobility procedure for intra-NR.</p>
<p><img src="media/image14.svg" /></p>
<p>Figure 8.2.1.3-1: Inter-gNB-DU Conditional Handover or Conditional
PSCell Change for intra-NR</p>
<p>1-2. The steps 1-2 are as defined in clause 8.2.1.1.</p>
<p>3. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the
candidate gNB-DU to create an UE context and setup one or more data
bearers. The UE CONTEXT SETUP REQUEST message is sent for each candidate
cell and includes a HandoverPreparationInformation (conditional
handover) or a CG-ConfigInfo (conditional PSCell change).</p>
<p>4. The candidate gNB-DU responds to the gNB-CU with an UE CONTEXT
SETUP RESPONSE message including the target cell ID that was requested
from the gNB-CU. The response message is sent for each requested
candidate cell.</p>
<p>5. The gNB-CU sends a DL RRC MESSAGE TRANSFER message to the source
gNB-DU, which includes a generated <em>RRCReconfiguration</em>
message.</p>
<p>6. The step 6 is as defined in clause 8.2.1.1.</p>
<p>7-8. The UE responds to the source gNB-DU with an
<em>RRCReconfigurationComplete</em> message, for which the source gNB-DU
forwards to the gNB-CU via an UL RRC MESSAGE TRANSFER message.</p>
<p>9. An execution condition to trigger initiation of conditional
handover or conditional PSCell change is fulfilled.</p>
<p>10. A Random Access procedure is performed at the candidate gNB-DU,
which becomes the target gNB-DU if successful. The target gNB-DU sends a
Downlink Data Delivery Status frame to inform the gNB-CU. The target
gNB-DU also sends an ACCESS SUCCESS message to inform the gNB-CU of
which cell the UE has successfully accessed.</p>
<p>11-12. The steps 11-12 are as defined in steps 9-10 in clause
8.2.1.1.</p>
<p>13. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the
source gNB-DU and indicates to stop the data transmission for the UE.
The source gNB-DU also sends a Downlink Data Delivery Status frame to
inform the gNB-CU about the unsuccessfully transmitted downlink data to
the UE. Downlink packets, which may include PDCP PDUs not successfully
transmitted in the source gNB-DU, are sent from the gNB-CU to the target
gNB-DU.</p>
<p>NOTE 1: The step 13 may happen before step 12, as soon as the gNB-CU
knows which cell the UE has successfully accessed.</p>
<p>NOTE 2: The gNB-CU may initiate UE Context Release procedure toward
the other signalling connections or other candidate target gNB-DUs, if
any, to cancel conditional handover or conditional PSCell change for the
UE.</p>
<p>14. The source gNB-DU responds to the gNB-CU with the UE CONTEXT
MODIFICATION RESPONSE message.</p>
<p>15 -16. The steps 15-16 are as defined in steps 11-12 in clause
8.2.1.1.</p>
<h3 id="en-dc-mobility">8.2.2 EN-DC Mobility</h3>
<h4 id="inter-gnb-du-mobility-using-mcg-srb">8.2.2.1 Inter-gNB-DU
Mobility using MCG SRB</h4>
<p>This procedure is used for the case the UE moves from one gNB-DU to
another gNB-DU within the same gNB-CU when only MCG SRB is available
during EN-DC operation. Figure 8.2.2.1-1 shows the inter-gNB-DU mobility
procedure using MCG SRB in EN-DC.</p>
<p><img src="media/image15.svg" /></p>
<p>Figure 8.2.2.1-1: Inter-gNB-DU Mobility using MCG SRB in EN-DC</p>
<p>1. The UE sends an ULInformationTransferMRDC message to the MeNB.</p>
<p>2. The MeNB sends RRC TRANSFER message to the gNB-CU.</p>
<p>3. The gNB-CU may send UE CONTEXT MODIFICATION REQUEST message to the
source gNB-DU to query the latest SCG configuration.</p>
<p>4. The source gNB-DU responds with an UE CONTEXT MODIFICATION
RESPONSE message that includes full configuration information.</p>
<p>5. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the target
gNB-DU to create an UE context and setup one or more data bearers. The
UE CONTEXT SETUP REQUEST message includes a CG ConfigInfo.</p>
<p>6. The target gNB-DU responds the gNB-CU with an UE CONTEXT SETUP
RESPONSE message.</p>
<p>7. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the
source gNB-DU indicating to stop the data transmission to the UE. The
source gNB-DU also sends a Downlink Data Delivery Status frame to inform
the gNB-CU about the unsuccessfully transmitted downlink data to the
UE.</p>
<p>8. The source gNB-DU responds the gNB-CU with an UE CONTEXT
MODIFICATION RESPONSE message.</p>
<p>9. The gNB-CU sends an SGNB MODIFICATION REQUIRED message to the
MeNB.</p>
<p>10/11. The MeNB Initiated SgNB Modification procedure may be
triggered by the SgNB Initiated SgNB Modification procedure (e.g. to
provide information such as data forwarding addresses, new SN security
key, measurement gap, etc...).</p>
<p>12. The MeNB and the UE perform RRC Connection Reconfiguration
procedure.</p>
<p>13. The MeNB sends an SGNB MODIFICATION CONFIRM message to the
gNB-CU.</p>
<p>14. Random Access procedure is performed at the target gNB-DU. The
target gNB-DU sends a Downlink Data Delivery Status frame to inform the
gNB-CU. Downlink packets, which may include PDCP PDUs not successfully
transmitted in the source gNB-DU, are sent from the gNB-CU to the target
gNB-DU. Downlink packets are sent to the UE. Also, uplink packets are
sent from the UE, which are forwarded to the gNB-CU through the target
gNB-DU.</p>
<p>NOTE: It is up to gNB-CU implementation whether to start sending DL
User Data to gNB-DU before or after reception of the Downlink Data
Delivery Status.</p>
<p>15. The gNB-CU sends an UE CONTEXT RELEASE COMMAND message to the
source gNB-DU.</p>
<p>16. The source gNB-DU releases the UE context and responds the gNB-CU
with an UE CONTEXT RELEASE COMPLETE message.</p>
<h4 id="inter-gnb-du-mobility-using-scg-srb-srb3">8.2.2.2 Inter-gNB-DU
Mobility using SCG SRB (SRB3)</h4>
<p>This procedure is used for the case the UE moves from one gNB-DU to
another gNB-DU when SCG SRB (SRB3) is available during EN-DC operation.
The procedure is the same as inter-gNB-DU Mobility for intra-NR as
defined in clause 8.2.1.1 but the UE CONTEXT SETUP REQUEST message
includes a CG-ConfigInfo.</p>
<h4
id="inter-gnb-du-conditional-pscell-change-using-mcg-srb-without-mn-negotiation">8.2.2.3
Inter-gNB-DU Conditional PSCell Change using MCG SRB without MN
negotiation</h4>
<p>This procedure is used for the case where the UE moves from one
gNB-DU to another gNB-DU within the same gNB-CU when only MCG SRB is
available and the MN’s configuration is not changed during EN-DC
operation for conditional PSCell change. Figure 8.2.2.3-1 shows the
inter-gNB-DU conditional PSCell change procedure using MCG SRB in
EN-DC.</p>
<p><img src="media/image16.svg" /></p>
<p>Figure 8.2.2.3-1: Inter-gNB-DU Conditional PSCell Change using MCG
SRB without MN negotiation in EN-DC</p>
<p>1-4. The steps 1-4 are as defined in clause 8.2.2.1.</p>
<p>5. The gNB-CU sends an UE CONTEXT SETUP REQUEST message to the
candidate gNB-DU to create an UE context and setup one or more data
bearers. The UE CONTEXT SETUP REQUEST message is sent for each candidate
cell and includes a CG-ConfigInfo.</p>
<p>6. The candidate gNB-DU responds the gNB-CU with an UE CONTEXT SETUP
RESPONSE message including the target cell ID that was requested from
the gNB-CU. The response message is sent for each requested candidate
cell.</p>
<p>7. The gNB-CU sends an SGNB MODIFICATION REQUIRED message to the
MeNB, which includes a generated RRCReconfiguration message.</p>
<p>8. The MeNB and the UE perform RRC Connection
Reconfiguration/Complete procedure.</p>
<p>9. The MeNB sends an SGNB MODIFICATION CONFIRM message to the gNB-CU,
to convey the received RRCReconfigurationComplete message at step 8.</p>
<p>10. An execution condition to trigger initiation of conditional
PSCell change is fulfilled.</p>
<p>11. Random Access procedure is performed at the candidate gNB-DU,
which becomes the target gNB-DU if successful. The target gNB-DU sends a
Downlink Data Delivery Status frame to inform the gNB-CU. The target
gNB-DU also sends an ACCESS SUCCESS message to inform the gNB-CU of
which cell the UE has successfully accessed.</p>
<p>12-13. The UE responds with an RRCReconfigurationComplete message
(embedded in an ULInformationTransferMRDC message), which the MeNB
forwards to the gNB-CU via an RRC TRANSFER message.</p>
<p>14. The gNB-CU sends a UE CONTEXT MODIFICATION REQUEST message to the
source gNB-DU and indicates to stop the data transmission for the UE.
The source gNB-DU sends a Downlink Data Delivery Status frame to inform
the gNB-CU about the unsuccessfully transmitted downlink data to the UE.
Downlink packets, which may include PDCP PDUs not successfully
transmitted in the source gNB-DU, are sent from the gNB-CU to the target
gNB-DU. Downlink packets are sent to the UE. Also, uplink packets are
sent from the UE, which are forwarded to the gNB-CU through the target
gNB-DU.</p>
<p>NOTE 1: The step 14 may happen before step 13, as soon as the gNB-CU
knows which cell the UE has successfully accessed.</p>
<p>NOTE 2: The gNB-CU may initiate UE Context Release procedure toward
the other signalling connections or other candidate target gNB-DUs, if
any, to cancel conditional PSCell change for the UE.</p>
<p>15. The source gNB-DU responds to the gNB-CU with the UE CONTEXT
MODIFICATION RESPONSE message.</p>
<p>16-17. The steps 16-17 are as defined in steps 11-12 in clause
8.2.1.1.</p>
<h3 id="intra-cu-topology-adaptation-procedure">8.2.3 Intra-CU topology
adaptation procedure</h3>
<h4 id="intra-cu-topology-adaptation-procedure-in-sa">8.2.3.1 Intra-CU
topology adaptation procedure in SA</h4>
<p>During the intra-CU topology adaptation in SA, both the source and
the target parent node are served by the same IAB-donor-CU. The target
parent node may use a different IAB-donor-DU than the source parent
node. The source path may have common nodes with the target path. Figure
8.2.3.1-1 shows an example of the topology adaptation procedure, where
the target parent node uses a different IAB-donor-DU than the one used
by the source parent node.</p>
<p><img src="media/image17.svg" /></p>
<p>Figure 8.2.3.1-1: IAB intra-CU topology adaptation procedure</p>
<p>1. The migrating IAB-MT sends a <em>MeasurementReport</em> message to
the source parent node IAB-DU. This report is based on a Measurement
Configuration the migrating IAB-MT received from the IAB-donor-CU
before.</p>
<p>2. The source parent node IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the IAB-donor-CU to convey the received
<em>MeasurementReport</em>.</p>
<p>3. The IAB-donor-CU sends a UE CONTEXT SETUP REQUEST message to the
target parent node IAB-DU to create the UE context for the migrating
IAB-MT and set up one or more bearers. These bearers can be used by the
migrating IAB-MT for its own signalling, and, optionally, data
traffic.</p>
<p>4. The target parent node IAB-DU responds to the IAB-donor-CU with a
UE CONTEXT SETUP RESPONSE message.</p>
<p>5. The IAB-donor-CU sends a UE CONTEXT MODIFICATION REQUEST message
to the source parent node IAB-DU, which includes a generated
<em>RRCReconfiguration</em> message. The <em>RRCReconfiguration</em>
message includes a default BH RLC channel and a default BAP Routing ID
configuration for UL F1-C/non-F1 traffic mapping on the target path. It
may include additional BH RLC channels. This step may also include
allocation of TNL address(es) that is (are) routable via the target
IAB-donor-DU. The new TNL address(es) may be included in the
<em>RRCReconfiguration</em> message as a replacement for the TNL
address(es) that is (are) routable via the source IAB-donor-DU. In case
IPsec tunnel mode is used to protect the F1 and non-F1 traffic, the
allocated TNL address is outer IP address. The TNL address replacement
is not necessary if the source and target paths use the same
IAB-donor-DU. The <em>Transmission Action Indicator</em> in the UE
CONTEXT MODIFICATION REQUEST message indicates to stop the data
transmission to the migrating IAB-node.</p>
<p>6. The source parent node IAB-DU forwards the received
<em>RRCReconfiguration</em> message to the migrating IAB-MT.</p>
<p>7. The source parent node IAB-DU responds to the IAB-donor-CU with
the UE CONTEXT MODIFICATION RESPONSE message.</p>
<p>8. A Random Access procedure is performed at the target parent node
IAB-DU.</p>
<p>9. The migrating IAB-MT responds to the target parent node IAB-DU
with an <em>RRCReconfigurationComplete</em> message.</p>
<p>10. The target parent node IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the IAB-donor-CU to convey the received
<em>RRCReconfigurationComplete</em> message. Also, uplink packets can be
sent from the migrating IAB-MT, which are forwarded to the IAB-donor-CU
through the target parent node IAB-DU. These UL packets belong to the
IAB-MT’s own signalling and, optionally, data traffic.</p>
<p>11. The IAB-donor-CU configures BH RLC channels and BAP-sublayer
routing entries on the target path between the target parent IAB-node
and target IAB-donor-DU as well as DL mappings on the target
IAB-donor-DU for the migrating IAB-node’s target path. These
configurations may be performed at an earlier stage, e.g. immediately
after step 3, or before step 3. The IAB-donor-CU may establish
additional BH RLC channels to the migrating IAB-MT via RRC message.</p>
<p>12. The F1-C connections are switched to use the migrating IAB-node’s
new TNL address(es), IAB-donor-CU updates the UL BH information
associated to each GTP-tunnel to migrating IAB-node. This step may also
update UL FTEID and DL FTEID associated to each GTP-tunnel. All F1-U
tunnels are switched to use the migrating IAB-node’s new TNL
address(es). This step may use non-UE associated signaling in E1 and/or
F1 interface to provide updated UP configuration for F1-U tunnels of
multiple connected UEs or child IAB-MTs. The IAB-donor-CU may also
update the UL BH information associated with non-UP traffic.
Implementation must ensure the avoidance of potential race conditions,
i.e. no conflicting configurations are concurrently performed using
UE-associated and non-UE-associated procedures.</p>
<p> In case IPsec tunnel mode is used for TNL protection, the IAB-node
may use MOBIKE (IETF RFC 4555 [29]) to migrate the IPsec tunnel to the
new IP outer addresses. After the completion of the MOBIKE procedure,
the IAB-DU initiates an F1AP gNB-DU Configuration Update procedure from
which the IAB-donor-CU can conclude whether the existing inner IP
address(es) (e.g. for SCTP association) and the DL F-TEID can be
reused.</p>
<p>If new TNL addresses for F1-C traffic are configured, new SCTP
association(s) between the migrating IAB-node and the IAB-donor-CU may
be established using the new TNL address information of the migrating
IAB-node. The migrating IAB-node sends an F1AP gNB-DU CONFIGURATION
UPDATE message to the IAB-donor-CU, which may include new (outer) IP
addresses and corresponding new (inner) IP address for the F1-U traffic
to be switched to the target path.</p>
<p>13. The IAB-donor-CU sends a UE CONTEXT RELEASE COMMAND message to
the source parent node IAB-DU.</p>
<p>14. The source parent node IAB-DU releases the migrating IAB-MT’s
context and responds to the IAB-donor-CU with a UE CONTEXT RELEASE
COMPLETE message.</p>
<p>15. The IAB-donor-CU releases BH RLC channels and BAP-sublayer
routing entries on the source path between source parent IAB-node and
source IAB-donor-DU.</p>
<p>NOTE 1: In case that the source path and target path have common
nodes, the BH RLC channels and BAP-sublayer routing entries of those
nodes may not need to be released in Step 15.</p>
<p>Steps 11, 12 and 15 should also be performed for the migrating
IAB-node’s descendant nodes, as follows:</p>
<p>The IAB-donor-CU may allocate new TNL address(es) that is (are)
routable via the target IAB-donor-DU to the descendent nodes via
<em>RRCReconfiguration</em> message.</p>
<p>If needed, the IAB-donor-CU may also provide a new default UL mapping
which includes a default BH RLC channel and a default BAP Routing ID for
UL F1-C/non-F1 traffic on the target path, to the descendant nodes via
<em>RRCReconfiguration</em> message.</p>
<p>If needed, the IAB-donor-CU configures BH RLC channels, BAP-sublayer
routing entries and BH RLC channel mappings on the target path for the
descendant nodes in the same manner as described for the migrating
IAB-node in step 11.</p>
<p>The descendant nodes switch their F1-C connections and F1-U tunnels
to new TNL addresses that are anchored at the new IAB-donor-DU, in the
same manner as described for the migrating IAB-node in step 12.</p>
<p>Based on implementation, these steps can be performed after or in
parallel with the handover of the migrating IAB-node.</p>
<p>To enable performing these steps in parallel, the IAB-donor-CU sends
the RRCReconfiguration message with the new TNL address(es) and the new
default BAP configuration to the descendent node while the migrating
IAB-MT is still connected with source parent node, for example, before
Step 5. In this case, the UE CONTEXT MODIFICATION REQUEST message
carrying this RRCReconfiguration message includes a conditional delivery
indication for the descendent node’s parent IAB-DU. Based on this
indication, the parent IAB-DU retains the RRCReconfiguration message
until the conditions for delivery are met, as specified in TS 38.473
[4]. The IAB-donor-CU may further configure the BAP-sublayer routing
entries on the migrating IAB-node and the descendant nodes while the
migrating IAB-MT is still connected with the source parent node.</p>
<p>NOTE 2: In upstream direction, in-flight packets between the source
parent node and the IAB-donor-CU can be delivered even after the target
path is established.</p>
<p>NOTE 3: In-flight downlink data in the source path may be discarded,
up to implementation via the NR user plane protocol (TS 38.425
[24]).</p>
<p>NOTE 4: The IAB-donor-CU can determine the unsuccessfully transmitted
downlink data over the backhaul link by implementation.</p>
<h4
id="intra-cu-topology-adaptation-procedure-in-nsa-using-mcg-srb">8.2.3.2
Intra-CU topology adaptation procedure in NSA using MCG SRB</h4>
<p>This procedure is used when the migrating IAB-MT moves from source
parent node to target parent node within the same IAB-donor-CU while
only MCG SRB is available for IAB-node during EN-DC operation. The
target parent node may use a different IAB-donor-DU than the one used by
the source parent node. The source path may have common nodes with the
target path. Figure 8.2.3.2-1 shows the topology adaptation procedure
using MCG SRB of IAB-MT in EN-DC, where the target parent node uses a
different IAB-donor-DU than the source parent node.</p>
<p><img src="media/image18.svg" /></p>
<p>Figure 8.2.3.2-1: IAB intra-CU topology adaptation procedure using
MCG SRB in EN-DC</p>
<p>1. The migrating IAB-MT sends an <em>ULInformationTransferMRDC</em>
message to the MeNB</p>
<p>2. The MeNB sends RRC TRANSFER message to the IAB-donor-CU.</p>
<p>3. The IAB-donor-CU may send UE CONTEXT MODIFICATION REQUEST message
to the source parent node IAB-DU, to query the latest SCG
configuration.</p>
<p>4. The source parent node IAB-DU responds with a UE CONTEXT
MODIFICATION RESPONSE message that includes full configuration
information.</p>
<p>5. The IAB-donor-CU sends a UE CONTEXT SETUP REQUEST message to the
target parent node IAB-DU, to create a UE context for migrating IAB-MT
and set up one or more bearers. These bearers can be used by the
migrating IAB-MT for its own signalling, and, optionally, data traffic.
The UE CONTEXT SETUP REQUEST message includes
<em>CG-ConfigInfo</em>.</p>
<p>6. The target parent node IAB-DU responds to the IAB-donor-CU with a
UE CONTEXT SETUP RESPONSE message.</p>
<p>7. The IAB-donor-CU sends a UE CONTEXT MODIFICATION REQUEST message
to the source parent node IAB-DU, this message includes the
<em>Transmission Action Indicator</em> IE, which instructs the source
parent node IAB-DU to stop the data transmission to the migrating
IAB-node. The source parent node IAB-DU also sends a Downlink Data
Delivery Status frame to inform the IAB-donor-CU about the
unsuccessfully transmitted downlink data to the migrating IAB-node.</p>
<p>8. The source parent node IAB-DU responds to the IAB-donor-CU with a
UE CONTEXT MODIFICATION RESPONSE message.</p>
<p>9. The IAB-donor-CU sends an SGNB MODIFICATION REQUIRED message to
the MeNB.</p>
<p>10/11. The MeNB initiated SgNB Modification procedure may be
triggered by the SgNB initiated SgNB Modification procedure (e.g. to
provide information such as data forwarding addresses, new SN security
key, measurement gap, etc.).</p>
<p>12. The MeNB and the migrating IAB-MT perform RRC Connection
Reconfiguration procedure. The <em>RRCConnectionReconfiguration</em>
message includes information as described for the intra-CU topology
adaptation procedure in SA in clause 8.2.3.1.</p>
<p>13. The MeNB sends an SGNB MODIFICATION CONFIRM message to the
IAB-donor-CU.</p>
<p>14. The migrating IAB-MT performs Random Access procedure at the
target parent node IAB-DU.</p>
<p>15-19. The remaining steps of the procedure follow the steps 11-15 of
the intra-CU topology adaptation procedure in SA scenario, as defined in
clause 8.2.3.1. The main difference is that the RRC message for the
migrating IAB-node, if involved, will be transmitted using the MCG
SRB.</p>
<h4
id="intra-cu-topology-adaptation-procedure-in-nsa-using-scg-srb-srb3">8.2.3.3
Intra-CU topology adaptation procedure in NSA using SCG SRB (SRB3)</h4>
<p>This procedure is used when the migrating IAB-MT moves from source
parent node to target parent node within the same IAB-donor-CU, when SCG
SRB (SRB3) is available for IAB-node during EN-DC operation. The target
parent node may use a different IAB-donor-DU than the source parent
node. The source path may have common nodes with the target path. The
procedure is the same as intra-CU topology adaptation procedure in SA
scenario as defined in clause 8.2.3.1 but the UE CONTEXT SETUP REQUEST
message includes <em>CG-ConfigInfo</em> in step 3.</p>
<h3 id="intra-cu-topological-redundancy-procedure">8.2.4 Intra-CU
topological redundancy procedure</h3>
<p>The intra-CU topological redundancy procedure enables the
establishment and release of redundant paths in the IAB-topology
underneath the same IAB-donor-CU. The redundant paths may use different
IAB-donor-DUs. They may also have common intermediate nodes. Since
topological redundancy uses NR-DC for the IAB-MT, it is only supported
for IAB-nodes operating in SA mode.</p>
<p>Figure 8.2.4-1 shows an example for an IAB topology, where one
IAB-node, referred to as the dual-connecting IAB-node, has two paths
towards the IAB-donor via different IAB-donor-DUs.</p>
<p><img src="media/image19.svg" /></p>
<p>Figure 8.2.4-1: Example for IAB topology with two redundant paths</p>
<p><img src="media/image20.svg" /></p>
<p>Figure 8.2.4-2: Procedure for establishment of redundant path in IAB
topology</p>
<p>Figure 8.2.4-2 shows the procedure for the establishment of the
second path. This procedure has the following steps:</p>
<p>1. The dual-connecting IAB-MT sends a <em>MeasurementReport</em>
message to the first parent node IAB-DU. This report is based on a
Measurement Configuration the dual-connecting IAB-MT received from the
IAB-donor-CU before.</p>
<p>2. The first parent node IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the IAB-donor-CU to convey the received
<em>MeasurementReport</em>.</p>
<p>3. The IAB-donor-CU sends the UE CONTEXT SETUP REQUEST message to the
second parent node IAB-DU, to create the UE context for the
dual-connecting IAB-MT and to set up one or more bearers. These bearers
can be used by the dual-connecting IAB-MT for its own signalling, and,
optionally, data traffic.</p>
<p>4. The second parent node IAB-DU responds to the IAB-donor-CU with a
UE CONTEXT SETUP RESPONSE message.</p>
<p>5. The IAB-donor-CU sends a DL RRC MESSAGE TRANSFER message to the
first parent node IAB-DU, which includes a generated
<em>RRCReconfiguration</em> message. The <em>RRCReconfiguration</em>
message may contain one or more TNL address(es) for the dual-connecting
IAB-DU, which are anchored at the second-path IAB-donor-DU. The
IAB-donor-CU can proactively obtain these TNL addresses from the
second-path IAB-donor-DU. In case IPsec tunnel mode is used to protect
the F1 and non-F1 traffic, the allocated TNL address is the outer IP
address. The TNL address allocation is not necessary if the first and
second paths use the same IAB-donor-DU.</p>
<p>6. The first parent node IAB-DU forwards the received
<em>RRCReconfiguration</em> message to the dual-connecting IAB-MT.</p>
<p>7. The dual-connecting IAB-MT responds to the first parent node
IAB-DU with an <em>RRCReconfigurationComplete</em> message.</p>
<p>8. The first parent node IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the IAB-donor-CU, to convey the received
<em>RRCReconfigurationComplete</em> message.</p>
<p>9. A Random Access procedure is performed at the second parent node
IAB-DU.</p>
<p>10. The IAB-donor-CU configures BH RLC channels and BAP-layer route
entries on the second path between dual-connecting IAB-node and
second-path IAB-donor-DU. These configurations may be performed at an
earlier stage, e.g. immediately after step 3.</p>
<p>11. The new TNL addresses allocated in step 5 (if any) are added to
the dual-connecting IAB-DU’s F1-C association(s) with the IAB-donor-CU.
The IAB-donor-CU may configure new UL BH information on the second path
for F1AP messages.</p>
<p>If new TNL addresses for F1-C traffic are configured, new SCTP
association(s) between the dual-connecting IAB-node and the IAB-donor-CU
may be established using the new TNL address information of the
dual-connecting IAB-node. The dual-connecting IAB-node sends an F1AP
gNB-DU CONFIGURATION UPDATE message to the IAB-donor-CU, which may
include new (outer) IP addresses and corresponding new (inner) IP
address for the F1-U traffic to be switched to the target path.</p>
<p>12. The IAB-donor-CU may migrate the F1-U tunnels it has with the
dual-connecting IAB-DU from the first path to the second path via the UE
CONTEXT MODIFICATION REQUEST message.</p>
<p>13. The dual-connectivity IAB-DU replies with a UE CONTEXT
MODIFICATION RESPONSE message.</p>
<p>Steps 12 and 13 can be performed for a subset of UE bearers, e.g., to
balance the load between the first and the second path.</p>
<p>In case the second path is used for the dual-connecting IAB-node’s
descendant node(s), Steps 10 and 11 are also performed for the
descendant node(s), as follows:</p>
<p>When the second path uses a different IAB-donor-DU, the IAB-donor-CU
shall configure the descendent IAB-DU(s) with one or more new TNL
addresses, which are anchored on the IAB-donor-DU of the second
path.</p>
<p>If needed, the IAB-donor-CU configures BH RLC channels, BAP-layer
route entries on the target path for the descendant nodes and the BH RLC
channel mappings on the descendant nodes in the same manner as described
for the dual-connecting IAB-node in step 10.</p>
<p>The descendant nodes’ new TNL addresses (if any) are added to the
descendant node IAB-DU’s F1-C association(s) with the IAB-donor-CU. The
IAB-donor-CU may configure UL BH information for the second path to
carry F1AP messages.</p>
<p>The IAB-donor-CU may migrate the F1-U tunnels it has with the
dual-connecting IAB-node’s descendant node(s) from the first path to the
second path, as described for step 12.</p>
<p>Based on implementation, these steps can be performed after or in
parallel with the redundant path addition of the dual connecting
IAB-node.</p>
<p>The IAB-donor-CU may initiate the release of the redundant path by
releasing the BAP routing entries and modifying/releasing the BH RLC
channels on that path.</p>
<h3 id="intra-cu-backhaul-rlf-recovery-for-iab-nodes-in-sa-mode">8.2.5
Intra-CU Backhaul RLF recovery for IAB-nodes in SA mode </h3>
<p>The intra-CU backhaul RLF recovery procedure for IAB-nodes in SA mode
enables migration of an IAB-node to another parent node underneath the
same IAB-donor-CU, when the IAB-MT declares a backhaul RLF. The
declaration of backhaul RLF is described in TS 38.331 [23].</p>
<p>NOTE: Determination of whether the recovery occurs at the same or at
a different IAB-donor-CU is up to implementation.</p>
<p>Figure 8.2.5-1 shows an example of the BH RLF recovery procedure for
an IAB-node in SA mode. In this example, the IAB-node changes from its
initial parent node to a new parent node, where the new parent node is
served by an IAB-donor-DU different than the one serving its initial
parent node.</p>
<p><img src="media/image21.svg" /></p>
<p>Figure 8.2.5-1: IAB intra-CU backhaul RLF recovery procedure for an
IAB-node in SA mode</p>
<p>1. The IAB-MT declares BH RLF for the MCG as described in TS 38.331
[23], clause 5.3.10.3.</p>
<p>2. The IAB-MT undergoing recovery from RLF conducts the RRC
re-establishment procedure at the new parent node, as defined in clause
8.7. In this procedure, the IAB-donor-CU may provide new TNL
address(es), which is(are) anchored at the new IAB-donor-DU, to the
IAB-MT via RRC signalling. Furthermore, the IAB-donor-CU may also
provide a new default UL mapping which includes a default BH RLC channel
and a default BAP Routing ID for UL F1-C/non-F1 traffic on the target
path, to the IAB-node undergoing recovery from RLF via
<em>RRCReconfiguration</em> message in this procedure.</p>
<p>3. The remaining part of the procedure follows the steps 11-15 of the
intra-CU topology adaptation procedure defined in clause 8.2.3.1.</p>
<p>Descendant node(s) of the IAB-node undergoing recovery from RLF may
also need to switch to new TNL address(es) anchored in the target-path
IAB-donor-DU following the same mechanism as described for IAB intra-CU
topology adaptation procedure in clause 8.2.3.1. The descendant node(s)
may also be provided with new default UL mapping via RRC, after the
IAB-node undergoing recovery from RLF connects the IAB-donor-CU via the
recovery path.</p>
<h2 id="mechanism-of-centralized-retransmission-of-lost-pdus">8.3
Mechanism of centralized retransmission of lost PDUs</h2>
<h3 id="centralized-retransmission-in-intra-gnb-cu-cases">8.3.1
Centralized Retransmission in Intra gNB-CU Cases</h3>
<p>This mechanism allows to perform the retransmission of the PDCP PDUs
that are not delivered by a gNB-DU (gNB-DU1) because the corresponding
radio links toward the UE are subject to outage. When such outage
occurs, the gNB-DU affected by outage informs the gNB-CU of such event.
The gNB-CU can switch transmission of data traffic, as well as perform
retransmission of undelivered PDCP PDUs, from the gNB-DU affected by
outage to other available gNB-DUs (e.g. gNB-DU2 in Figure 8.3.1-1) with
a well-functioning radio link toward the UE. The mechanism is also
applicable in EN-DC and MR-DC with 5GC, refer to TS 37.340 [12].</p>
<p><img src="media/image22.svg" /></p>
<p>Figure 8.3.1-1: Procedure for centralized retransmission in intra
gNB-CU scenarios</p>
<p>The mechanism is shown in Figure 8.3.1-1 and targets the
multi-connectivity scenario, where a UE is served by multiple data radio
bearers established at least on two gNB-DUs, and it includes the
following steps:</p>
<p>0. The UE is connected and can transmit/receive data to/from gNB-DU1
and gNB-DU2.</p>
<p>1. gNB-DU1 realizes that the radio link towards the UE is
experiencing outage.</p>
<p>2. gNB-DU1 sends the "Radio Link Outage" notification message to the
gNB-CU over the F1-U interface, as part of the DDDS PDU of the concerned
data radio bearer. The message may include information to be used by the
gNB-CU to perform retransmission of the PDCP PDUs that were not
delivered by the gNB-DU1 (e.g. the highest transmitted NR PDCP Sequence
Number, the highest successfully delivered NR PDCP Sequence Number and
the lost NR-U Sequence Numbers).</p>
<p>3. gNB-CU decides to switch data traffic transmission and
retransmission of PDCP PDUs that were undelivered in gNB-DU1 via
gNB-DU2. gNB-CU stops sending downlink traffic to gNB-DU1. The radio leg
between gNB-DU1 and the UE is not necessarily removed.</p>
<p>4. gNB-CU starts sending traffic (namely new PDUs and potentially
retransmitted PDUs) to gNB-DU2.</p>
<p>5. If gNB-DU1 realizes that the radio link of the concerned data
radio bearer is back in normal operation, it may send a "Radio Link
Resume" notification message as part of the DDDS PDU over the F1-U
interface to inform the gNB-CU that the radio link can be used again for
the concerned data radio bearer.</p>
<p>6. gNB-CU may start sending traffic (namely new PDUs and potentially
retransmitted PDUs) of the concerned data radio bearer via gNB-DU1
again.</p>
<h2 id="multi-connectivity-operation">8.4 Multi-Connectivity
operation</h2>
<h3 id="secondary-node-addition">8.4.1 Secondary Node Addition</h3>
<h4 id="en-dc">8.4.1.1 EN-DC</h4>
<p>This clause gives the SgNB addition procedure in EN-DC given that
en-gNB consists of gNB-CU and gNB-DU(s), as shown in Figure
8.4.1.1-1.</p>
<p><img src="media/image23.svg" /></p>
<p>Figure 8.4.1.1-1: SgNB addition procedure in EN-DC</p>
<p>1~8: refer to TS 37.340 [12].</p>
<p>a1. After receiving the SGNB ADDITION REQUEST message from MeNB, the
gNB-CU sends the UE CONTEXT SETUP REQUEST message to the gNB-DU to
create a UE context. As specified in TS 37.340 [12], in the course of a
Secondary Node Change, the UE CONTEXT SETUP REQUEST message may contain
source cell group configuration to allow gNB-DU to perform delta
configuration.</p>
<p>a2. The gNB-DU responds to the gNB-CU with the UE CONTEXT SETUP
RESPONSE message. In case the gNB-DU receives the UE CONTEXT SETUP
REQUEST message without the source cell group configuration or in the
course of a Secondary Node Change as specified in TS 37.340 [12] or if
the gNB-DU decides to perform full configuration after receiving the
source cell group configuration, it shall perform full configuration and
indicate that it has applied full configuration in the UE CONTEXT SETUP
RESPONSE message.</p>
<p>NOTE: On Inter-gNB-CU Mobility, same method is performed to achieve
full configuration and delta configuration.</p>
<h3 id="secondary-node-release-mnsn-initiated">8.4.2 Secondary Node
Release (MN/SN initiated)</h3>
<h4 id="en-dc-1">8.4.2.1 EN-DC</h4>
<p>This clause gives the SgNB release procedure in EN-DC given that the
en-gNB consists of a gNB-CU and gNB-DU(s).</p>
<p><strong>MN initiated SN Release</strong></p>
<p><img src="media/image24.svg" /></p>
<p>Figure 8.4.2.1-1 SgNB release procedure in EN-DC (MN initiated)</p>
<p>1~8: refer to TS 37.340 [12].</p>
<p>NOTE: The timing of sending the Step 2 SGNB RELEASE REQUEST
ACKNOWLEDGE message is an example, it may be sent e.g. after step a1 or
after a2 and it is up to implementation.</p>
<p>a1. After receiving SGNB RELEASE REQUEST message from MeNB, gNB-CU
sends the UE CONTEXT MODIFICATION REQUEST message to gNB-DU to stop the
data transmission for the UE. It is up to gNB-DU implementation when to
stop the UE scheduling.</p>
<p>a2. gNB-DU responds to gNB-CU with UE CONTEXT MODIFICATION RESPONSE
message.</p>
<p>a3. After receiving the UE CONTEXT RELEASE message from MeNB, the
gNB-CU sends the UE CONTEXT RELEASE COMMAND message to the gNB-DU to
release the UE context.</p>
<p>a4. The gNB-DU responds to the gNB-CU with the UE CONTEXT RELEASE
COMPLETE message.</p>
<p><strong>SN initiated SN Release</strong></p>
<p><img src="media/image25.svg" /></p>
<p>Figure 8.4.2.1-2 SgNB release procedure in EN-DC (SN initiated)</p>
<p>1~8: refer to TS 37.340 [12].</p>
<p>a1. gNB-CU sends the UE CONTEXT MODIFICATION REQUEST message to
gNB-DU to stop the data transmission for the UE. It is up to gNB-DU
implementation when to stop the UE scheduling. This step may occur
before step 1.</p>
<p>a2. gNB-DU responds to gNB-CU with UE CONTEXT MODIFICATION RESPONSE
message.</p>
<p>a3. After receiving the UE CONTEXT RELEASE message from MeNB, the
gNB-CU sends the UE CONTEXT RELEASE COMMAND message to the gNB-DU to
release the UE context.</p>
<p>a4. The gNB-DU responds to the gNB-CU with the UE CONTEXT RELEASE
COMPLETE message.</p>
<h3 id="scg-suspendresume-in-rrc_inactive">8.4.3 SCG suspend/resume in
RRC_INACTIVE</h3>
<p>In the following, the procedure for SCG resume in RRC_INACTIVE is
described.</p>
<p><img src="media/image26.svg" /></p>
<p>Figure 8.4.3-1: SCG Suspend/Resume in RRC_INACTIVE</p>
<p>1. The CU of SN sends the UE CONTEXT MODIFICATION REQUEST message to
the DU of SN to suspend the SCG of the UE before the UE enters into
RRC_INACTIVE state from RRC_CONNECTED state.</p>
<p>2. The DU of SN sends the UE CONTEXT MODIFICATION RESPONSE to the CU
of SN, and keeps all lower layer configuration for UEs without
transmitting or receiving data from UE.</p>
<p>3~4: refer to TS 37.340 [12].</p>
<p>5. The CU of SN sends the UE CONTEXT MODIFICATION REQUEST message to
the DU of SN to resume the SCG of the UE before the UE enters into
RRC_CONNECTED state from RRC_INACTIVE state.</p>
<p>6. The DU of SN sends the UE CONTEXT MODIFICATION RESPONSE message to
the CU of SN, and uses the previously stored lower layer configuration
for the UE.</p>
<p>7~11: refer to TS 37.340 [12].</p>
<h3 id="scg-deactivation-and-activation">8.4.4 SCG Deactivation and
Activation</h3>
<p>This clause gives the NR SCG deactivation and activation procedures
in MR-DC given that the SN consists of a gNB-CU and gNB-DU(s).</p>
<h4 id="sn-addition-with-scg-activation-or-deactivation">8.4.4.1 SN
Addition with SCG Activation or Deactivation</h4>
<p><img src="media/image27.svg" /></p>
<p>Figure 8.4.4.1-1: SCG Activation or Deactivation in SN Addition
procedure</p>
<p>1. The MN sends the SN Addition Request message to the SN, indicates
the request of SCG activation or deactivation.</p>
<p>2. The SN-CU-CP may send the BEARER CONTEXT SETUP REQUEST message to
the SN-CU-UP to setup bearer context and notify the activation or
deactivation of the SCG.</p>
<p>3. The SN-CU-UP sends the BEARER CONTEXT SETUP RESPONSE message to
the SN-CU-CP.</p>
<p>4. The SN-CU sends the UE CONTEXT SETUP REQUEST message to the SN-DU
to setup UE context and indicate the request of SCG activation or
deactivation.</p>
<p>5. The SN-DU sends the UE CONTEXT SETUP RESPONSE message to the
SN-CU, indicates the SCG status. In case SCG activation is requested,
the SN-DU shall indicate SCG activated in the message.</p>
<p>6. The SN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the SN-CU-UP as described in clause 8.9.2 and may notify the
SCG status if needed.</p>
<p>7. The SN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the SN-CU-CP.</p>
<p>8. The SN sends the SN Addition Request Acknowledge message to the
MN, indicates the SCG status. In case SCG activation is requested, the
SN shall indicate SCG activated in the message.</p>
<p>9. The MN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the MN-CU-UP to notify the SCG status.</p>
<p>10. The MN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the MN-CU-CP.</p>
<h4
id="mn-initiated-sn-modification-with-scg-activation-or-deactivation">8.4.4.2
MN initiated SN Modification with SCG Activation or Deactivation</h4>
<p><img src="media/image28.svg" /></p>
<p>Figure 8.4.4.2-1: SCG Activation or Deactivation in MN initiated SN
Modification procedure</p>
<p>1. SCG is deactivated or activated.</p>
<p>2. The MN sends the SN Modification Request message to the SN,
indicates the request of SCG activation or deactivation.</p>
<p>3. The SN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the SN-CU-UP to notify the SCG activation or
deactivation.</p>
<p>4. The SN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the SN-CU-CP.</p>
<p>5. The SN-CU sends the UE CONTEXT MODIFICATION REQUEST message to the
SN-DU to indicate the request of SCG activation or deactivation.</p>
<p>6. The SN-DU may send the UE CONTEXT MODIFICATION RESPONSE message to
the SN-CU, indicates the SCG status.</p>
<p>7. The SN-CU-CP sends the BEARER CONTEXT MODIFICATION REQUEST message
to the SN-CU-UP to notify the SCG status.</p>
<p>8. The SN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the SN-CU-CP.</p>
<p>NOTE: Step 7 and 8 may be skipped in case the SN-DU accepted the SCG
activation or deactivation request.</p>
<p>9. The SN sends the SN Modification Request Acknowledge message
towards the MN, indicates the SCG status.</p>
<p>10. The MN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the MN-CU-UP to notify the SCG status.</p>
<p>11. The MN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the MN-CU-CP.</p>
<h4
id="sn-initiated-sn-modification-with-scg-activation-or-deactivation">8.4.4.3
SN initiated SN Modification with SCG Activation or Deactivation</h4>
<p><img src="media/image29.svg" /></p>
<p>Figure 8.4.4.3-1: SCG Activation or Deactivation in SN initiated SN
Modification procedure</p>
<p>1. SCG is deactivated or activated.</p>
<p>2. The SN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the SN-CU-UP to notify the SCG activation or
deactivation.</p>
<p>3. The SN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the SN-CU-CP.</p>
<p>4. The SN-CU sends the UE CONTEXT MODIFICATION REQUEST message to the
SN-DU to indicate the request of SCG activation or deactivation.</p>
<p>5. The SN-DU sends the UE CONTEXT MODIFICATION RESPONSE message to
the SN-CU, indicates the SCG status.</p>
<p>6. The SN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the SN-CU-UP to notify the SCG status.</p>
<p>7. The SN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the SN-CU-CP.</p>
<p>NOTE 1: Step 6 and 7 may be skipped in case the SN-DU accepted the
SCG activation or deactivation request.</p>
<p>8. The SN sends the SN Modification Required message to the MN,
indicates the request of SCG activation or deactivation.</p>
<p>9. The MN-CU-CP may send the BEARER CONTEXT MODIFICATION REQUEST
message to the MN-CU-UP to notify the SCG status.</p>
<p>10. The MN-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the MN-CU-CP.</p>
<p>NOTE 2: Based on implementation, step 9 and 10 can be performed after
step 11.</p>
<p>11. The MN sends the SN Modification Confirm message to the SN.</p>
<p>NOTE 3: Step 8-11 are not performed in case the SN-DU rejected the
SCG activation or deactivation request.</p>
<h2 id="f1-startup-and-cells-activation">8.5 F1 Startup and cells
activation</h2>
<p>This function allows to setup the F1 interface between a gNB-DU and a
gNB-CU and it allows to activate the gNB-DU cells.</p>
<p><img src="media/image30.svg" /></p>
<p>Figure 8.5-1: F1 startup and cell activation</p>
<p>0. The gNB-DU and its cells are configured by OAM in the F1
pre-operational state. The gNB-DU has TNL connectivity toward the
gNB-CU.</p>
<p>1. The gNB-DU sends an F1 SETUP REQUEST message to the gNB-CU
including a list of cells that are configured and ready to be activated.
For each cell supporting NPN the gNB-DU includes NPN specific
information.</p>
<p>2. In NG-RAN, the gNB-CU ensures the connectivity toward the core
network. For this reason, the gNB-CU may initiate either the NG Setup or
the gNB Configuration Update procedure towards 5GC.</p>
<p>3. The gNB-CU sends an F1 SETUP RESPONSE message to the gNB-DU that
optionally includes a list of cells to be activated. The cells in the
list of cells to be activated in F1 SETUP RESPONSE message become
active, while the cells not in the list are inactive. The cells that are
active are <em>Out-of-Service</em> until the gNB-DU indicates that they
are <em>In-Service</em> . The gNB-DU will initiate the gNB-DU
Configuration Update procedure towards the gNB-CU and includes the
cell(s) that are <em>In-Service</em> and/or the cell(s) that are
<em>Out-Of-Service</em>. The gNB-DU may also indicate cell(s) to be
deleted, in which case the gNB-CU removes the corresponding cell(s)
information.</p>
<p>4. The gNB-CU may send a GNB CU CONFIGURATION UPDATE message to the
gNB-DU that optionally includes a list of cells to be activated, e.g.,
in case that these cells were not activated using the F1 SETUP RESPONSE
message.</p>
<p>5. The gNB-DU replies with a GNB CU CONFIGURATION UPDATE ACKNOWLEDGE
message that optionally includes a list of cells that failed to be
activated. The gNB-CU regards all Active cells as
<em>Out-Of-Service</em> until the gNB-DU indicates that they are
<em>In-Service</em>.</p>
<p>6. The gNB-CU may initiate either the Xn Setup towards a neighbour
NG-RAN node or the EN-DC X2 Setup procedure towards a neighbour eNB.</p>
<p>NOTE 1: For NG-RAN in case that the F1 SETUP RESPONSE message is not
used to activate any cell, step 2 may be performed after step 3.</p>
<p>Over the F1 interface between a gNB-CU and a gNB-DU pair, the
following two Cell States are possible:</p>
<p><em>- Inactive</em>: the cell is known by both the gNB-DU and the
gNB-CU. The cell shall not serve UEs;</p>
<p><em>- Active</em>: the cell is known by both the gNB-DU and the
gNB-CU. The cell should try to provide services to the UEs.</p>
<p>The gNB-CU decides whether the Cell State should be “Inactive“ or
“Active“. The gNB-CU can request the gNB-DU to change the Cell State
using the F1 SETUP RESPONSE, theGNB DU CONFIGURATION UPDATE ACKNOWLEDGE,
or the GNB CU CONFIGURATION UPDATE messages.</p>
<p>The gNB-DU reports to the gNB-CU the <em>Service Status</em>. The
<em>Service Status</em> is the state of the radio transmission over the
air. The <em>Service Status</em> is reported by the gNB-DU for cells for
which the Cell State is “Active “. The following <em>Service Status</em>
are defined:</p>
<p><em>- In-Service</em>: the cell is operational and able to serve
UEs.</p>
<p><em>- Out-Of-Service</em>: the cell is not operational, and it is not
able to serve UEs. The gNB-DU is trying to make the cell
operational.</p>
<p>The gNB-DU reports the <em>Service Status</em> using the GNB DU
CONFIGURATION UPDATE message.</p>
<p>NOTE 2: If gNB-DU regards that one or more cells cannot become
operational, the gNB-DU deletes them and reports them using the GNB DU
CONFIGURATION UPDATE message.</p>
<h2 id="rrc-state-transition">8.6 RRC state transition</h2>
<h3 id="rrc-connected-to-rrc-inactive">8.6.1 RRC connected to RRC
inactive</h3>
<p>This clause gives the RRC connected to RRC inactive state transition
given that gNB consists of gNB-CU and gNB-DU(s), as shown in Figure
8.6.1-1.</p>
<p><img src="media/image31.svg" /></p>
<p>Figure 8.6.1-1: RRC connected to RRC inactive state transition
procedure</p>
<p>0. At first, the gNB-CU determines the UE to enter into RRC inactive
mode from connected mode.</p>
<p>1. The gNB-CU generates <em>RRCRelease</em> message which includes
suspend configuration towards UE. The RRC message is encapsulated in UE
CONTEXT RELEASE COMMAND message to the gNB-DU.</p>
<p>2. The gNB-DU forwards <em>RRCRelease</em> message to UE.</p>
<p>3. The gNB-DU responds with UE CONTEXT RELEASE COMPLETE message.</p>
<h3 id="rrc-inactive-to-other-states">8.6.2 RRC inactive to other
states</h3>
<p>This clause gives the RRC inactive to other RRC states transition
given that gNB consists of gNB-CU and gNB-DU(s), as shown in Figure
8.6.2-1.</p>
<p><img src="media/image32.svg" /></p>
<p>Figure 8.6.2-1: RRC inactive to other RRC states transition
procedure</p>
<p>1. If data is received from 5GC, the gNB-CU sends PAGING message to
the gNB-DU.</p>
<p>2. The gNB-DU sends <em>Paging</em> message to UE.</p>
<p>NOTE 1: Step 1 and 2 only exist in case of DL data arrival.</p>
<p>3. The UE sends <em>RRCResumeRequest</em> message either upon
RAN-based paging, UL data arrival or RNA update.</p>
<p>4. The gNB-DU includes <em>RRCResumeRequest</em> in a non-UE
associated INITIAL UL RRC MESSAGE TRANSFER message and transfer to the
gNB-CU.</p>
<p>5. For UE Inactive to UE Active transitions, excluding transitions
due to signalling exchange only, the gNB-CU allocates gNB-CU UE F1AP ID
and sends UE CONTEXT SETUP REQUEST message to gNB-DU, which may include
SRB ID(s) and DRB ID(s) to be setup, CellGroupConfig stored in gNB-CU or
retrieved from the old NG-RAN node may also be included. In case of
NG-RAN sharing, the gNB-CU includes the serving PLMN ID (in case of
SNPNs the serving NID).</p>
<p>6. The gNB-DU responds with UE CONTEXT SETUP RESPONSE message, which
contains RLC/MAC/PHY configuration of SRB and DRBs provided by the
gNB-DU.</p>
<p>NOTE 2: Step 5 and step 6 exist for inactive to active transitions,
excluding transitions due to signalling exchange only. When gNB-CU
successfully retrieves and verifies the UE context, it may decide to let
the UE enter into RRC active mode. gNB-CU shall trigger UE context setup
procedure between gNB-CU and gNB-DU, during which both SRB1, SRB2 and
DRB(s) can be setup. For signalling exchange only transitions, gNB-CU
does not trigger UE Context Setup procedure. For inactive to Idle
transitions the gNB-CU does not trigger the UE Context Setup
procedure.</p>
<p>7. The gNB-CU generates
<em>RRCResume/RRCSetup</em>/<em>RRCReject</em>/<em>RRCRelease</em>
message or receives <em>RRCRelease</em> message from the old NG-RAN node
towards the UE. The RRC message is encapsulated in DL RRC MESSAGE
TRANSFER message together with SRB ID.</p>
<p>8. The gNB-DU forwards RRC message to the UE either over SRB0 or SRB1
as indicated by the SRB ID.</p>
<p>NOTE 3: In step 7, it is expected that gNB-CU takes appropriate
action, e.g. generates RRC resume message for inactive to active state
transition(for both cases of signaling exchange only, and UP data
exchange), generates <em>RRCSetup</em> message for fallback to establish
a new RRC connection, and generates or receives from the old NG-RAN node
either <em>RRCRelease</em> message without suspend configuration for
inactive to idle state transition, or <em>RRCRelease</em> message with
suspend configuration to remain in inactive state.<br />
If step 5 and 6 are not performed, the gNB-DU deduces the SRB on which
to deliver the RRC message in step 7 from the SRB ID, i.e. SRB ID “0”
corresponds to SRB0, SRB ID “1” corresponds to SRB1.</p>
<p>9. The UE sends <em>RRCResumeComplete</em>/<em>RRCSetupComplete</em>
message to the gNB-DU.</p>
<p>10. The gNB-DU encapsulates RRC in UL RRC MESSAGE TRANSFER message
and send to the gNB-CU.</p>
<p>NOTE 4: Step 9 and step 10 exist for inactive to active state
transition (for both cases of signaling exchange only, and UP data
exchange). UE generates
<em>RRCResumeComplete</em>/<em>RRCSetupComplete</em> message for resume
the existing RRC connection or fallback to a new RRC connection
respectively.</p>
<h2 id="rrc-connection-reestablishment">8.7 RRC connection
reestablishment</h2>
<p>This procedure is used for the case that UE tries to reestablish the
RRC connection, as shown in Figure 8.7-1.</p>
<p><img src="media/image33.svg" /></p>
<p>Figure 8.7-1: RRC connection reestablishment procedure</p>
<p>1. The UE sends a preamble to the gNB-DU.</p>
<p>2. The gNB-DU allocates new C-RNTI and responds with RAR.</p>
<p>3. The UE sends an <em>RRCReestablishmentRequest</em> message to the
gNB-DU, which contains old C-RNTI and old PCI.</p>
<p>4. The gNB-DU includes the RRC message and, if the UE is admitted,
the corresponding low layer configuration for the UE in the INITIAL UL
RRC MESSAGE TRANSFER message and transfers to the gNB-CU. The INITIAL UL
RRC MESSAGE TRANSFER message includes the new C-RNTI. If the gNB-DU
identifies the UE as a Reduced Capability UE during the random access
procedure, a NR RedCap UE Indication is provided in the INITIAL UL RRC
MESSAGE TRANSFER message.</p>
<p>5. The gNB-CU includes an <em>RRCReestablishment</em> message and
transfers to the gNB-DU. If the UE requests to re-establish RRC
connection in the last serving gNB-DU, the DL RRC MESSAGE TRANSFER
message shall include old gNB-DU UE F1AP ID.</p>
<p>6. The gNB-DU retrieves the UE context based on the old gNB-DU UE
F1AP ID, and replaces old C-RNTI/PCI with new C-RNTI/PCI. It sends the
<em>RRCReestablishment</em> message to UE.</p>
<p>7-8. The UE sends an <em>RRCReestablishmentComplete</em> message to
the gNB-DU. The gNB-DU encapsulates the RRC message in the UL RRC
MESSAGE TRANSFER message and sends to the gNB-CU.</p>
<p>9-10. The gNB-CU triggers an UE Context Modification procedure by
sending UE CONTEXT MODIFICATION REQUEST message, which may include DRBs
to be modified and released list. The gNB-DU responses with the UE
CONTEXT MODIFICATION RESPONSE message.</p>
<p>9'-10'. The gNB-DU triggers an UE Context Modification procedure by
sending UE CONTEXT MODIFICIATION REQUIRED message, which may include
DRBs to be modified and released list. The gNB-CU responses with UE
CONTEXT MODIFICATION CONFIRM message.</p>
<p>NOTE 1: Here it is assumed that the UE accessed the original gNB-DU
where the UE context is available for that UE, and either steps 9-10 or
steps 9’-10’ may be executed or both could be skipped.</p>
<p>NOTE 2: If the UE accessed from a gNB-DU other than the original one,
the gNB-CU should trigger the UE Context Setup procedure toward this new
gNB-DU.</p>
<p>11-12. The gNB-CU includes an <em>RRCReconfiguration</em> message
into the DL RRC MESSAGE TRANSFER message and transfers to the gNB-DU.
The gNB-DU forwards it to the UE.</p>
<p>13-14. The UE sends an <em>RRCReconfigurationComplete</em> message to
the gNB-DU, and the gNB-DU forwards it to the gNB-CU.</p>
<h2 id="multiple-tnlas-for-f1-c">8.8 Multiple TNLAs for F1-C</h2>
<p>In the following, the procedure for managing multiple TNLAs for F1-C
is described.</p>
<p><img src="media/image34.svg" /></p>
<p>Figure 8.8-1: Managing multiple TNLAs for F1-C.</p>
<p>1. The gNB-DU establishes the first TNLA with the gNB-CU using a
configured TNL address.</p>
<p>NOTE: The gNB-DU may use different source and/or destination IP end
point(s) if the TNL establishment towards one IP end point fails. How
the gNB-DU gets the remote IP end point(s) and its own IP address are
outside the scope of this specification.</p>
<p>2-3. Once the TNLA has been established, the gNB-DU initiates the F1
Setup procedure to exchange application level configuration data.</p>
<p>4-6. The gNB-CU may add additional TNL Endpoint(s) to be used for
F1-C signalling between the gNB-CU and the gNB-DU pair using the gNB-CU
Configuration Update procedure. The gNB-CU Configuration Update
procedure also allows the gNB-CU to request the gNB-DU to modify or
release TNLA(s).</p>
<p>7-9. The gNB-DU may add additional TNL association(s) to be used for
F1-C signalling using a gNB-CU endpoint already in use for existing TNL
associations between the gNB-CU and the gNB-DU pair. The gNB-DU
CONFIGURATION UPDATE message including the gNB-DU ID shall be the first
F1AP message sent on an additional TNLA of an already setup F1-C
interface instance after the TNL association has become operational.</p>
<p>The F1AP UE TNLA binding is a binding between a F1AP UE association
and a specific TNL association for a given UE. After the F1AP UE TNLA
binding is created, the gNB-CU can update the UE TNLA binding by sending
the F1AP message for the UE to the gNB-DU via a different TNLA. The
gNB-DU shall update the F1AP UE TNLA binding with the new TNLA. The
gNB-DU Configuration Update procedure also allows the gNB-DU to inform
the gNB-CU that the indicated TNLA(s) will be removed by the gNB-DU.</p>
<h2 id="overall-procedures-involving-e1-and-f1">8.9 Overall procedures
involving E1 and F1</h2>
<p>The following clauses describe the overall procedures involving E1
and F1.</p>
<p>NOTE: The general principles and procedures described in this clause
also apply to ng-eNB and W1/E1 interface, i.e. W1 interface between
ng-eNB-DU and ng-eNB-CU-CP/ng-eNB-CU-UP, E1 interface between
ng-eNB-CU-CP and ng-eNB-CU-UP, if not explicitly specified
otherwise.</p>
<h3 id="ue-initial-access-1">8.9.1 UE Initial Access</h3>
<p>The signalling flow for UE Initial access involving E1 and F1 is
shown in Figure 8.9.1-1.</p>
<p><img src="media/image35.svg" /></p>
<p>Figure 8.9.1-1: UE Initial Access procedure involving E1 and F1</p>
<p>Steps 1-8 are defined in clause 8.1.</p>
<p>9. The gNB-CU-CP sends the BEARER CONTEXT SETUP REQUEST message to
establish the bearer context in the gNB-CU-UP.</p>
<p>10 The gNB-CU-UP sends the BEARER CONTEXT SETUP RESPONSE message to
the gNB-CU-CP, including F1-U UL TEID and transport layer address
allocated by the gNB-CU-UP.</p>
<p>Steps 11-13 are defined in clause 8.1.</p>
<p>14. The gNB-CU-CP sends the BEARER CONTEXT MODIFICATION REQUEST
message to the gNB-CU-UP, including F1-U DL TEID and transport layer
address allocated by the gNB-DU.</p>
<p>15. The gNB-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message to the gNB-CU-CP.</p>
<p>Steps 16-22 are defined in clause 8.1.</p>
<p>NOTE: Steps 14-15 and steps 16-17 can happen in parallel, but both
are before step 18.</p>
<h3 id="bearer-context-setup-over-f1-u">8.9.2 Bearer context setup over
F1-U</h3>
<p>Figure 8.9.2-1 shows the procedure used to setup the bearer context
in the gNB-CU-UP.</p>
<p><img src="media/image36.svg" /></p>
<p>Figure 8.9.2-1: Bearer context setup over F1-U</p>
<p>0. Bearer context setup (e.g., following an SGNB ADDITION REQUEST
message from the MeNB) is triggered in gNB-CU-CP.</p>
<p>1. The gNB-CU-CP sends a BEARER CONTEXT SETUP REQUEST message
containing UL TNL address information for S1-U or NG-U, and if required,
DL TNL address information for X2-U to setup the bearer context in the
gNB-CU-UP. For NG-RAN, the gNB-CU-CP decides flow-to-DRB mapping and
sends the generated SDAP and PDCP configuration to the gNB-CU-UP.</p>
<p>NOTE 1: In case of Conditional Handover or Conditional PSCell
Addition/Change, the BEARER CONTEXT SETUP REQUEST message indicates to
ignore the included security context and not to initiate sending
downlink packets until the UE successfully accesses. Up to
implementation, the gNB-CU-CP may request to establish bearer context as
if a regular HO was requested.</p>
<p>2. The gNB-CU-UP responds with a BEARER CONTEXT SETUP RESPONSE
message containing the UL TNL address information for F1-U, and DL TNL
address information for S1-U or NG-U, and if required, UL TNL address
information for X2-U or Xn-U.</p>
<p>NOTE 2: The indirect data transmission for split bearer through the
gNB-CU-UP is not precluded.</p>
<p>3. F1 UE context setup procedure is performed to setup one or more
bearers in the gNB-DU.</p>
<p>4. The gNB-CU-CP sends a BEARER CONTEXT MODIFICATION REQUEST message
containing the DL TNL address information for F1-U or Xn-U, and PDCP
status.</p>
<p>5. The gNB-CU-UP responds with a BEARER CONTEXT MODIFICATION RESPONSE
message.</p>
<h3 id="bearer-context-release-over-f1-u">8.9.3 Bearer context release
over F1-U</h3>
<h4 id="gnb-cu-cp-initiated-bearer-context-release">8.9.3.1 gNB-CU-CP
initiated bearer context release</h4>
<p>Figure 8.9.3.1-1 shows the procedure used to release the bearer
context in the gNB-CU-UP initiated by the gNB-CU-CP.</p>
<p><img src="media/image37.svg" /></p>
<p>Figure 8.9.3.1-1: Bearer context release over F1-U – gNB-CU-CP
initiated</p>
<p>0. Bearer context release (e.g., following an SGNB RELEASE REQUEST
message from the MeNB) is triggered in gNB-CU-CP.</p>
<p>1. The gNB-CU-CP sends a BEARER CONTEXT MODIFICATION REQUEST message
to the gNB-CU-UP.</p>
<p>2. The gNB-CU-UP responds with a BEARER CONTEXT MODIFICATION RESPONSE
carrying the PDCP UL/DL status.</p>
<p>3. F1 UE context modification procedure is performed to stop the data
transmission for the UE. It is up to gNB-DU implementation when to stop
the UE scheduling.</p>
<p>NOTE: step 1-3 are performed only if the PDCP status of the bearer(s)
needs to be preserved e.g., for bearer type change.</p>
<p>4. The gNB-CU-CP may receive the UE CONTEXT RELEASE message from the
MeNB in EN-DC operation as described in clause 8.4.2.1.</p>
<p>5. and 7. Bearer context release procedure is performed.</p>
<p>6. F1 UE context release procedure is performed to release the UE
context in the gNB-DU.</p>
<h4 id="gnb-cu-up-initiated-bearer-context-release">8.9.3.2 gNB-CU-UP
initiated bearer context release</h4>
<p>Figure 8.9.3.2-1 shows the procedure used to release the bearer
context in the gNB-CU-UP initiated by the gNB-CU-UP.</p>
<p><img src="media/image38.svg" /></p>
<p>Figure 8.9.3.2-1: Bearer context release over F1-U – gNB-CU-UP
initiated</p>
<p>0. Bearer context release is triggered in gNB-CU-UP e.g., due to
local failure.</p>
<p>1. The gNB-CU-UP sends a BEARER CONTEXT RELEASE REQUEST message to
request the release of the bearer context in the gNB-CU-UP. This message
may contain the PDCP status.</p>
<p>2.- 5. If the PDCP status needs to be preserved, the E1 Bearer
Context Modification and the F1 UE Context Modification procedures are
performed. The E1 Bearer Context Modification procedure is used to
convey data forwarding information to the gNB-CU-UP. The gNB-CU-CP may
receive the UE Context Release from the MeNB.</p>
<p>6. The gNB-CU-CP sends a BEARER CONTEXT RELEASE COMMAND message to
release the bearer context in the gNB-CU-UP.</p>
<p>7. The gNB-CU-UP responds with a BEARER CONTEXT RELEASE COMPLETE to
confirm the release of the bearer context including also data forwarding
information.</p>
<p>8. F1 UE context release procedure may be performed to release the UE
context in the gNB-DU.</p>
<h3 id="inter-gnb-handover-involving-gnb-cu-up-change">8.9.4 Inter-gNB
handover involving gNB-CU-UP change</h3>
<p>Figure 8.9.4-1 shows the procedure used for inter-gNB handover
involving gNB-CU-UP change. Overall inter-gNB handover procedure is
specified in TS 37.340 [12].</p>
<p><img src="media/image39.svg" /></p>
<p>Figure 8.9.4-1: Inter-gNB handover involving gNB-CU-UP change</p>
<p>1. The source gNB-CU-CP sends HANDOVER REQUEST message to the target
gNB-CU-CP. In case of Conditional Handover, the target gNB is regarded
as a candidate gNB which is only accessed by the UE when the CHO
condition(s) are fulfilled.</p>
<p>2-4. Bearer Context Setup procedure is performed as described in
clause 8.9.2.</p>
<p>5. The target gNB-CU-CP responds the source gNB-CU-CP with an
HANDOVER REQUEST ACKNOWLEDGE message.</p>
<p>NOTE 1: In case of Conditional Handover, it is up to target gNB-CU-CP
implementation to make sure that the EARLY STATUS TRANSFER information
is forwarded to the right gNB-CU-UP (e.g. separate UE-associated
signalling connection over Xn interface for each gNB-CU-UP).</p>
<p>6. The F1 UE Context Modification procedure is performed to send the
handover command to the UE, and to indicate to stop the data
transmission for the UE.</p>
<p>NOTE 2: In case of DAPS Handover or Conditional Handover, the F1 UE
Context Modification procedure in step 6 does not indicate to stop the
data transmission for the UE. Instead, the F1 DL RRC Message Transfer
procedure can be used which carries the handover command to the UE.</p>
<p>7-8. Bearer Context Modification procedure (gNB-CU-CP initiated) is
performed to enable the gNB-CU-CP to retrieve the PDCP UL/DL status and
to exchange data forwarding information for the bearer.</p>
<p>9. The source gNB-CU-CP sends an SN STATUS TRANSFER message to the
target gNB-CU-CP.</p>
<p>NOTE 3: In case of DAPS Handover, the EARLY STATUS TRANSFER message
is sent for DRBs configured with DAPS instead of the SN STATUS TRANSFER
message.</p>
<p>NOTE 4: In case of Conditional Handover, the EARLY STATUS TRANSFER
message is sent only if early data forwarding is applied.</p>
<p>NOTE 5: The COUNT related info for the EARLY STATUS TRANSFER message
is retrieved from the source gNB-CU-UP via the steps 7/8.</p>
<p>10-11. Bearer Context Modification procedure is performed as
described in clause 8.9.2. The target gNB-CU-CP does not transfer the
PDCP UL/DL status carried from the SN STATUS TRANSFER message to the
target gNB-CU-UP if the PDCP status does not need to be preserved (e.g.
full configuration). In case of DAPS Handover or Conditional Handover,
the COUNT related info carried by the EARLY STATUS TRANSFER message is
provided to the target gNB-CU-UP.</p>
<p>12. Data Forwarding may be performed from the source gNB-CU-UP to the
target gNB-CU-UP.</p>
<p>NOTE 6: In case of Conditional Handover, the UE performs RACH when
the CHO condition(s) are fulfilled. Once successfully accessed, the
target gNB-DU sends an ACCESS SUCCESS message to inform the target
gNB-CU-CP of which cell the UE has accessed through. The target
gNB-CU-CP may forward to the target gNB-CU-UP, necessary information for
sending downlink packets (i.e. DL TNL address information for F1-U and
UP security information corresponding to the accessed cell), via a
Bearer context modification procedure. The target gNB-CU-CP may initiate
Bearer context release procedure toward the other signalling connections
or other candidate target gNB-CU-UPs, if any, to release the prepared
conditional handover resources for the UE.</p>
<p>12a. In case of DAPS Handover or Conditional Handover, the target
gNB-CU-CP sends the HANDOVER SUCCESS message to the source gNB-CU-CP to
inform that the UE has successfully accessed the target cell.</p>
<p>12b In case of DAPS Handover or Conditional Handover, the F1 UE
Context Modification procedure is performed to indicate to stop the data
transmission for the UE.</p>
<p>12c-12d. In case of DAPS Handover or Conditional Handover, the Bearer
context modification procedure (gNB-CU-CP initiated) is performed to
indicate the source gNB-CU-UP to stop packet delivery and also to
retrieve the PDCP UL/DL status.</p>
<p>12e. In case of DAPS Handover or Conditional Handover, the source
gNB-CU-CP sends the SN STATUS TRANSFER message to the target
gNB-CU-CP.</p>
<p>12f-12g. In case of DAPS Handover or Conditional Handover, the Bearer
context modification procedure is performed to provide the PDCP UL/DL
status to the target gNB-CU-UP only if the PDCP status needs to be
preserved as described in TS 38.300 [2].</p>
<p>NOTE 7: In case of Conditional Handover, inactivity monitoring is
performed after step 12g.</p>
<p>13-15. Path Switch procedure is performed to update the DL TNL
address information for the NG-U towards the core network.</p>
<p>16. The target gNB-CU-CP sends an UE CONTEXT RELEASE message to the
source gNB-CU-CP.</p>
<p>17. and 19. Bearer Context Release procedure is performed.</p>
<p>18. F1 UE Context Release procedure is performed to release the UE
context in the source gNB-DU.</p>
<h3 id="change-of-gnb-cu-up">8.9.5 Change of gNB-CU-UP</h3>
<p>Figure 8.9.5-1 shows the procedure used for the change of gNB-CU-UP
within a gNB.</p>
<p><img src="media/image40.svg" /></p>
<p>Figure 8.9.5-1: Change of gNB-CU-UP</p>
<p>1. Change of gNB-CU-UP is triggered in gNB-CU-CP based on e.g.,
measurement report from the UE.</p>
<p>2-3. Bearer Context Setup procedure is performed as described in
clause 8.9.2.</p>
<p>4. F1 UE Context Modification procedure is performed to change the UL
TNL address information for F1-U for one or more bearers in the
gNB-DU.</p>
<p>5-6. Bearer Context Modification procedure (gNB-CU-CP initiated) is
performed to enable the gNB-CU-CP to retrieve the PDCP UL/DL status and
to exchange data forwarding information for the bearer.</p>
<p>7-8. Bearer Context Modification procedure is performed as described
in clause 8.9.2.</p>
<p>9. Data Forwarding may be performed from the source gNB-CU-UP to the
target gNB-CU-UP.</p>
<p>10-12. PDU Session Resource Modify Indication procedure is performed
to update the DL TNL address information for the NG-U towards the core
network.</p>
<p>13-14. Bearer Context Release procedure (gNB-CU-CP initiated) is
performed as described in clause 8.9.3.</p>
<h3 id="rrc-state-transition-1">8.9.6 RRC State transition</h3>
<h4 id="rrc-connected-to-rrc-inactive-1">8.9.6.1 RRC Connected to RRC
Inactive</h4>
<p>The procedure for changing the UE state from RRC-connected to
RRC-inactive is shown in Figure 8.9.6.1-1.</p>
<p><img src="media/image41.svg" /></p>
<p>Figure 8.9.6.1-1: RRC Connected to RRC Inactive state transition.</p>
<p>1. The gNB-CU-CP sends BEARER CONTEXT SETUP REQUEST message with
UE/PDU session/DRB level inactivity timer.</p>
<p>2. The gNB-CU-UP sends BEARER CONTEXT SETUP RESPONSE message.</p>
<p>3. The gNB-CU-UP sends BEARER CONTEXT INACTIVITY NOTIFICATION message
with inactivity monitoring results.</p>
<p>4. The gNB-CU-CP determines that the UE should enter RRC-inactive
(e.g., after receiving Bearer Context Inactivity Notification
procedure).</p>
<p>5. The gNB-CU-CP sends BEARER CONTEXT MODIFICATION REQUEST message
with a Bearer Context Status Change to the gNB-CU-UP, which indicates
that the UE is entering RRC-inactive state. The gNB-CU-CP keeps the F1
UL TEIDs.</p>
<p>6. The gNB-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
message including the PDCP UL and DL status that may be needed for e.g.,
data volume reporting. The gNB-CU-UP keeps the Bearer Context, the
UE-associated logical E1-connection, the NG-U related resource (e.g.,
NG-U DL TEIDs) and the F1 UL TEIDs.</p>
<p>7. The gNB-CU-CP sends the UE CONTEXT RELEASE COMMAND message to the
gNB-DU serving the UE, together with the <em>RRCRelease</em> message to
be sent to the UE.</p>
<p>NOTE: step 5 and step 7 can be performed at the same time.</p>
<p>8. The gNB-DU sends the <em>RRCRelease</em> message to the UE.</p>
<p>9. The gNB-DU sends the UE CONTEXT RELEASE COMPLETE message to the
gNB-CU-CP.</p>
<h4 id="rrc-inactive-to-other-states-1">8.9.6.2 RRC Inactive to other
states</h4>
<p>The procedure for changing the UE state from RRC-inactive to
RRC-connected is shown in Figure 8.9.6.2-1.</p>
<p><img src="media/image42.svg" /></p>
<p>Figure 8.9.6.2-1: RRC Inactive to RRC Connected state transition.</p>
<p>0. The gNB-CU-UP receives DL data on NG-U interface.</p>
<p>1. The gNB-CU-UP sends DL DATA NOTIFICATION message to the
gNB-CU-CP.</p>
<p>2. The gNB-CU-CP sends PAGING message to the gNB-DU.</p>
<p>3. The gNB-DU sends the <em>Paging</em> message to the UE.</p>
<p>NOTE 1: steps 0-3 are needed only in case of DL data.</p>
<p>4. The UE sends <em>RRCResumeRequest</em> message either upon RAN
paging or UL data arrival.</p>
<p>5. The gNB-DU sends the INITIAL UL RRC MESSAGE TRANSFER message to
the gNB-CU-CP.</p>
<p>6. The gNB-CU-CP sends UE CONTEXT SETUP REQUEST message including the
stored F1 UL TEIDs to create the UE context in the gNB-DU.</p>
<p>7. The gNB-DU responds with the UE CONTEXT SETUP RESPONSE message
including the F1 DL TEIDs allocated for the DRBs.</p>
<p>8. The gNB-CU-CP and the UE perform the RRC-Resume procedure via the
gNB-DU.</p>
<p>9. The gNB-CU-CP sends BEARER CONTEXT MODIFICATION REQUEST message
with a RRC Resume indication, which indicates that the UE is resuming
from RRC-inactive state. The gNB-CU-CP also includes the F1 DL TEIDs
received from the gNB-DU in step 7.</p>
<p>10. The gNB-CU-UP responds with theBEARER CONTEXT MODIFICATION
RESPONSE message.</p>
<p>NOTE 2: steps 8 and 9 can be performed in parallel.</p>
<h3 id="trace-activationdeactivation-over-f1-and-e1">8.9.7 Trace
activation/deactivation over F1 and E1</h3>
<p>Figure 8.9.6-1 shows the procedure used for the activation and the
deactivation of UE traces in the gNB-DU, the gNB-CU-UP or both.</p>
<p><img src="media/image43.svg" /></p>
<p>Figure 8.9.7-1: Trace activation/deactivation over F1 and E1</p>
<p>1. The gNB-CU-CP receives a TRACE START message from the AMF or the
MeNB (in case of EN-DC).</p>
<p>2. The gNB-CU-CP initiates the Trace Start procedure by sending a
TRACE START message to the gNB-DU, the gNB-CU-UP or both.</p>
<p>3. Upon reception of the TRACE START message, the gNB-DU, the
gNB-CU-UP or both initiate the requested trace session and report it as
described in TS 32.422 [20].</p>
<p>4. The gNB-CU-CP receives a DEACTIVATE TRACE message from the AMF or
the MeNB (in case of EN-DC).</p>
<p>5. The gNB-CU-CP initiates the Deactivate Trace procedure by sending
a DEACTIVATE TRACE message to the gNB-DU, the gNB-CU-UP or both.</p>
<p>6. Upon reception of the DEACTIVATE TRACE message, the gNB-DU, the
gNB-CU-UP or both stop the trace session for the indicated trace
reference.</p>
<h3 id="bh-rlc-channel-establishment-procedure">8.9.8 BH RLC channel
establishment procedure </h3>
<p>NOTE: The general principles and procedures described in this clause
does not apply to ng-eNB</p>
<p>The BH RLC channel is an RLC channel used for backhauling between
IAB-node and IAB-donor-DU, or between different IAB-nodes. The BH RLC
channel establishment may be triggered by a UE accessing the network and
establishing a DRB.</p>
<p><img src="media/image44.svg" /></p>
<p>Figure 8.9.8-1: Signalling flow for IAB BH RLC channel establishment
procedure</p>
<p>1. The IAB-donor-CU sends to the IAB-donor-DU a UE CONTEXT
MODIFICATION REQUEST message for setting up the parent-node IAB-DU side
of the BH link between IAB-donor-DU and IAB-node 1. This step is
optional and is required only when a new BH RLC channel needs to be
established on the BH link between IAB-donor-DU and IAB-node 1.</p>
<p>2. The IAB-donor-DU sends the UE CONTEXT MODIFICATION RESPONSE
message to the IAB-donor-CU.</p>
<p>3. The IAB-donor-CU sends to the IAB-donor-DU a DL RRC MESSAGE
TRANSFER message encapsulating the <em>RRCReconfiguration</em> message
for configuring the IAB-MT of IAB-node 1. This step is optional and is
required only when a new BH RLC channel needs to be established on the
BH link between IAB-donor-DU and IAB-node 1.</p>
<p>4. The IAB-donor-DU decapsulates and forwards the
<em>RRCReconfiguration</em> message to the IAB-MT of IAB-node 1. This
step is optional and is required only when a new BH RLC channel needs to
be established on the BH link between IAB-donor-DU and IAB-node 1.</p>
<p>5. The IAB-MT of IAB-node 1 sends to the IAB-donor-DU an
<em>RRCReconfigurationComplete</em> message destined to the
IAB-donor-CU. This step is optional and is required only when a new BH
RLC channel needs to be established on the BH link between IAB-donor-DU
and IAB-node 1.</p>
<p>6. The IAB-donor-DU sends the UL RRC MESSAGE TRANSFER message
encapsulating the <em>RRCReconfigurationComplete</em> message to the
IAB-donor-CU. This step is optional and is required only when a new BH
RLC channel needs to be established on the BH link between IAB-donor-DU
and IAB-node 1.</p>
<p>7. The IAB-donor-CU sends to the IAB-DU of IAB-node 1 a UE CONTEXT
MODIFICATION REQUEST message for setting up the parent node IAB-DU side
of the BH link between IAB-node 1 and IAB-node 2. This step is optional
and is required only when a new BH RLC channel needs to be established
on the BH link between IAB-node 1 and IAB-node 2.</p>
<p>8. The IAB-node 1 sends the UE CONTEXT MODIFICATION RESPONSE message
to the IAB-donor-CU.</p>
<p>9. The IAB-donor-CU sends to the IAB-DU of IAB-node 1 a DL RRC
MESSAGE TRANSFER message encapsulating the <em>RRCReconfiguration</em>
message for configuring the IAB-MT of IAB-node 2. This step is optional
and is required only when a new BH RLC channel needs to be established
on the BH link between IAB-node 1 and IAB-node 2.</p>
<p>10. The IAB-DU of IAB-node 1 decapsulates and forwards the
<em>RRCReconfiguration</em> message to the IAB-MT of IAB-node 2. This
step is optional and is required only when a new BH RLC channel needs to
be established on the BH link between IAB-node 1 and IAB-node 2.</p>
<p>11. The IAB-MT of IAB-node 2 sends to IAB-node 1 an
<em>RRCReconfigurationComplete</em> message destined to the
IAB-donor-CU. This step is optional and is required only when a new BH
RLC channel needs to be established on the BH link between IAB-node 1
and IAB-node 2.</p>
<p>12. IAB-node 1 sends the UL RRC MESSAGE TRANSFER message
encapsulating the <em>RRCReconfigurationComplete</em> message to the
IAB-donor-CU. This step is optional and is required only when a new BH
RLC channel needs to be established on the BH link between IAB-node 1
and IAB-node 2.</p>
<p>The IAB-donor-CU uses the existing CU-DU split principles and the UE
Context Setup procedure or UE Context Modification procedure to
configure the parent IAB-DU side of the BH RLC channel. The IAB-donor-CU
uses RRC signaling (which is encapsulated in the DL RRC MESSAGE TRANSFER
message terminating at the parent node IAB-DU side of the BH RLC
channel) to configure the child node IAB-MT side of the BH RLC
channel.</p>
<p>The IAB-donor-CU configures the IAB-DU with a mapping to the BH RLC
channel to be used for a specific UL F1-U tunnel during the UE Context
Setup procedure or the F1-AP UE Context Modification procedure for the
UE.</p>
<h3 id="traffic-mapping">8.9.9 Traffic Mapping</h3>
<p>NOTE: The general principles and procedures described in this clause
does not apply to ng-eNB.</p>
<h4 id="traffic-mapping-from-ip-layer-to-layer-2">8.9.9.1 Traffic
Mapping from IP-layer to Layer-2</h4>
<p>When forwarding IP packets, the IAB-donor-DU performs the traffic
mapping from IP-layer to layer-2 as defined in TS 38.340 [22]. The
traffic mapping information is configured by the IAB-donor-CU, which
contains the IP header information, and the BH information including the
BAP routing ID and a list of egress link and BH RLC channel pairs.</p>
<p>Multiple traffic mappings can contain the same BAP routing ID and/or
list of egress link and BH RLC channel pairs.</p>
<p>The traffic mappings can be configured as part of the UE Context
Setup or UE Context Modification procedures. They may also be configured
via the non-UE-associated BAP Mapping Configuration procedure.</p>
<p>NOTE 1: Implementation must ensure the avoidance of potential race
conditions, i.e. no conflicting configurations are concurrently
performed using UE-associated and non-UE-associated procedures.</p>
<p>The traffic mapping from IP-layer to layer-2 may include IPv6 Flow
Label information. For DL F1 or X2 traffic, the IPv6 Flow Label
information is set by the IAB-donor-CU or MeNB, respectively. When this
traffic is protected via IPsec tunnel mode, the IPv6 Flow Label is set
on the inner header by the IAB-donor-CU or MeNB, and the security
gateway shall copy the IPv6 Flow Label from the inner IP header to the
outer IP header to ensure that the IAB-donor-DU can perform the traffic
mapping considering the IPv6 Flow Label.</p>
<p>NOTE 2: Implementation must ensure that IPv6 Flow Label collisions
are avoided on the IP backhaul network between security gateway and
IAB-donor-DU.</p>
<h4 id="bh-rlc-channel-mapping-on-bap-layer">8.9.9.2 BH RLC Channel
Mapping on BAP Layer</h4>
<p>When traffic is forwarded on BAP layer as described in TS 38.300 [2],
the IAB-node performs the BH RLC channel mapping as defined in TS 38.340
[22]. The BH RLC channel mapping information is configured by the
IAB-donor-CU.</p>
<p>The BH RLC channel mappings can be configured as part of the UE
Context Setup or UE Context Modification procedures. They may also be
configured via the non-UE-associated BAP Configuration procedure.</p>
<p>NOTE: Implementation must ensure the avoidance of potential race
conditions, i.e. that no conflicting configurations are concurrently
performed using UE-associated and non-UE-associated procedures.</p>
<h3 id="iab-node-release">8.9.10 IAB-node release</h3>
<p>NOTE: The general principles and procedures described in this clause
does not apply to ng-eNB.</p>
<p>An IAB-node may depart the network either in an orderly fashion,
which implies that both the network and the IAB-node are aware in
advance, or in a disorderly fashion (e.g. due to an RLF with failed
recovery).</p>
<h4 id="iab-node-orderly-release">8.9.10.1 IAB-node orderly release</h4>
<p>For orderly release, the IAB-donor-CU can remove the F1 interface
connection to the IAB-DU without releasing the IAB-MT. If the IAB-MT
needs to be released, IAB-MT will perform the deregistration procedure.
If both F1 interface and IAB-MT need to be released, the IAB-donor-CU
should remove the F1 interface to the IAB-DU before it releases the
collocated IAB-MT. The deregistration procedure is the same as the UE
deregistration procedure. The IAB-donor-CU hands over the UEs or child
IAB-nodes currently connected to the IAB-node’s cell(s) to another
cell(s), or releases the UEs and may stop accepting Incoming handovers
or connections to the IAB-node that is about to be released. The
IAB-donor-CU may also update/release the BH RLC channels in the
intermediate hops. At this point, the F1 interface will be released and
the corresponding SCTP associations will be removed.</p>
<h4 id="iab-node-disorderly-release">8.9.10.2 IAB-node disorderly
release</h4>
<p>For the disorderly release case, how to remove the IAB-node context
is up to network implementation.</p>
<h3 id="iab-node-oam">8.9.11 IAB-node OAM</h3>
<p>NOTE 0: The general principles and procedures described in this
clause does not apply to ng-eNB.</p>
<p>The IAB-node receives commands, configuration data and software
downloads (e.g. for equipment software upgrades) from its OAM system.
The IAB-node can also send alarms and traffic counter information to its
OAM system. The transport connection between the IAB-node and its OAM,
using IP, is provided by the IAB-MT’s PDU session via 5G network, or the
IAB-MT’s PDN connection via LTE network when IAB-MT uses EN-DC.</p>
<p>NOTE 1: The transport connection between the IAB-node and its OAM may
also be provided using the Backhaul IP layer by implementation.</p>
<p>Alarms in the IAB generate bursts of high-priority traffic, to be
transported in real time. Traffic counters generate bursts of traffic,
but their transport need not be real-time. Configuration messages from
OAM to the IAB will also generate small bursts of traffic, possibly with
lower priority than alarms but still delay-sensitive: when a
configuration is committed on the OAM, the time interval between the
commitment and the effect on the equipment shall be small. Alarm
messages and commands should be transported on a high-priority bearer,
while counters may be transported on a lower priority bearer.</p>
<p>OAM software download to the IAB may generate larger amounts of data,
but both the required data rate and the priority of this kind of traffic
are much lower than in the case of alarms, commands and counters.</p>
<p>For different types of OAM traffic, it is necessary to use different
DRBs between the IAB-MT and the serving DU, and different BH RLC
channels for intermediate hops, with different QoS parameters.
Aggregation of F1-U traffic for OAM with other F1-U traffic on the same
BH RLC channels is not precluded. The QoS parameters are provided to the
IAB-donor during the IAB-MT’s PDU session establishment, or the IAB-MT’s
PDN connection establishment when IAB-MT uses EN-DC.</p>
<p>NOTE 2: When the transport connection between the IAB-node and its
OAM is provided by the Backhaul IP layer, the OAM traffic may be
aggregated with other traffic types on the same BH RLC channel. The QoS
for OAM is ensured by implementation.</p>
<h3 id="handling-of-iab-mts-in-inactive-state">8.9.12 Handling of
IAB-MTs in INACTIVE State</h3>
<p>NOTE: The general principles and procedures described in this clause
does not apply to ng-eNB.</p>
<p>The IAB-MT optionally supports the RRC INACTIVE state. Upon the
IAB-MT entering the RRC INACTIVE state, it is up to implementation to
keep or release the F1 connection of the collocated IAB-DU.</p>
<h3 id="ip-address-allocation-for-iab-nodes">8.9.13 IP Address
Allocation for IAB-nodes</h3>
<p>NOTE 0: The general principles and procedures described in this
clause does not apply to ng-eNB.</p>
<p>An IAB-node may obtain IP address(es) either from the IAB-donor or
from the OAM system. The IP address(es) is(are) used by the IAB-node for
F1 and non-F1 traffic exchange via the backhaul. In case IPsec tunnel
mode is used to protect this F1 and non-F1 traffic, the IP address(es)
refer to the outer tunnel addresses. The allocation of the inner tunnel
IP address(es) is outside of 3GPP scope.</p>
<p>NOTE 1: The non-F1 traffic of an IAB-node includes all IP traffic
that is not used for the management or transport of F1-C as specified in
TS 38.472 [26] or F1-U as specified in TS 38.474 [7]. The non-F1 traffic
may include, e.g., OAM traffic if it is transferred using the BH RLC
channel.</p>
<p>In case of IAB-donor-based IP address allocation, the IP address(es)
is(are) allocated by the IAB-donor-CU or IAB-donor-DU. In both cases,
the IAB-node requests the IP address(es) via RRC from the IAB-donor-CU.
It includes a separate IP address request for each usage, where the
usages defined are all traffic, F1-U, F1-C and non-F1. The IAB-donor-CU
may initiate the IAB TNL Address Allocation procedure to obtain IP
addresses from the IAB-donor-DU. The IAB-donor-CU sends the IP addresses
allocated for each usage to the IAB-node via RRC. In case of IAB
inter-CU topology management, the F1-terminating IAB-donor-CU may obtain
the IP addresses for each usage in the non-F1-terminating IAB-donor-CU’s
topology from the non-F1-terminating IAB-donor-CU for the boundary
IAB-node and the descendant IAB-nodes of the boundary IAB-node.</p>
<p>The IAB-node may be allocated one or multiple IPv6 addresses or one
64-bit IPv6 prefix for each usage and/or one or multiple IPv4 addresses
for each usage. Each allocated IP address/IPv6 prefix is unique within
the IAB network and routable from the wireline network.</p>
<p>In case of OAM-based IP address allocation, the IAB-node informs the
IAB-donor-CU via an UL RRC message about the IP address(es) it received
for each purpose. The mapping between the IP addresses assigned to the
IAB-node and the BAP address(es) of the corresponding IAB-donor-DU(s)
anchoring these IP addresses should be known by the IAB-node and the
IAB-donor-CU based on implementation. This occurs before the IAB node
uses the IP address(es) for UL and/or DL traffic.</p>
<p>The IAB-donor-CU configures the IAB-donor-DU with mappings between IP
header fields and L2 parameters (BAP Routing ID, BH RLC channels) used
for DL traffic. Each mapping configuration may hold an IPv4 address,
IPv6 address or a 64-bit IPv6 prefix. In case of two mapping entries
matching the same IP header where one holds an IPv6 prefix and the other
holds a full IPv6 address, the one with full IPv6 address takes
precedence at the IAB-donor-DU.</p>
<p>In case of IAB-donor-allocated IP addresses, the IAB-node’s IP
address(es) can be updated using DL RRC signalling.</p>
<p>For F1-C traffic transfer for NSA IAB, the LTE leg and NR leg should
use separate IP address pairs {IAB-DU’s IP address, IAB-donor-CU’s IP
address}. How the IAB-DU gets the remote IP end point(s) and its own IP
address for LTE leg is not specified in this release.</p>
<h3 id="void">8.9.14 (void)</h3>
<h3 id="void-1">8.9.15 (void)</h3>
<h3 id="void-2">8.9.16 (void)</h3>
<h3 id="iab-node-authorization">8.9.17 IAB-node authorization</h3>
<h4 id="iab-node-in-nsa">8.9.17.1 IAB-node in NSA</h4>
<p>During the IAB-node integration procedure, the eNB receives the
authorization status of the IAB-node from the EPC. The eNB forwards the
authorization status to the IAB-donor-CU in the SGNB ADDITION REQUEST
message. If the authorization status is “not authorized”, the
IAB-donor-CU neither establishes the backhaul resources nor allocates
any BAP address, TNL address or default BAP configuration for this
IAB-node.</p>
<p>When the authorization status for the IAB-node changes, the EPC sends
an updated authorization status to the IAB-MT’s eNB. The eNB forwards
the authorization status to the IAB-donor-CU in the SGNB ADDITION
REQUEST message or SGNB MODIFICATION REQUEST message.</p>
<p>In case the authorization status is “not authorized”, the
IAB-donor-CU performs the following actions in this order: it attempts
to hand over the UEs served by the IAB-node to other cell(s), releases
the F1 interface towards the IAB-DU, and releases all backhaul resources
(including the BAP address, TNL address and default BAP configuration)
for this IAB-node. In case the authorization status is changed back from
“not authorized” to “authorized”, the phase 2 and phase 3 of the
IAB-node integration procedure as defined in clause 8.12 are carried
out.</p>
<h4 id="iab-node-with-single-iab-donor-in-sa">8.9.17.2 IAB-node with
single IAB-donor in SA</h4>
<h5 id="iab-node-is-single-connected">8.9.17.2.1 IAB-node is
single-connected</h5>
<p>During the IAB-node network integration or RLF recovery, the
IAB-donor-CU receives the authorization status of the IAB-node from the
5GC. Also, during the Inter-CU topology adaptation procedure, the target
IAB-donor-CU receives the authorization status of the IAB-node from the
source IAB-donor-CU as well as from the 5GC when performing the Path
Switch Request procedure. If the authorization status is “not
authorized”, the IAB-donor-CU neither establishes the backhaul resources
nor allocates any BAP address, TNL address or default BAP configuration
for this IAB-node. When the authorization status for the IAB-node
changes, the 5GC sends an updated authorization status to the
IAB-donor-CU. When the authorization status received by the IAB-donor-CU
changes, the IAB-donor-CU performs the SA equivalent of the steps
described for NSA in clause 8.9.17.1.</p>
<h5 id="iab-node-is-nr-dual-connected">8.9.17.2.2 IAB-node is NR
dual-connected</h5>
<p>In case the IAB-node is dual-connected to the IAB-donor-CU, the
IAB-donor-CU receives the authorization status of the IAB-node from the
5GC. Upon reception of the authorization status, the IAB-donor-CU
performs the equivalent of the steps described for NSA in clause
8.9.17.1.</p>
<p>In case the IAB-node is dual-connected to a non-IAB-capable gNB and
to an IAB-donor-CU, the MN receives the authorization status of the
IAB-node from the 5GC. If the MN is the non-IAB-capable gNB and the SN
is the IAB-donor-CU, the MN forwards the authorization status to the
IAB-donor-CU in the S-NODE ADDITION REQUEST message or S-NODE
MODIFICATION REQUEST message. Upon reception of the authorization
status, the IAB-donor-CU performs the SA equivalent of steps described
for NSA in clause 8.9.17.1. If the MN is the IAB-donor-CU and the SN is
not the non-IAB-capable gNB, the IAB-donor-CU performs the SA equivalent
of the steps described for NSA in clause 8.9.17.1.</p>
<h4 id="iab-node-is-served-by-two-iab-donors-in-sa">8.9.17.3 IAB-node is
served by two IAB-donors in SA</h4>
<p>In case the IAB-MT only connects to the non-F1-terminating
IAB-donor-CU or in case the IAB-MT is NR dual-connected with the
non-F1-terminating IAB-donor-CU as the MN, the non-F1-terminating
IAB-donor-CU sends the authorization status received from the 5GC to the
F1-terminating IAB-donor-CU in the IAB-TRANPORT MIGRATION MODIFICATION
REQUEST message. Upon reception of the authorization status, the
F1-terminating IAB-donor-CU performs the equivalent of steps described
for NSA in clause 8.9.17.1. If the authorization status is “not
authorized”, the F1-terminating IAB-donor-CU sends to the
non-F1-terminating IAB-donor-CU an IAB TRANSPORT MIGRATION MANAGEMENT
REQUEST message requesting the release of all offloaded traffic, after
which the non-F1-terminating IAB-donor-CU releases the offloaded traffic
and all backhaul resources, BAP address, TNL address and default BAP
configuration for the IAB-node.</p>
<p>In case the IAB-MT is NR dual-connected, where the MN is the
F1-terminating IAB-donor-CU and the SN is a non-F1-terminating
IAB-donor-CU, upon reception of the authorization status, the IAB-node’s
authorization procedure follows the same steps as described in clause
8.9.17.2.</p>
<h2 id="multiple-tnlas-for-e1">8.10 Multiple TNLAs for E1</h2>
<p>NOTE 0: The general principles and procedures described in this
clause also apply to ng-eNB and W1/E1 interface, i.e. W1 interface
between ng-eNB-DU and ng-eNB-CU-CP/ng-eNB-CU-UP, E1 interface between
ng-eNB-CU-CP and ng-eNB-CU-UP, if not explicitly specified
otherwise.</p>
<p>In the following, the procedure for managing multiple TNLAs for E1 is
described.</p>
<p><img src="media/image45.svg" /></p>
<p>Figure 8.10-1: Managing multiple TNLAs for E1.</p>
<p>1. Either the gNB-CU-CP or gNB-CU-UP establishes the first SCTP
association with the gNB-CU-UP or gNB-CU-CP respectively using a
configured TNL address.</p>
<p>NOTE 1: The gNB-CU-UP/gNB-CU-CP may use different source and/or
destination IP end point(s) if the TNL establishment towards one IP end
point fails. How the gNB-CU-UP/gNB-CU-CP gets the remote IP end point(s)
and its own IP address are outside the scope of this specification.</p>
<p>2-3 (A). Once the TNLA (gNB-CU-UP initiated) has been established,
the gNB-CU-UP initiates the E1 Setup procedure to exchange application
level configuration data.</p>
<p>2-3 (B). Once the TNLA (gNB-CU-CP initiated) has been established,
the gNB-CU-CP initiates the E1 Setup procedure to exchange application
level configuration data.</p>
<p>4-6. The gNB-CU-CP may add additional SCTP Endpoint(s) to be used for
E1 signalling between the gNB-CU-CP and the gNB-CU-UP pair using the
gNB-CU-CP Configuration Update procedure. The gNB-CU-CP Configuration
Update procedure also allows the gNB-CU-CP to request the gNB-CU-UP to
modify or release TNLA(s).</p>
<p>7-9. The gNB-CU-UP may add additional TNL association(s) to be used
for E1 signalling using a gNB-CU-CP endpoint already in use for existing
TNL associations between the gNB-CU-CP and the gNB-CU-UP pair. The
gNB-CU-UP CONFIGURATION UPDATE message including the gNB-CU-UP ID shall
be the first E1AP message sent on an additional TNLA of an already setup
E1 interface instance after the TNL association has become operational.
The E1AP UE TNLA binding is a binding between a E1AP UE association and
a specific TNL association for a given UE. After the E1AP UE TNLA
binding is created, the gNB-CU-CP can update the UE TNLA binding by
sending the E1AP message for the UE to the gNB-CU-UP via a different
TNLA. The gNB-CU-UP shall update the E1AP UE TNLA binding with the new
TNLA. The gNB-CU-UP Configuration Update procedure also allows the
gNB-CU-UP to inform the gNB-CU-CP that the indicated TNLA(s) will be
removed by the gNB-CU-UP.</p>
<h2 id="support-of-network-sharing-with-multiple-cell-id-broadcast">8.11
Support of Network Sharing with multiple cell-ID broadcast</h2>
<h3 id="general-3">8.11.1 General</h3>
<p>This clause describes necessary additions as compared to the case
where network sharing with multiple cell-ID broadcast is not
applied.</p>
<p>The signalling flows in the subsequent clauses assuming 2 sharing
operators, A and B. The F1-C signalling transport deployment used is
indicated within the subsequent clauses.</p>
<h3 id="initial-registration-separate-plmn-signalling">8.11.2 Initial
Registration – separate PLMN signalling</h3>
<p>The signalling flow for Initial Registration for network sharing with
multiple cell-ID broadcast with separate per-PLMN signalling is shown in
Figure 8.11.2-1.</p>
<p>In this example message flow</p>
<p>- the UE is assumed to not provide an ue-Identity from which the DU
is able to deduce the PLMN ID.</p>
<p>- each F1-C interface instance uses a separate signalling transport
or share signalling transport with other F1-C interface instances.</p>
<p>- the gNB-DU<sub>A/B</sub> entity shown in Figure 8.11.2-1 is a
simplified representation of the gNB-DU<sub>A</sub> of PLMN A, the gNB
DU<sub>B</sub> of PLMN B and respective radio resources of the shared
cell.</p>
<p><img src="media/image46.svg" /></p>
<p>Figure 8.11.2-1: UE Initial Access procedure and network sharing with
multiple cell-ID broadcast</p>
<p>NOTE 1: Steps 1-5 are defined in clause 8.1. Note, that the
selectedPLMN-Identity is provided in step 5.</p>
<p>6. The gNB-DU<sub>A</sub> sends the F1AP UE CONTEXT RELEASE REQUEST
message to the gNB-CU<sub>A</sub>. including a Cause set to "PLMN not
served by the CU".</p>
<p>7. The gNB-DU<sub>B</sub> sends the F1AP INITIAL UL RRC MESSAGE to
the gNB-CU<sub>B</sub>. including the NR CGI associated with
PLMN<sub>B</sub>, the C-RNTI indicated by the gNB-DU<sub>A</sub> at step
2, and the RRC-Container IE and the
<em>RRC-Container-RRCSetupComplete</em> IE with the RRC message received
in step1 and step 5 respectively. The
<em>RRC-Container-RRCSetupComplete</em> IE are included in the INITIAL
UL RRC MESSAGE TRANSFER for the case of network sharing and shall
contain the RRC messages received via the RRC <em>UL-DCCH-Message</em>
IE from the UE, but never previously sent to the gNB-CU<sub>B</sub>.</p>
<p>8. The gNB-CU<sub>A</sub> sends the UE CONTEXT RELEASE COMMAND
message to the gNB-DU.</p>
<p>9. The gNB-DU sends the UE CONTEXT RELEASE COMPLETE message to the
gNB-CU<sub>A</sub>.</p>
<p>NOTE 2: Initiating procedures from gNB-DU<sub>A</sub> towards
gNB-CU<sub>A</sub> and from gNB-DU<sub>B</sub> to gNB-CU<sub>B</sub> in
parallel is not precluded.</p>
<h3 id="rrc-connection-reestablishment-separate-plmn-signalling">8.11.3
RRC Connection Reestablishment – separate PLMN signalling </h3>
<p>The signalling flow for RRC Connection Reestablishment for network
sharing with multiple cell-ID broadcast with separate per-PLMN
signalling is shown in Figure 8.11.3-1.</p>
<p>In this example message flow</p>
<p>- each F1-C/Xn-C interface instance uses either a separate signalling
transport or a share signalling transport with other interface
instances.</p>
<p>- the New gNB-DU<sub>A/B</sub> entity shown in Figure 8.11.3-1 is a
simplified representation of the New gNB-DU<sub>A</sub> of PLMN A, the
New gNB DU<sub>B</sub> of PLMN B and respective radio resources of the
shared cell.</p>
<p><img src="media/image47.svg" /></p>
<p>Figure 8.11.3-1: RRC Connection Reestablishment and network sharing
with multiple cell-ID broadcast</p>
<p>1. The UE sends the RRCReestablishmentRequest.</p>
<p>2A-5A. Depicts the case where the UE context could not be retrieved
by the new gNB-CU<sub>A</sub>. In step 2A, the NR CGI associated to
PLMN<sub>A</sub> is indicated. In step 5A, the gNB-CU<sub>A</sub> would
prepare the possibility to revert back to normal RRC Connection
Establishment, indicating that the UE Context was not retrieveable and
may include the re-directed RRC message as received in step 1. After
step 5A, the gNB-DU<sub>A</sub> may redirect the UE towards the PLMN
indicated in DL RRC MESSAGE TRANSFER message, if the PLMN assistance
information is provided by the gNB-CU<sub>A</sub>. If the New
gNB-DU<sub>A/B</sub> was not able to deduce the RRC message from step 1,
this indicator triggers step 2B. The New gNB-DU<sub>A</sub> is supposed
to trigger the release the UE-associated signalling connection (not
shown).</p>
<p>2B-5B. Depicts the case where the UE context was retrieveable by the
New gNB-CU<sub>B</sub>. In step 2B, the NR CGI associated to
PLMN<sub>B</sub> is indicated. Step 2B also includes the C-RNTI
allocated at reception of step 1.</p>
<p>6-8. The RRC Connection Reestablishment continues with the New
gNB-CU<sub>B</sub>.</p>
<p>NOTE 1: If all gNB-CUs indicate that the UE context is not
retrievable, the RRC connection reestablishment falls back to RRC
Connection setup, as described in clause 8.11.2.</p>
<p>NOTE 2: Initiating procedures from gNB-DU<sub>A</sub> towards
gNB-CU<sub>A</sub> and from gNB-DU<sub>B</sub> to gNB-CU<sub>B</sub> in
parallel is not precluded.</p>
<h3 id="support-of-shared-signalling-transport">8.11.4 Support of shared
signalling transport </h3>
<p>This clause specifies for F1-C, Xn-C and, in case of EN-DC, for X2-C,
how an interface instance is identified in case of network sharing with
multiple cell ID broadcast with shared signalling transport.</p>
<p>For UE associated signalling, the interface instance is identified by
assigning on F1-C appropriate UE F1AP IDs, on Xn-C appropriate UE XnAP
IDs and on X2-C appropriate UE X2AP IDs.</p>
<p>For non-UE associated signalling, the interface instance is
identified on F1-C by the assigning an appropriate value to the
Transaction ID, on Xn-C and X2-C by including the Interface Instance
Indication in the respective message and assigning an appropriate value
to it.</p>
<h2 id="iab-node-integration-procedure">8.12 IAB-node Integration
Procedure</h2>
<h3 id="standalone-iab-integration">8.12.1 Standalone IAB
integration</h3>
<p>A high-level flow chart for SA-based IAB integration is shown in the
Figure 8.12.1-1:</p>
<p><img src="media/image48.svg" /></p>
<p>Figure 8.12.1-1: The integration procedure for IAB-node in SA</p>
<p>Phase 1: IAB-MT setup. In this phase, the IAB-MT of the new IAB-node
(e.g. IAB-node 2 in Figure 8.12.1-1) connects to the network in the same
way as a UE, by performing RRC connection setup procedure with
IAB-donor-CU, authentication with the core network, IAB-node 2-related
context management, IAB-node 2’s access traffic-related radio bearer
configuration at the RAN side (SRBs and optionally DRBs), and,
optionally, OAM connectivity establishment by using the IAB-MT’s PDU
session. The IAB-node can select the parent node for access based on an
over-the-air indication from potential parent node IAB-DU (transmitted
in SIB1). To indicate its IAB capability, the IAB-MT includes the
IAB-node indication in <em>RRCSetupComplete</em> message, to assist the
IAB-donor to select an AMF supporting IAB.</p>
<p>NOTE 1: The signalling flow for UE initial access procedure as shown
in Figure 8.1-1/Figure 8.9.1-1 is used for the setup of the IAB-MT.</p>
<p>Phase 2-1: BH RLC channel establishment. During the bootstrapping
procedure, one default BH RLC channel for non-UP traffic e.g. carrying
F1-C traffic/non-F1 traffic to and from the IAB-node 2 in the
integration phase, is established. This may require the setup of a new
BH RLC channel or modification of an existing BH RLC channel between
IAB-node 1 and IAB-donor-DU. The IAB-donor-CU may establish additional
(non-default) BH RLC channels. This phase also includes configuring the
BAP Address of the IAB-node 2 and default BAP Routing ID for the
upstream direction.</p>
<p>NOTE 2: If the OAM connectivity is supported via backhaul IP layer by
implementation, one or more BH RLC channels used for OAM traffic can
also be established.</p>
<p>Phase 2-2: Routing update. In this phase, the BAP sublayer is updated
to support routing between the new IAB-node 2 and the IAB-donor-DU. For
the downstream direction, the IAB-donor-CU initiates F1AP procedure to
configure the IAB-donor-DU with the mapping from IP header field(s) to
the BAP Routing ID related to IAB-node 2. The routing tables are updated
on all ancestor IAB-nodes (e.g. IAB-node 1 in Figure 8.12.1-1) and on
the IAB-donor-DU, with routing entries for the new BAP Routing ID(s).
This phase may also include the IP address allocation procedure for
IAB-node 2. IAB-node 2 may request one or more IP addresses from the
IAB-donor-CU via RRC. The IAB-donor-CU may send the IP address(es) to
the IAB-node 2 via RRC. The IAB-donor-CU may obtain the IP address(es)
from the IAB-donor-DU via F1-AP or by other means (e.g. OAM, DHCP). IP
address allocation procedure may occur at any time after RRC connection
has been established.</p>
<p>Phase 3: IAB-DU part setup. In this phase, the IAB-DU of IAB-node 2
is configured via OAM. The IAB-DU of IAB-node 2 initiates the TNL
establishment, and F1 setup (as defined in clause 8.5) with the
IAB-donor-CU using the allocated IP address(es). The IAB-donor-CU
discovers collocation of IAB-MT and IAB-DU from the IAB-node’s BAP
Address included in the F1 SETUP REQUEST message. After the F1 is set
up, the IAB-node 2 can start serving the UEs.</p>
<p>NOTE 3: The IAB-DU can discover the IAB-donor-CU’s IP address in the
same manner as a non-IAB gNB-DU.</p>
<p>NOTE 4: If the IAB-node establishes NR-DC before the establishment of
F1-C connection, the MN decides whether the MN or the SN becomes the
F1-terminating IAB-donor. In case it decides that the SN becomes the
F1-terminating IAB-donor, it notifies the SN via Xn. The IAB-node can
implicitly derive whether the MN or the SN is the F1-terminating
IAB-donor, e.g., based on the entity which provides the default BAP
configuration.</p>
<p>NOTE 5: For OAM-based IAB-donor selection, if the IAB-node
establishes NR-DC before the establishment of F1-C connection, the
IAB-node indicates the F1-terminating IAB-donor by signaling its IP
address(es) to this IAB-donor via RRC signaling.</p>
<h3 id="nsa-iab-integration-procedure">8.12.2 NSA IAB Integration
procedure</h3>
<p>The IAB integration procedure for NSA is shown in Figure
8.12.2-1.</p>
<p><img src="media/image49.svg" /></p>
<p>Figure 8.12.2-1: Signalling flow for IAB integration procedure in
NSA</p>
<p>Phase 1-1. IAB-MT part setup with E-UTRAN. In this phase, the IAB-MT
part connects to the LTE network as a UE, by performing RRC connection
setup procedure with an eNB, authentication with the EPC, IAB-node’s
access traffic-related radio bearer configuration at the E-UTRAN side,
and optionally, OAM connectivity establishment by using the IAB-MT’s PDN
connection. The IAB-node can select the IAB-supporting eNB based on an
over-the-air indication from eNB (transmitted in SIB1). To indicate its
IAB capability, the IAB-MT includes the IAB-node indication in
<em>RRCConnectionSetupComplete</em> message, to assist the eNB to select
an MME supporting IAB. The eNB then configures the IAB-MT part with an
NR measurement configuration in order to perform discovery, measurement
and measurement reporting of candidate gNBs. To enable the eNB choose an
en-gNB which supports IAB function, the IAB capability of neighbour gNBs
can be pre-configured in the eNB (e.g. by OAM).</p>
<p>NOTE: Other ways to enable the eNB know the IAB capability of
neighbour gNBs are not precluded.</p>
<p>Phase 1-2. SgNB addition. In this phase, the IAB-MT part connects to
the parent node IAB-DU and IAB-donor-CU via the EN-DC SgNB Addition
procedure. The procedure defined in clause 8.4.1 is reused. The eNB
includes “<em>IAB Node Indication</em>” in SGNB ADDITION REQUEST message
to inform the IAB-donor-CU that the request is for an IAB-node. In
addition, SRB3 can be set up for the IAB-MT, to transmit RRC message
between the IAB-MT and the IAB-donor-CU via the NR links directly.</p>
<p>Phase 2-1: BH RLC channel establishment. This phase is the same as
Phase 2-1 in the standalone IAB integration procedure (refer to the
Phase 2-1 in clause 8.12.1). This step may occur in Phase 1-2.</p>
<p>Phase 2-2: Routing update. This phase is the same as Phase 2-2 in the
standalone IAB integration procedure (refer to the Phase 2-2 in clause
8.12.1), except that the IP traffic on the F1-C interface may be
transmitted via the MeNB.</p>
<p>Phase 3. IAB-DU part setup. This phase is the same as Phase 3 in the
standalone IAB integration procedure (refer to the Phase 3 in clause
8.12.1), except that the IP traffic on the F1-C interface may be
transmitted via the MeNB.</p>
<p>The IAB-donor-CU decides to only configure LTE leg, or only to
configure NR leg, or to configure both LTE leg and NR leg, to be used
for F1-C traffic transfer. The configuration may be performed before
IAB-DU part setup. IAB-donor-CU may also change the configuration after
IAB-DU part setup. In case the configuration is not performed before
IAB-DU part setup, the IAB node uses the NR leg as the default one. When
both LTE leg and NR leg are configured, it is up to the implementation
to select the leg for F1-C traffic transfer.</p>
<h2 id="overall-procedures-for-mdt">8.13 Overall procedures for MDT
</h2>
<h3 id="general-4">8.13.0 General</h3>
<p>The following clauses describe the overall procedures for MDT (TS
37.320 [31]) involving E1 and F1.</p>
<h3 id="signalling-based-mdt-activation">8.13.1 Signalling based MDT
activation</h3>
<p>The signalling flow for Signalling based MDT activation involving E1
and F1 is shown in Figure 8.13.1-1.</p>
<p><img src="media/image50.svg" /></p>
<p>Figure8.13.1-1 Signalling based MDT Activation</p>
<p>1. The AMF starts a trace session and sends a TRACE START message to
the gNB. The AMF shall consider the MDT user consent information when
activating an MDT trace session for the UE as defined in TS 32.422 [20].
TRACE START message includes the parameters for configuring MDT
measurements.</p>
<p>2. The gNB-CU-CP decides if the gNB-CU-UP, or the gNB-DU, or both,
should be involved in the MDT measurement. If the gNB-CU-UP should be
involved in the MDT measurement, the gNB-CU-CP sends TRACE START message
to the gNB-CU-UP, including MDT configuration parameters.</p>
<p>3. If the gNB-DU should be involved in the MDT measurement, the
gNB-CU-CP sends TRACE START message to the gNB-DU, including MDT
configuration parameters.</p>
<h3 id="management-based-mdt-activation">8.13.2 Management based MDT
activation</h3>
<h4 id="general-5">8.13.2.1 General</h4>
<p>In Management Based Trace Activation towards a gNB-CU-CP, gNB-CU-UP
or a gNB-DU can be fulfilled with the Cell Traffic trace functionality
defined in TS 32.422 [20]. The configuration parameters of the Trace
Session that are received by a node in split RAN architecture are
defined in TS 32.422 [20].</p>
<p>The following description is valid for both an en-gNB and a gNB.</p>
<p>If the MDT measurement is initiated by the EM towards the gNB-CU-CP,
and if the activation involves measurements collected by multiple nodes
under the same gNB-CU-CP control in a split RAN architecture, the EM
sends MDT measurement activation to the gNB-CU-CP and the gNB-CU-CP may
further decide which gNB-DU(s) or which gNB-CU-UP(s) to perform the MDT
measurement.</p>
<p>When gNB-CU-CP or a gNB-DU receive the Trace Session Activation
message from the management system for a given cell or a list of cell(s)
under its control, the gNB-CU-CP or gNB-DU shall start a Trace Session
for the given cell or list of cell(s). For Management Based MDT sent
directly to a gNB-CU-UP, no MDT Area Configuration (apart from PLMN IDs)
is to be included in the MDT activation indication.</p>
<p>The signalling flows for management based MDT activation in
gNB-CU-CP, gNB-DU and gNB-CU-UP are shown in Figure 8.13.2.2-1, Figure
8.13.2.3-1 and in Figure 8.13.2.4-1 respectively.</p>
<h4 id="management-based-mdt-activation-in-gnb-cu-cp">8.13.2.2
Management based MDT Activation in gNB-CU-CP</h4>
<p>The signalling flow for Management based MDT Activation in gNB-CU-CP
is shown in Figure 8.13.2.2-1.</p>
<p><img src="media/image51.svg" /></p>
<p>Figure 8.13.2.2-1 Management based MDT Activation in gNB-CU-CP</p>
<p>1. The EM sends a Trace Session activation request to the gNB-CU-CP.
This request includes the parameters for configuring UE
measurements.</p>
<p>2. The gNB-CU-CP shall select the suitable UEs for MDT data
collection. If the UE is not in the specified area or if the serving
PLMN is not within the Management Based MDT PLMN List the UE shall not
be selected by the gNB-CU-CP for MDT data collection as defined in TS
32.422 [20].</p>
<p>For each selected UE, if the gNB-CU-UP should perform MDT
measurement, the gNB-CU-CP sends TRACE START message to the gNB-CU-UP,
including MDT configuration parameters.</p>
<p>3. For each selected UE, if the gNB-DU should perform MDT
measurement, the gNB-CU-CP sends TRACE START message to the gNB-DU,
including MDT configuration parameters.</p>
<p>4. The gNB-CU-CP may send CELL TRAFFIC TRACE message to the AMF for
the selected UE, including Trace ID for MDT. The AMF forwards Trace ID
and other information to the TCE as specified in TS 32.422 [20].</p>
<p>If the UE reports an indication of measurement pollution, the
gNB-CU-CP shall, if supported, include such indication as part of the
measurement report to be sent to the TCE so that the TCE is able to
correlate and filter the affected measurements.</p>
<h4 id="management-based-mdt-activation-in-gnb-du">8.13.2.3 Management
based MDT Activation in gNB-DU</h4>
<p>The signalling flow for Management based MDT Activation in gNB-DU is
shown in Figure 8.13.2.3-1.</p>
<p><img src="media/image52.svg" /></p>
<p>Figure 8.13.2.3-1 Management based MDT Activation in gNB-DU</p>
<p>1. The gNB-CU-CP sends UE CONTEXT SETUP REQUEST message to the
gNB-DU, including Management based MDT PLMN List. The message may
include the <em>Polluted Measurement Indicator</em> IE. If the gNB-DU
has received the <em>Polluted Measurement Indicator</em> IE, the gNB-DU
includes the information contained in such indicator as part of the
measurement report to be sent to the TCE, so that the TCE is able to
correlate and filter the affected measurements.</p>
<p>2. The gNB-DU sends UE CONTEXT SETUP RESPONSE message to the
gNB-CU-CP.</p>
<p>3. The EM sends a Trace Session activation request to the gNB-DU.
This request includes the parameters for configuring UE
measurements.</p>
<p>4. The gNB-DU shall select the suitable UEs for MDT data collection.
If the UE is not in the specified area or if the serving PLMN is not
within the Management Based MDT PLMN List the UE shall not be selected
by the gNB-DU for MDT data collection as defined in TS 32.422 [20].</p>
<p>For each selected UE, the gNB-DU may send CELL TRAFFIC TRACE message
to the gNB-CU-CP in the F1 UE associated signalling, including Trace ID
for MDT.</p>
<p>5. Upon reception of a CELL TRAFFIC TRACE message from F1, the
gNB-CU-CP shall send CELL TRAFFIC TRACE message to the AMF for this UE,
including Trace ID for MDT. The AMF forwards Trace ID and other
information to the TCE as specified in TS 32.422 [20].</p>
<h4 id="management-based-mdt-activation-in-gnb-cu-up">8.13.2.4
Management based MDT Activation in gNB-CU-UP</h4>
<p>The signalling flow for Management based MDT Activation in gNB-CU-UP
is shown in Figure 8.13.2.4-1.</p>
<p><img src="media/image53.svg" /></p>
<p>Figure 8.13.2.4-1 Management based MDT Activation in gNB-CU-UP</p>
<p>1. The gNB-CU-CP sends BEARER CONTEXT SETUP REQUEST message to the
gNB-CU-UP, including Management based MDT PLMN List. The message may
include Polluted Measurement Indicator. If the gNB-DU has received the
<em>Polluted Measurement Indicator</em> IE, the gNB-DU includes the
information contained in such indicator as part of the measurement
report to be sent to the TCE so that the TCE is able to correlate and
filter the affected measurements.</p>
<p>2. The gNB-CU-UP sends BEARER CONTEXT SETUP RESPONSE message to the
gNB-CU-CP.</p>
<p>3. The EM sends a Trace Session activation request to the gNB-CU-UP.
This request includes the parameters for configuring UE
measurements.</p>
<p>4. The gNB-CU-UP shall select the suitable UEs for MDT data
collection. If the serving PLMN is not within the Management Based MDT
PLMN List the UE shall not be selected by the gNB-CU-UP for MDT data
collection as defined in TS 32.422 [20].</p>
<p>For each selected UE, the gNB-CU-UP may send CELL TRAFFIC TRACE
message to the gNB-CU-CP in the E1 UE associated signalling, including
Trace ID for MDT</p>
<p>5. Upon reception of a CELL TRAFFIC TRACE message from E1, the
gNB-CU-CP shall send CELL TRAFFIC TRACE message to the AMF for this UE,
including Trace ID for MDT. The AMF forwards Trace ID and other
information to the TCE as specified in TS 32.422 [20].</p>
<h4 id="user-consent-propagation-in-en-dc">8.13.2.5 User consent
propagation in EN-DC</h4>
<p>In the EN-DC case, the EM provides the MDT configuration to both MeNB
and en-gNB independently.</p>
<p>As specified in TS 32.422 [20] in Management based MDT getting user
consent is required before activating the MDT functionality because of
privacy and legal obligations. In the case of EN-DC user consent gets
communicated to the MeNB at the UE context setup procedure using the
INITIAL CONTEXT SETUP REQUEST message. In particular when the Management
Based MDT Allowed IE is contained in the INITIAL CONTEXT SETUP REQUEST
message, the MeNB stores it in the UE context and uses it, together with
information in the Management Based MDT PLMN List IE, if available, to
allow subsequent selection of the UE for management based MDT as
specified in TS 32.422 [20]. The MeNB may also receive user consent
information in the HANDOVER REQUEST message. The MeNB will forward the
MDT user consent to the SgNB at EN-DC setup. In particular, if available
in the UE context, the MeNB will include the Management Based MDT
Allowed IE and the Management Based MDT PLMN List IE in the SGNB
ADDITION REQUEST message to the SgNB. Furthermore, the user consent will
be forwarded to the relevant gNB-CU-UP at the bearer context setup or to
the gNB-DU by including the Management Based MDT PLMN List IE in the
BEARER CONTEXT SETUP REQUEST or UE CONTEXT SETUP REQUEST.</p>
<p>The signalling flow for User consent proposation in EN-DC is shown in
Figure 8.13.2.5-1.</p>
<p><img src="media/image54.svg" /></p>
<p>Figure 8.13.2.5-1 User consent propagation in EN-DC</p>
<p>0. User Context information are made available at the MME.</p>
<p>1. The MME sends INITIAL CONTEXT SETUP REQUEST message to the MeNB,
including Management Based MDT Allowed IE and the Management based MDT
PLMN List IE to communicate user consent to the eNB.</p>
<p>2. The MeNB sends SGNB ADDITION REQUEST to the gNB-CU-CP at EN-DC
setup. This request includes Management Based MDT Allowed IE and,
optionally, the Management based MDT PLMN List IE, if available.</p>
<p>3a. The user consent is communicated to the gNB-DU at the UE context
setup by including the Management based MDT PLMN List IE in the UE
CONTEXT SETUP REQUEST.</p>
<p>3b. The user consent is communicated to the gNB-CU-UP at the bearer
context setup by including the Management based MDT PLMN List IE in the
BEARER CONTEXT SETUP REQUEST.</p>
<h4 id="user-consent-propagation-in-mr-dc-with-5gc">8.13.2.6 User
consent propagation in MR-DC with 5GC</h4>
<p>As specified in TS 32.422 [20] in Management based MDT getting user
consent is required before activating the MDT functionality because of
privacy and legal obligations. User consent is communicated to the MN at
the UE context setup procedure using the INITIAL CONTEXT SETUP REQUEST
message, or in HANDOVER REQUEST and PATH SWITCH REQUEST ACKNOWLEDGE
messages. Modified user consent information may be received in the UE
CONTEXT MODIFICATION REQUEST message. The MN stores the received
information in the UE context and uses it to allow subsequent selection
of the UE for management based MDT as specified in TS 32.422 [20]. The
MN will forward the MDT user consent to the SN at MR-DC setup, i.e., if
available in the UE context, the MN will include the Management Based
MDT PLMN List IE in the S-NODE ADDITION REQUEST message or in the S-NODE
MODIFICATION REQUEST message sent to the SN. Furthermore, in NR-DC and
NGEN-DC, the user consent will be forwarded to the relevant SgNB-CU-UP
at the bearer context setup or to the SgNB-DU by including the
Management Based MDT PLMN List information in the BEARER CONTEXT SETUP
REQUEST or UE CONTEXT SETUP REQUEST. Furthermore, in NR-DC and NGEN-DC,
the user consent may be updated to the relevant SgNB-CU-UP at the bearer
context modification or to the SgNB-DU by including the Management Based
MDT PLMN List information in the BEARER CONTEXT MODIFICATION REQUEST or
UE CONTEXT MODIFICATION REQUEST.</p>
<p>The signalling flow for User consent propagation in NR-DC and NGEN-DC
is shown in Figure 8.13.2.6-1.</p>
<p><img src="media/image55.svg" /></p>
<p>Figure 8.13.2.6-1 User consent propagation in NR-DC and NGEN-DC</p>
<p>0. User Context information are made available at the AMF.</p>
<p>1. The AMF sends INITIAL CONTEXT SETUP REQUEST message to the MN,
including the Management based MDT PLMN List IE to communicate user
consent to the MN.</p>
<p>2. The MN sends S-NODE ADDITION REQUEST to the SgNB-CU-CP at NR-DC
setup. This request includes the Management based MDT PLMN List IE.</p>
<p>3a. The user consent is communicated to the SgNB-DU at the UE context
setup by including the Management based MDT PLMN List IE in the UE
CONTEXT SETUP REQUEST.</p>
<p>3b. The user consent is communicated to the SgNB-CU-UP at the bearer
context setup by including the Management based MDT PLMN List IE in the
BEARER CONTEXT SETUP REQUEST.</p>
<h4 id="management-based-trace-activation-in-mr-dc-with-5gc">8.13.2.7
Management based trace activation in MR-DC with 5GC</h4>
<p>In the MR-DC with 5GC case, the EM provides the MDT configuration to
both MN and SN independently.</p>
<p>In Management Based Trace Activation towards a SN, the SN may send
the CELL TRAFFIC TRACE message including the Trace ID and privacy
indicator to the MN as described in TS 32.422 [20]. Upon reception of
the CELL TRAFFIC TRACE message from the SN, the MN will send a CELL
TRAFFIC TRACE message including the Trace ID and privacy indicator to
the CN for this UE. The CN forwards the Trace ID and other information
to the TCE as specified in TS 32.422 [20].</p>
<p>The following shows a flow chart summarizing the functionality in
MR-DC when the SN is the SgNB.</p>
<p><img src="media/image56.svg" /></p>
<p>Figure 8.13.2.7-1 Data anonymization in MR-DC when the SN is the
SgNB</p>
<p>0. The gNB-CU-CP, the gNB-CU-UP, the gNB-DU receives the MDT
configuration from EM and select the suitable UEs for MDT data
collection. The anonymization MDT configuration parameter from the EM is
considered to be IMEI-TAC.</p>
<p>1. For the management based MDT activation in gNB-CU-UP and/or in
gNB-DU, if the gNB-CU-UP and/or the gNB-DU receive an MDT Configuration
including the anonymization parameter set to IMEI-TAC, the gNB-CU-UP
and/or gNB-DU send CELL TRAFFIC TRACE message to the gNB-CU-CP for this
UE, including Trace ID and privacy indicator.</p>
<p>2. For the management based MDT activation in gNB-CU-CP, upon
receiving the CELL TRAFFIC TRACE message from E1/F1, the gNB-CU-CP shall
send a CELL TRAFFIC TRACE message to the MN for this UE, including Trace
ID and privacy indicator.</p>
<p>3. The MN sends a CELL TRAFFIC TRACE message to the CN for this UE,
including Trace ID and privacy indicator. The CN forwards Trace ID and
other information to the TCE as specified in TS 32.422 [20].</p>
<h3 id="alignment-of-mdt-and-qoe-measurements">8.13.3 Alignment of MDT
and QoE Measurements </h3>
<p>In case of split gNB architecture, the gNB-CU-CP can send the TRACE
START message for the MDT measurement subject to alignment with a QoE
measurement to the gNB-CU-UP and gNB-DU, e.g., upon/after the reception
of QoE measurement session start indication from the UE, as specified in
TS 38.300 [2].</p>
<h3 id="mdt-reporting">8.13.4 MDT reporting</h3>
<p>Each node involved in the MDT measurement reports the measurements
collected directly to the TCE the node has been configured with.</p>
<p>In the case where issues (e.g. in-device coexistence problem)
potentially affecting immediate MDT measurements were detected during a
measurement reporting process, an indication of the issue should be
logged in the affected measurement reports to the TCE so that the TCE is
able to correlate and filter the affected measurements.</p>
<h2 id="self-optimisation">8.14 Self-optimisation </h2>
<h3 id="overall-procedures-for-mro">8.14.1 Overall procedures for MRO
</h3>
<p>The following clauses describe the overall procedures for MRO
involving F1.</p>
<h4 id="signalling-of-rlf-information-from-gnb-cu-to-gnb-du">8.14.1.1
Signalling of RLF information from gNB-CU to gNB-DU</h4>
<p>The signalling flow for signalling of RLF information from gNB-CU to
gNB-DU is shown in Figure 8.14.1.1-1, where the example where NG-RAN
nodes exchange the RLF Report via the Xn: FAILURE INDICATION message has
been considered.</p>
<p><img src="media/image57.svg" /></p>
<p>Figure 8.14.1.1-1 Example of signalling of RLF information from
gNB-CU to gNB-DU in NG RAN</p>
<p>1. A UE with a logged RLF Report connects to a cell in gNB2 and it
signals the RLF Report to gNB2 by means of the RRC UE Information
Request/Response procedures.</p>
<p>2. The gNB2 sends an Xn: Failure Indication to gNB1-CU where the UE
may have previously been connected prior to the connection failure. This
includes also the RLF Report.</p>
<p>3. The gNB1-CU sends the F1: Access and Mobility Indication message
to the gNB1-DU, including the RLF Report.</p>
<p>It is also possible for the gNB-CU receiving the RLF Report from the
UE to signal it directly to the gNB-DU by means of the F1: Access and
Mobility Indication procedure.</p>
<h4 id="signalling-of-rach-information-from-gnb-cu-to-gnb-du">8.14.1.2
Signalling of RACH information from gNB-CU to gNB-DU</h4>
<p>The signalling flow for signalling of RACH information from gNB-CU to
gNB-DU is shown in Figure 8.14.1.2-1, where the example where NG-RAN
nodes exchange the RACH Report via the Xn: ACCESS AND MOBILITY
INDICATION message has been considered.</p>
<p><img src="media/image58.svg" /></p>
<p>Figure 8.14.1.2-1 Example of signalling of RACH information from
gNB-CU to gNB-DU in NG-RAN</p>
<p>1. A UE with a RACH Report concerning cells of gNB1 connects to a
cell in gNB2 and it signals the RACH Report to gNB2 by means of the RRC
UE Information Request/Response procedures.</p>
<p>2. GNB2 sends an Xn: Access and Mobility Indication message to
gNB1-CU where the UE may have previously been connected. This includes
also the RACH Report.</p>
<p>3. GNB1-CU sends the F1: Access and Mobility Indication message to
the gNB1-DU, including the RACH Report.</p>
<p>It is also possible for the gNB-CU receiving the RACH Report from the
UE to signal it directly to the gNB-DU by means of the F1: Access and
Mobility Indication procedure.</p>
<h2 id="overall-procedures-for-nr-mbs">8.15 Overall procedures for NR
MBS </h2>
<h3 id="general-6">8.15.1 General</h3>
<p>The following clauses describe the overall procedures for NR MBS
involving E1 and F1.</p>
<h4 id="broadcast-mbs-session-setup">8.15.1.1 Broadcast MBS Session
Setup</h4>
<p>Figure 8.15.1.1-1 illustrates an exemplified interaction of NGAP,
E1AP, F1AP and RRC protocol functions at Broadcast MBS Session
Setup.</p>
<p><img src="media/image59.svg" /></p>
<p>Figure 8.15.1.1-1: Broadcast MBS Session Setup</p>
<p>1. The 5GC starts the broadcast session by sending the NGAP Broadcast
Session Setup Request message to the gNB containing the TMGI, S-NSSAI,
5G QoS Profile, area information and transport information (for NG-U
multicast transport it provides the IP multicast address and the IP
source specific multicast address).</p>
<p>2/3. The gNB-CU-CP sets up the broadcast bearer context, providing
NG-U transport information from the 5GC to the gNB-CU-UP and receiving
from the gNB-CU-UP the NG-U GTP DL TEID in case NG-U unicast transport
was selected and an F1-U GTP UL TEID per MRB.</p>
<p>4. In case of NG-U multicast transport, the gNB-CU-UP joins the NG-U
multicast group.</p>
<p>5/6. The gNB-CU-CP establishes the Broadcast MBS Session Context at
the gNB-DU, providing MRB configuration, other relevant session
parameters and F1-U GTP UL TEID information, and receiving F1-U GTP DL
TEID information.</p>
<p>7/8. The gNB-CU-CP triggers BC Bearer Context Modification Request
towards the gNB-CU-UP to provide the F1-U GTP DL TEID information.</p>
<p>9. The gNB-DU configures broadcast resources and provides broadcast
configuration information to the UEs by means of MCCH.</p>
<p>10. The gNB-CU CP successfully terminates the NGAP broadcast Session
Setup procedure. In case the gNB has chosen NG-U unicast transport, NG-U
GTP DL TEID information is provided to the 5GC.</p>
<p>11. The broadcast MBS media stream is provided to the UEs.</p>
<p>On NG-U, in case of location dependent broadcast MBS Sessions,
multiple shared NG-U transport tunnels may need to be setup, one per
Area Session ID served by the gNB.</p>
<p>In case of shared NG-U termination,</p>
<p>- the gNB-CU-UP may provide the gNB-CU-CP at E1 setup or
configuration update about established shared NG-U terminations,
indicated by one or several MBS Session IDs.</p>
<p>- at establishment of the BC bearer context in the gNB-CU-UP, the
gNB-CU-CP may request the gNB-CU-UP to either apply the available MRB
configuration of the shared NG-U termination, or to apply the MRB
configuration requested by the gNB-CU-CP. The gNB-CU-UP provides the MRB
configuration to the gNB-CU-CP if the MRB configuration requested by the
gNB-CU-CP and the available MRB configuration of the shared NG-U
termination are different.</p>
<h4 id="multicast-mbs-session-context-establishment">8.15.1.2 Multicast
MBS Session Context Establishment</h4>
<p>Figure 8.15.1.2-1 illustrates an exemplified interaction of NGAP,
E1AP, F1AP and RRC protocol functions for Multicast MBS Session Context
Establishment with a UE joining an active multicast session as the first
UE joining in its serving gNB.</p>
<p><img src="media/image60.svg" /></p>
<p>Figure 8.15.1.2-1: Multicast MBS Session Context establishment</p>
<p>0. For a certain multicast MBS session (TMGI), which is currently
active, no multicast MBS session context is yet established in the
gNB.</p>
<p>1. The UE joins the multicast session.</p>
<p>NOTE 1: NAS related details for PDU Session signalling are not shown
in Figure 8.15.1.2-1.</p>
<p>2/3. The gNB-CU-CP establishes the multicast bearer context at the
gNB-CU-UP. For unicast NG-U transport the GTP DL TEID is retrieved.</p>
<p>4/5. The gNB-CU CP triggers the NGAP Distribution Setup procedure.
For unicast NG-U transport, DL GTP TEID is provided to the 5GC. For
multicast NG-U transport, multicast address information is retrieved
from the 5GC. Multicast session QoS parameters are provided by the
5GC.</p>
<p>5a/5b. The gNB-CU-CP triggers the setup of MRB resources via the E1AP
MC Bearer Context Modification procedure. For multicast NG-U transport
the 5GC shared NG-U multicast address information is provided to the
gNB-CU-UP. Multicast session QoS parameters are provided to the
gNB-CU-UP.</p>
<p>6/7. The gNB-CU-CP establishes the Multicast Context at the gNB-DU,
providing MRB configuration. It may contain MBS Area Session ID
information.</p>
<p>8/9. The gNB-CU-CP retrieves the MRB configuration for the joined UE
from the gNB-DU via F1 UE Context Management procedures.</p>
<p>NOTE 2: The interactions between the gNB-CU-CP and gNB-CU-UP for UE
specific Berarer Context management before and after step 8/9 are not
illustrated in this Figure.</p>
<p>10. The gNB-DU triggers the establishment of F1-U resources, which
are established either per gNB-DU or per cell or per MBS Area Session
ID.</p>
<p>11/12. The gNB-CU-UP side of the F1-U is established by means of the
E1AP MC Bearer Context Modification procedure, providing the gNB-DU side
F1-U TNL to the gNB-CU-UP, which provides the gNB-CU-UP side F1-U TNL
address in return.</p>
<p>13. The gNB-CU-UP side F1-U TNL address is provided to the
gNB-DU.</p>
<p>14. In case of NG-U multicast transport, the gNB-CU-UP joins the NG-U
multicast group.</p>
<p>15. The gNB successfully terminates the NGAP procedure for
establishing the multicast session context.</p>
<p>16. The gNB-CU-CP RRC-configures each UE which has joined the
multicast group.</p>
<p>17. The multicast MBS media stream is provided to the UEs.</p>
<p>On NG-U, in case of location dependent multicast MBS Sessions,
multiple shared NG-U transport tunnels may need to be setup, one per
Area Session ID served by the gNB.</p>
<p>In case of shared NG-U termination,</p>
<p>- the gNB-CU-UP may provide the gNB-CU-CP at E1 setup or
configuration update about established shared NG-U terminations,
indicated by one or several MBS Session IDs.</p>
<p>- at establishment of the MC bearer context in the gNB-CU-UP, the
gNB-CU- CP may request the gNB-CU-UP to either apply the available MRB
configuration of the shared NG-U termination, or to apply the MRB
configuration requested by the gNB-CU-CP. The gNB-CU-UP provides the MRB
configuration to the gNB-CU-CP if the MRB configuration requested by the
gNB-CU-CP and the available MRB configuration of the shared NG-U
termination are different.</p>
<h4
id="multicast-mrb-type-re-configuration-with-f1-u-ptp-retransmission-tunnel-establishment">8.15.1.3
Multicast MRB type re-configuration with F1-U ptp-retransmission tunnel
establishment</h4>
<p><img src="media/image61.svg" /></p>
<p>Figure 8.15.1.3-1: Multicast MRB type re-configuration with F1-U ptp
retransmission tunnel establishment</p>
<p>1. The gNB-DU decides to change the MRB type configuration for a UE
and provides the new configuration to the gNB-CU-CP along with a per-MRB
MRB type reconfiguration indication and the MRB Reconfigured RLC
mode.</p>
<p>2. The gNB-CU-CP confirms the modification request and indicates this
to the gNB-DU. The gNB-CU-CP may request the gNB-DU to establish F1-U
ptp retransmission resources in order for the UE to perform PDCP Status
Report and receive retransmitted PDCP PDUs for the reconfigured
MRBs.</p>
<p>4. - 7. If necessary, the gNB-DU requests the establishment of F1-U
resources for ptp retransmission by means of triggering the F1AP
Multicast Distribution Setup procedure, which in turn triggers the E1AP
MC Bearer Context Modification procedure to exchange F1-U tunnel
end-point addresses.</p>
<p>NOTE: Depending on MRB bearer type reconfiguration the gNB-DU may
also request to release some F1-U resources.</p>
<p>8./9. The RRC Reconfiguration procedure is performed</p>
<p>10. PDCP Status Report and PDCP PDU retransmission can take place via
the established F1-U ptp retransmission resources.</p>
<h3 id="mobility-procedure-for-multicast">8.15.2 Mobility procedure for
Multicast</h3>
<h4 id="inter-gnb-cu-mobility-between-mbs-supporting-nodes">8.15.2.1
Inter-gNB-CU Mobility between MBS Supporting nodes</h4>
<p>Figure 8.15.2.1-1 shows the inter-gNB-CU multicast mobility procedure
between MBS Supporting nodes during an active multicast session.</p>
<p><img src="media/image62.svg" /></p>
<p>Figure 8.15.2.1-1: Inter-gNB-CU Mobility for Multicast</p>
<p>1. The Source gNB-CU-CP sends MC BEARER CONTEXT MODIFICATION REQUEST
message towards the Source gNB-CU-UP, to request the last delivered MRB
Progress of an MBS Session related to a Multicast F1-U Context Reference
E1.</p>
<p>2. The Source gNB-CU-UP responds to the gNB-CU-CP in the MC BEARER
CONTEXT MODIFICATION RESPONSE message, providing the last delievered MRB
Progress.</p>
<p>3. The source gNB-CU-CP sends the HANDOVER REQUEST message to the
target gNB-CU-CP with the last delievered MRB progress for the Multicast
sessions the UE has joined.</p>
<p>4. In case the Multicast session which the UE has joined was not
established in the target cell, the target gNB-CU-CP triggers the
Multicast MBS Session Context Establishment procedure as defined in
section 8.15.1.2.</p>
<p>5. The target gNB-CU-CP triggers MC BEARER CONTET SETUP REQUEST
message towards the target gNB-CU-UP.</p>
<p>6. The target gNB-CU-UP responds to the target gNB-CU-CP by sending
the MC BEARER CONTET SETUP RESPONSE message.</p>
<p>7. The target gNB-CU-CP sends UE CONTEXT SETUP REQUEST towards the
target gNB-DU. If the target gNB-CU-CP has decided to request a PTP
Forwarding tunnel, the message contains the PTP Forwarding Tunnel
Required indication and the last delivered MRB Progress for the MRBs
requested to be configured.</p>
<p>8. The target gNB-DU sends UE CONTEXT SETUP RESPONSE towards the
target gNB-CU-CP.</p>
<p>9. If a PTP Forwarding Tunnel was requested in step 7, the target
gNB-DU shall, if supported, trigger the F1-U tunnel establishment via
MULTICAST DISTRIBUTION SETUP REQUEST, including the F1-U DL UP TNL
information and the last delievered MRB Progress for the each of the
MRB.</p>
<p>10. The target gNB-CU-CP sends the MC BEARER CONTEXT MODIFICATION
REQUEST towards the target gNB-CU-UP, including for each MRB a request
for the oldest availiable MRB Progress information, the last delivered
MRB Progress, and the F1-U DL UP TNL information.</p>
<p>11. Based on the information received in step 10, the target
gNB-CU-UP determines whether the Xn-U data forwarding is needed or not,
and in case it is needed, provide for each MRB the oldest available MRB
Progress and the assigned XN-U DL Forwarding UP TNL Info to the target
gNB-CU-CP in the MC BEARER CONTEXT MODIFICATION RESPONSE message.</p>
<p>12. In case step 9 was triggerred, the target gNB-CU-CP sends the
MULTICAST DISTRIBUTION SETUP RESPONSE to the target gNB-DU.</p>
<p>13. The target gNB-CU-CP sends HANDOVER REQUEST ACKNOWLEDGE to the
source gNB-CU-CP, including the XN-U DL Forwarding UP TNL Info and the
oldest available MRB Progress for each MRB.</p>
<p>14. The source gNB-CU-CP forwards the XN-U DL Forwarding UP TNL Info
and the oldest available MRB Progress for each MRB to the source
gNB-CU-UP via MC BEARER CONTEXT MODIFICATION REQUEST message.</p>
<p>15. The source gNB-CU-UP sends the MC BEARER CONTEXT MODIFICATION
RESPONSE message to the source gNB-CU-CP.</p>
<p>16. The source gNB-CU-UP starts to forward MBS data towards the
target gNB-CU-UP.</p>
<p>NOTE: step 16 may happen before or after or in parallel with step
15.</p>
<p>17. If a PTP Forwarding Tunnel was established, the target gNB-CU-UP
sends the forwarding data to the target gNB-DU.</p>
<h2 id="overall-procedures-for-cpac">8.16 Overall procedures for CPAC
</h2>
<p>The following clauses describe the overall procedures for CPAC
involving E1 and F1.</p>
<h3 id="mn-initiated-conditional-pscell-addition">8.16.1 MN initiated
Conditional PSCell Addition </h3>
<p>The procedure for MN initiated Conditional PSCell Addition (CPA) is
shown in Figure 8.16-1.</p>
<p><img src="media/image63.svg" /></p>
<p>Figure 8.16.1-1 Conditional Secondary Node Addition procedure</p>
<p>1-12. The steps 1-12 are as defined in TS 37.340 [12].</p>
<p>a1-a5. The steps a1-a5 are as defined in clause 8.9.2 and with
conditional indications.</p>
<p>a6. After Random Access procedure successfully performed at the
candidate gNB-DU which becomes the target SN gNB-DU, the target gNB-DU
sends a Downlink Data Delivery Status frame to inform the target
gNB-CU-UP. The target gNB-DU also sends an ACCESS SUCCESS message to
inform the target gNB-CU-CP of which cell the UE has successfully
accessed.</p>
<h3 id="mn-initiated-conditional-sn-change">8.16.2 MN initiated
conditional SN Change</h3>
<p>The procedure for MN initiated conditional SN Change refer to TS
37.340[12]. In case of split gNB architecture, the procedures between
gNB-CU and gNB-DU and the procedures between gNB-CU-CP and gNB-CU-UP
refer to 8.16.1.</p>
<h3 id="sn-initiated-conditional-inter-sn-change">8.16.3 SN initiated
conditional inter-SN Change</h3>
<p>The procedure for SN initiated conditional SN Change refer to TS
37.340[12]. In case of split gNB architecture, the procedures between
gNB-CU and gNB-DU and the procedures between gNB-CU-CP and gNB-CU-UP
refer to 8.16.1.</p>
<h2 id="iab-inter-cu-topology-management">8.17 IAB Inter-CU Topology
Management</h2>
<h3 id="iab-inter-donor-du-re-routing">8.17.1 IAB Inter-donor-DU
Re-routing</h3>
<p>When an IAB-donor-DU is configured to support inter-donor-DU
re-routing, the IAB-donor-DU may identify a re-routed UL IP packet based
on the source IP address field of the UL packet, and forwards UL IP
packets, whose source IP addresses are anchored at a peer IAB-donor-DU,
to this peer IAB-donor-DU via a tunnel. The IAB-donor-DU and the peer
IAB-donor-DU may be controlled by the same IAB-donor-CU or by two
different IAB-donor-CUs. The inter-donor-DU tunnel may be a GTP-U
tunnel. The configuration of the tunnel is up to implementation. At the
IAB-donor-DU forwarding the UL IP packets, inter-donor-DU tunnelling may
be restricted to only a subset of the IP addresses anchored at the peer
IAB-donor-DU. For this purpose, the IAB-donor-CU configures the
IAB-donor-DU for forwarding the UL IP packets with a list of TNL
addresses and/or prefixes for which tunnelling should be permitted and
TNL address filtering should be exempted.</p>
<p>NOTE: Tunnel types other than GTP-U may be used for the
inter-donor-DU tunnel, by implementation.</p>
<h3 id="iab-inter-cu-topology-redundancy">8.17.2 IAB Inter-CU Topology
Redundancy </h3>
<h4 id="iab-inter-cu-topological-redundancy-procedure">8.17.2.1 IAB
Inter-CU topological redundancy procedure</h4>
<p>The inter-CU topological redundancy procedure enables the
establishment, modification and release of redundant paths in
IAB-topologies underneath different IAB-donor-CUs. Since topological
redundancy uses NR-DC for the IAB-MT, it is only supported for IAB-nodes
operating in the SA mode.</p>
<p>Figure 8.17.2.1-1 shows an example of the inter-CU topological
redundancy procedure, where a second backhaul path is established for a
dual-connecting IAB-node via a separate IAB-topology that is not
controlled by the F1-terminating IAB-donor-CU. The dual-connecting
IAB-DU retains the F1 connection with the F1-terminating IAB-donor-CU.
Since the dual-connecting IAB-MT also maintains an RRC connection with
the non-F1-terminating IAB-donor-CU, this procedure renders the
dual-connecting IAB-node as a boundary IAB-node.</p>
<p><img src="media/image64.svg" /></p>
<p>Figure 8.17.2.1-1 IAB inter-CU topology redundancy procedure</p>
<p>1. The NR-DC establishment procedure is performed for the IAB-MT of
the dual-connecting IAB-node as described in TS 37.340 [12], clause
10.2. This procedure can be conducted before or after establishment of
the F1 interface between the IAB-DU and an IAB-donor-CU.</p>
<p>2. The F1-terminating IAB-donor-CU sends an IAB TRANSPORT MIGRATION
MANAGEMENT REQUEST message to the non-F1-terminating IAB-donor-CU to
provide the context of the traffic to be offloaded.</p>
<p>3. The non-F1-terminating IAB-donor-CU sends a DL RRC MESSAGE
TRANSFER message to the second parent IAB-DU, which includes an
RRCReconfiguration message for the dual-connecting IAB-MT. The RRC
configuration includes a BAP address for the boundary node, pertaining
to the non-F1-terminating IAB-donor-CU’s topology. The RRC configuration
may include new TNL address(es) for the dual-connecting IAB-node,
anchored at the second-path, i.e., at the IAB-donor-DU under the
non-F1-terminating IAB-donor-CU. In case IPsec tunnel mode is used to
protect the F1 and non-F1 traffic, the new TNL address refers to the
outer IP address.</p>
<p>4. The second parent IAB-DU forwards the received RRCReconfiguration
message to the dual-connecting IAB-MT.</p>
<p>5. The dual-connecting IAB-MT responds to the second parent IAB-DU
with an RRCReconfigurationComplete message.</p>
<p>6. The second parent IAB-DU sends an UL RRC MESSAGE TRANSFER message
to the non-F1-terminating IAB-donor-CU, to convey the received
RRCReconfigurationComplete message.</p>
<p>7. The non-F1-terminating IAB-donor-CU may configure or modify BH RLC
channels and BAP-sublayer routing entries on the second path between the
dual-connecting IAB-node and the second-path IAB-donor-DU, as well as DL
mappings on the second-path IAB-donor-DU for the dual-connecting
IAB-node’s second path. The DL mappings may be based on the TNL
address(es) allocated to the dual-connecting IAB-node in step 3. These
configurations may support the transport of UP and non-UP traffic on the
second path.</p>
<p>8. The non-F1-terminating IAB-donor-CU responds with an IAB TRANSPORT
MIGRATION MANAGEMENT RESPONSE message to the F1-terminating
IAB-donor-CU, to provide the mapping information for the traffic to be
offloaded as indicated in step 2. The message includes the L2 info
necessary to configure the dual-connecting IAB-node with the UL mappings
for this traffic. The message includes the DSCP/IPv6 Flow Label values
to be used for the DL traffic to be offloaded.</p>
<p>9. The F1-terminating IAB-donor-CU updates the boundary node with the
UL BH information received from the non-F1-terminating IAB-donor-CU in
Step 8 for the traffic to be offloaded. This step may also update UL
FTEID and DL FTEID associated with individual GTP-tunnel(s). The
affected GTP tunnel(s) will be switched to use the dual-connecting
IAB-node’s new TNL address(es). This step may use non-UE associated
signaling in E1 and/or F1 interface to provide updated UP configuration
for F1-U tunnels of multiple connected UEs or child IAB-MTs.
Implementation must ensure the avoidance of potential race conditions,
i.e., that no conflicting configurations are concurrently performed
using UE-associated and non-UE-associated procedures.</p>
<p>The F1-terminating IAB-donor-CU may also provide UL BH information
associated with non-UP traffic. New TNL addresses for F1-C traffic
configured in step 3, if any, can be added to the dual-connecting
IAB-DU’s F1-C association(s) with the F1-terminating IAB-donor-CU.</p>
<p>If new TNL addresses for F1-C traffic are configured, new SCTP
association(s) between the dual-connecting IAB-node and the
F1-terminating IAB-donor-CU may be established using the new TNL address
information of the dual-connecting IAB-node. The dual-connecting
IAB-node sends an F1AP gNB-DU CONFIGURATION UPDATE message to the
F1-terminating IAB-donor-CU, which may include new (outer) IP addresses
and corresponding new (inner) IP address for offloaded F1-U traffic.</p>
<p>NOTE: The IP address selected by the boundary IAB-node for a traffic
needs to be anchored at the IAB-donor-DU whose BAP address is contained
in the BAP routing ID of the UL mapping for this traffic, and configured
by the IAB-donor (MN/SN) of the egress topology of the traffic.</p>
<p>10. The F1-terminating IAB-donor-CU sends an IAB TRANSPORT MIGRATION
MANAGEMENT REQUEST message to the non-F1-terminating IAB-donor-CU, to
modify the context of the dual-connecting IAB-node’s offloaded traffic.
The message may include the DL TNL address information used for the
offloaded traffic and reported by the boundary node in step 9. The
non-F1-terminating IAB-donor-CU may use this information to configure DL
mappings on the second-path IAB-donor-DU.</p>
<p>11. The non-F1-terminating IAB-donor-CU responds with an IAB
TRANSPORT MIGRATION MANAGEMENT RESPONSE message to the F1-terminating
IAB-donor-CU.</p>
<p>12. The steps above, may be repeated, except step 1, if needed, for
the F1-terminating IAB-donor-CU to request addition, modification, or
release of the offloaded traffic. The non-F1-terminating IAB-donor-CU
can fully or partially reject the addition or modification requested by
the F1-terminating IAB-donor-CU.</p>
<p>The non-F1-terminating IAB-donor-CU may request the modification of
the L2 transport for the offloaded traffic in the non-F1-terminating
IAB-donor-CU’s topology using the IAB TRANSPORT MIGRATION MODIFICATION
REQUEST message. The F1-terminating IAB-donor-CU reconfigures UL BH
mappings accordingly and acknowledges the modification via the IAB
TRANSPORT MIGRATION MODIFICATION RESPONSE message. The
non-F1-terminating IAB-donor-CU may further reconfigure the TNL
addresses of the dual-connecting IAB-node via RRC.</p>
<p>The traffic offload for descendant nodes follows the same procedure
as defined for the partial migration in clause 8.17.3.2.</p>
<p>The F1-terminating IAB-donor-CU may request full or partial release
of the offloaded traffic from the non-F1-terminating IAB-donor-CU by
initiating the IAB Transport Migration Management procedure towards the
non-F1-terminating IAB-donor-CU (e.g., for the purpose of revoking, or
in case UE bearers are released).</p>
<p>The traffic offload for the dual-connecting IAB-node and the
descendent nodes can be partially or fully revoked, resulting in the
return of the offloaded traffic back to the F1-terminating
IAB-donor-CU’s topology. Full or partial traffic revoking can be
initiated by the F1-terminating IAB-donor-CU by initiating the IAB
Transport Migration Management procedure towards the non-F1-terminating
IAB-donor-CU. The non-F1-terminating IAB-donor-CU can request partial or
full revoking of traffic offload from the F1-terminating IAB-donor-CU by
initiating the IAB Transport Migration Modification procedure towards
the F1-terminating IAB-donor-CU.</p>
<h3 id="iab-inter-cu-topology-adaptation">8.17.3 IAB Inter-CU Topology
Adaptation</h3>
<h4 id="iab-inter-cu-topology-adaptation-procedure">8.17.3.1 IAB
inter-CU topology adaptation procedure </h4>
<p>During the inter-CU topology adaptation for a single-connected
IAB-node, the IAB-MT migrates from an old parent node to a new parent
node, where the old and the new parent nodes are served by different
IAB-donor-CUs. Without loss of generality, the old parent node is
referred to as source parent node, and the new parent node is referred
to as target parent node.</p>
<p>Figure 8.17.3.1-1 shows an example of the topology adaptation
procedure, where the IAB-MT is migrated from a source IAB-donor-CU to a
target IAB-donor-CU. In this procedure, the migrating IAB-node becomes a
boundary IAB-node since its IAB-DU retains F1AP with the source
IAB-donor-CU while its IAB-MT obtains RRC connectivity with the target
IAB-donor-CU.</p>
<p><img src="media/image65.svg" /></p>
<p>Figure 8.17.3.1-1: IAB inter-CU topology adaptation procedure</p>
<p>1. The source IAB-donor-CU sends an Xn HANDOVER REQUEST message to
the target IAB-donor-CU . This message may include the migrating
IAB-node’s TNL address information in the RRC container.</p>
<p>2. The target IAB-donor-CU sends a UE CONTEXT SETUP REQUEST message
to the target parent node IAB-DU, to create the UE context for the
migrating IAB-MT and to set up the bearers, which the migrating IAB-MT
uses for its signaling, and, optionally, data traffic.</p>
<p>3. The target parent node IAB-DU responds to the target IAB-donor-CU
with a UE CONTEXT SETUP RESPONSE message.</p>
<p>4. The target IAB-donor-CU performs admission control and provides
the new RRC configuration as part of the HANDOVER REQUEST ACKNOWLEDGE
message. The RRC configuration includes a BAP address for the boundary
node in the target IAB-donor-CU’s topology, a default BH RLC channel and
a default BAP routing ID configuration for UL F1-C/non-F1 traffic
mapping on the target path. The RRC configuration may include the new
TNL address(es) anchored at the target IAB-donor-DU for the migrating
node.</p>
<p>5. The source IAB-donor-CU sends a UE CONTEXT MODIFICATION REQUEST
message to the source parent node IAB-DU, which includes the received
RRCReconfiguration message from the target IAB-donor-CU.</p>
<p>6. The source parent node IAB-DU forwards the received
RRCReconfiguration message to the migrating IAB-MT.</p>
<p>7. The source parent node IAB-DU responds to the source IAB-donor-CU
with the UE CONTEXT MODIFICATION RESPONSE message.</p>
<p>8. The migrating IAB-MT performs a random access procedure at the
target parent node IAB-DU.</p>
<p>9. The migrating IAB-MT responds to the target parent node IAB-DU
with an RRCReconfigurationComplete message.</p>
<p>10. The target parent node IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the target IAB-donor-CU, to convey the received
RRCReconfigurationComplete message.</p>
<p>11. The target IAB-donor-CU triggers the path switch procedure for
the migrating IAB-MT, if needed.</p>
<p>12. The target IAB-donor-CU sends UE CONTEXT RELEASE message to the
source IAB-donor-CU.</p>
<p>NOTE: The XnAP UE IDs of the migrating node are retained at target
and source IAB-donor-CU as long as the target path is used for transport
of traffic between the migrating node and the source IAB-donor-CU.</p>
<p>13. The source IAB-donor-CU may release BH RLC channels and
BAP-sublayer routing entries on the source path between source parent
IAB-node of the migrating IAB-node and the source IAB-donor-DU.</p>
<p>14. The target IAB-donor-CU configures BH RLC channels and
BAP-sublayer routing entries on the target path between the migrating
IAB-node and target IAB-donor-DU, as well as DL mappings on the target
IAB-donor-DU for the migrating IAB-node’s target path. These
configurations support the transport of F1-C traffic on the target
path.</p>
<p>15. The F1-C connection between the migrating IAB-node and the source
IAB-donor-CU are switched to the target path using the new TNL address
information of the migrating IAB-node. The migrating IAB-node may report
the new TNL address information it wants to use for F1-U traffic to the
source IAB-donor-CU, via the gNB-DU CONFIGURATION UPDATE message.</p>
<p>In case IPsec tunnel mode is used for TNL protection, the migrating
IAB-node may use MOBIKE (IETF RFC 4555 [29]) to migrate the IPsec tunnel
to the new IP outer addresses. After the completion of the MOBIKE
procedure, the migrating IAB-DU initiates an F1AP gNB-DU Configuration
Update procedure from which the IAB-donor-CU can conclude whether the
existing inner IP address(es) (e.g., for SCTP association) and the DL
F-TEID can be reused.</p>
<p>If new TNL addresses for F1-C traffic are configured, new SCTP
association(s) between the migrating IAB-node and the F1-terminating
IAB-donor-CU may be established using the new TNL address information of
the migrating IAB-node. The migrating IAB-node sends an F1AP gNB-DU
CONFIGURATION UPDATE message to the F1-terminating IAB-donor-CU, which
may include new (outer) IP addresses and corresponding new (inner) IP
address for the F1-U traffic to be switched to the target path.</p>
<p>16. The source IAB-donor-CU sends an IAB TRANSPORT MIGRATION
MANAGEMENT REQUEST message to the target IAB-donor-CU, to provide the
context of the traffic to be offloaded. The message may include the new
DL TNL address information necessary for the target IAB-donor-CU to
configure or modify DL mappings on the target IAB-donor-DU.</p>
<p>17. The target IAB-donor-CU may configure or modify BH RLC channels
and BAP-sublayer routing entries on the target path between the
migrating IAB-node and target IAB-donor-DU, as well as DL mappings on
the target IAB-donor-DU for the migrating IAB-node’s target path. These
configurations may support the transport of UP and non-UP traffic on the
target path.</p>
<p>18. The target IAB-donor-CU responds to the source IAB-donor-CU with
an IAB Transport Migration Management Response message, to provide the
mapping information for the traffic to be offloaded. The message
includes the L2 info that is used in the target IAB-donor-CU’s topology
and necessary to configure the migrating IAB-node with the UL mappings
of traffic indicated in step 16. The message includes the DSCP/IPv6 Flow
Label values used to configure the DL mappings of traffic indicated in
step 16.</p>
<p>19. The F1-U connections of the migrating IAB-node with the source
IAB-donor-CU are switched to use the migrating IAB-node’s new TNL
address(es). The source IAB-donor-CU provides to the IAB-DU of the
migrating IAB-node the updated UL BH information for the traffic
indicated in step 16, based on the UL BH information received from the
target IAB-donor-CU in step 18. The source IAB-donor-CU may also update
the UL BH information associated with non-UP traffic. This step may use
UE associated signaling or non-UE associated signaling in E1 and/or F1
interface. Implementation must ensure the avoidance of potential race
conditions, i.e., that no conflicting configurations are concurrently
performed using UE-associated and non-UE-associated procedures.</p>
<p>20. The steps 16 to 19 may be repeated, if needed, where the source
IAB-donor-CU can request the offload of further traffic, or the
modification or release of offloaded traffic. The target IAB-donor-CU
can fully or partially reject addition or modification requests by the
source IAB-donor-CU.</p>
<p>The target IAB-donor-CU may request the modification of the L2
transport for the offloaded traffic in the target IAB-donor-CU’s
topology using the IAB TRANSPORT MIGRATION MODIFICATION REQUEST message.
The source IAB-donor-CU reconfigures the UL BH mappings accordingly, and
acknowledges the modification via the IAB TRANSPORT MIGRATION
MODIFICATION RESPONSE message. The target IAB-donor-CU may further
reconfigure the TNL addresses of the migrating IAB-node via RRC.</p>
<p>The traffic offload through the inter-CU topology adaptation
procedure for the migrating IAB-node can be fully revoked.</p>
<p>The non-F1-terminating IAB-donor-CU can initiate the full revoking of
traffic offload by executing the XnAP Handover Preparation procedure for
the migrating IAB-MT. After the migrating IAB-MT is handed over in
reverse direction, i.e., from the non-F1-terminating IAB-donor-CU to the
F1-terminating IAB-donor-CU, the traffic of the migrating IAB-node’s
IAB-DU is routed again along the former source path.</p>
<p>The F1-terminating IAB-donor-CU can initiate the full revoking of
traffic offload by requesting the release of all offloaded traffic from
the non-F1-terminating IAB-donor-CU by sending the IAB TRANSPORT
MIGRATION MANAGEMENT REQUEST to the non-F1-terminating IAB-donor-CU.
This message may trigger the XnAP Handover Preparation procedure for the
migrating IAB-MT towards the F1-terminating IAB-donor-CU.</p>
<p>The F1-terminating IAB-donor-CU may request full or partial release
of the offloaded traffic from the non-F1-terminating IAB-donor-CU via
the IAB TRANSPORT MIGRATION MANAGEMENT REQUEST message.</p>
<h4
id="iab-inter-cu-topology-adaptation-procedure-with-descendant-iab-node">8.17.3.2
IAB inter-CU topology adaptation procedure with descendant IAB-node</h4>
<p>Figure 8.17.3.2-1 shows an example of the topology adaptation
procedure where the migrating IAB-MT is migrated from a source
IAB-donor-CU to a target IAB-donor-CU, and where the migrating IAB-node
has a descendant IAB-node which retains both its RRC connection and F1
connection with the source IAB-donor-CU.</p>
<p><img src="media/image66.svg" /></p>
<p>Figure 8.17.3.2-1: IAB inter-CU topology adaptation procedure with
descendant IAB-node</p>
<p>0. The topology adaptation procedure of clause 8.17.3.1 is performed
for the migrating IAB-node.</p>
<p>1. The source IAB-donor-CU sends an IAB TRANSPORT MIGRATION
MANAGEMENT REQUEST message to the target IAB-donor-CU to provide the
context of the descendant IAB-node’s traffic to be offloaded. The
message may include a request for new TNL address(es) for the descendant
IAB-node(s), anchored at a target IAB-donor-DU. The source IAB-donor-CU
includes an identifier of the migrating IAB-node in the request message.
This could be performed in parallel with step 0 after the source
IAB-donor-CU receives HANDOVER REQUEST ACKNOWLEDGE message, e.g., the
context of the traffic to be offloaded for the migrating/descendant
nodes and IP address request information could be contained in the same
IAB TRANSPORT MIGRATION MANAGEMENT REQUEST message.</p>
<p>2. The target IAB-donor-CU determines the target IAB-donor-DU, based
on the identifier of the migrating IAB-node. The target IAB-donor-CU may
configure or modify BH RLC channels and BAP-sublayer routing entries on
the target path between the boundary IAB-node and target IAB-donor-DU,
as well as DL mappings on the target IAB-donor-DU for the migrating
IAB-node’s target path. These configurations may support the transport
of UP and non-UP traffic on the target path.</p>
<p>3. The target IAB-donor-CU may obtain new TNL address(es) from the
target IAB-donor-DU, based on the request for TNL address(es) received
in step 1.</p>
<p>4. The target IAB-donor-CU responds with an IAB TRANSPORT MIGRATION
MANAGEMENT RESPONSE message to the source IAB-donor-CU, to provide the
mapping information for the traffic to be offloaded. The message
includes the L2 info from the target IAB-donor-CU topology that is
necessary to configure the migrating IAB-node with the BAP-sublayer
routing, header-rewriting and BH RLC CH mapping entries of traffic
indicated in step 1. The message includes the DSCP/IPv6 Flow Label
values to be used for the DL traffic to be offloaded as indicated in
step 1. The message may include the new TNL address(es) obtained in step
3, if any.</p>
<p>NOTE 1: The target IAB-donor-CU should select the same IAB-donor-DU
in its IAB topology for all to-be-offloaded traffic, whose UL BH
mappings received from the source IAB-donor-CU in step 1 share the same
BAP address.</p>
<p>NOTE 2: The target IAB-donor-CU should provide the same Egress BAP
Routing ID for all to-be-offloaded uplink traffic, whose UL BH mappings
received from the source IAB-donor-CU in step 1 share the same Ingress
BAP Routing ID.</p>
<p>5. The source IAB-donor-CU configures the migrating IAB-node’s IAB-DU
with the BAP-sublayer routing, header-rewriting and BH RLC CH mapping
entries of the migrating IAB-node.</p>
<p>6. The source IAB-donor-CU sends a DL RRC MESSAGE TRANSFER message to
the descendant IAB-node’s parent IAB-DU, which includes an
RRCReconfiguration message for the descendant IAB-MT. The RRC
configuration may include the new TNL addresses received in step 4. If
needed, the source IAB-donor-CU may also provide a new default UL
mapping which includes a default BH RLC channel and a default BAP
Routing ID on the target path, to the descendant nodes via
RRCReconfiguration message.</p>
<p>7. The descendant IAB-node’s parent IAB-DU forwards the received
RRCReconfiguration message to the descendant IAB-MT.</p>
<p>8. The descendant IAB-MT responds to the migrating IAB-node’s IAB-DU
with an RRCReconfigurationComplete message.</p>
<p>9. The migrating IAB-node’s IAB-DU sends an UL RRC MESSAGE TRANSFER
message to the source IAB-donor-CU, to convey the received
RRCReconfigurationComplete message.</p>
<p>10. If needed, the source IAB-donor-CU configures UL BH mappings on
the descendant node and BAP-sublayer routing entries between the
descendant node and the migrating IAB-node. This step may be performed
at an earlier stage, e.g., immediately after step 4.</p>
<p>11. The F1-C connections and F1-U tunnels are switched to use the
descendant IAB-node’s new TNL address(es), if any, as described in Steps
15 and 19 of the inter-CU topology adaptation procedure in clause
8.17.3.1.</p>
<p>NOTE 3: The IP address selected by the descendant IAB-node for an
offloaded traffic needs to be anchored at the IAB-donor-DU whose BAP
address is contained in the BAP routing ID of the UL mapping for this
traffic, and obtained in step 7.</p>
<p>12. The source IAB-donor-CU sends an IAB TRANSPORT MIGRATION
MANAGEMENT REQUEST message to the target IAB-donor-CU, to modify the
context of the descendant IAB-node’s offloaded traffic. The message may
include the DL TNL address information received in step 11 that is
necessary for the target IAB-donor-CU to configure or modify DL mappings
on the target IAB-donor-DU.</p>
<p>13. The target IAB-donor-CU responds with an IAB TRANSPORT MIGRATION
MANAGEMENT RESPONSE message to the source IAB-donor-CU.</p>
<p>14. The of steps above may be repeated, if needed, for the source
IAB-donor-CU to request addition, modification or release of the
offloaded traffic pertaining to the descendant IAB-node. The target
IAB-donor-CU can fully or partially reject addition or modification
requests by the source IAB-donor-CU.</p>
<p>The target IAB-donor-CU may trigger the modification of the L2
transport of the offloaded traffic in the target IAB-donor-CU’s topology
using the IAB TRANSPORT MIGRATION MODIFICATION REQUEST message. Based on
this message, the source IAB-donor-CU may reconfigure the UL BH mappings
on the descendant nodes, the routing entries and BH RLC channel mappings
on the migrating node and the descendant nodes, and the BAP header
rewriting entries on the migrating node, and acknowledges the
modification via the IAB TRANSPORT MIGRATION MODIFICATION RESPONSE
message. The target IAB-donor-CU may further provide updated TNL address
information for the descendant IAB-node to the source IAB-donor-CU.</p>
<p>The full or partial release or revoking of traffic offload pertaining
to the descendant IAB-nodes and their served UEs follows the same
procedure as defined for the partial migration in clause 8.17.3.1.</p>
<h3
id="iab-inter-cu-backhaul-rlf-recovery-for-single-connected-iab-node">8.17.4
IAB Inter-CU Backhaul RLF recovery for single connected IAB-node </h3>
<p>The inter-CU backhaul RLF recovery procedure for IAB-nodes in SA mode
enables recovery of an IAB-node to another parent node underneath a
different IAB-donor-CU, when the IAB-MT of the IAB-node detects backhaul
RLF.</p>
<p>Figure 8.17.4-1 shows an example of the backhaul RLF recovery
procedure for an IAB-node in SA mode. In this example, the IAB-node
changes from its initial parent node to a new parent node, where the new
parent node is served by a different IAB-donor-CU than that serving its
initial parent node. In this procedure, the recovering IAB-node becomes
a boundary IAB-node since the IAB-DU retains F1AP with the initial
IAB-donor-CU while its IAB-MT obtains RRC connectivity with the new
IAB-donor-CU.</p>
<p><img src="media/image67.svg" /></p>
<p>Figure 8.17.4-1: IAB inter-CU backhaul RLF recovery procedure for an
IAB-node in SA mode</p>
<p>1. The IAB-MT of the IAB-node detects backhaul RLF.</p>
<p>2. The IAB-MT attempts RLF recovery by performing Random Access
towards a new parent IAB-DU.</p>
<p>3. The IAB-MT undergoing RLF recovery sends an
RRCReestablishmentRequest message to the new parent IAB-DU.</p>
<p>4. The new parent IAB-DU sends an INITIAL UL RRC MESSAGE to the new
IAB-donor-CU, to convey the received RRCReestablishmentRequest
message.</p>
<p>5. The new IAB-donor-CU retrieves the UE Context for the IAB-MT
undergoing recovery, through the XnAP Retrieve UE Context procedure. The
initial IAB-donor-CU may include the TNL address information of the
IAB-node undergoing recovery in the RRC container of the RETRIEVE UE
CONTEXT RESPONSE message.</p>
<p>6. The new IAB-donor-CU sends a DL RRC MESSAGE TRANSFER message to
the new parent IAB-DU, to convey the generated RRCReestablishment
message.</p>
<p>7. The new parent IAB-DU sends an RRCReestablishment message to the
IAB-MT undergoing recovery.</p>
<p>8. The IAB-MT undergoing recovery sends an RRCReestablishmentComplete
message to the new parent IAB-DU.</p>
<p>9. The new parent IAB-DU sends an UL RRC MESSAGE TRANSFER message to
the new IAB-donor-CU, to convey the received RRCReestablishmentComplete
message.</p>
<p>10. The new IAB-donor-CU triggers the UE Context Setup procedure
toward the new parent IAB-DU, to create the UE context for the IAB-MT
undergoing recovery and to set up one or more bearers. These bearers can
be used by the IAB-MT undergoing recovery for its own signalling, and,
optionally, data traffic.</p>
<p>11. The new IAB-donor-CU triggers the path switch procedure for the
IAB-MT undergoing recovery, if needed.</p>
<p>12. The new IAB-donor-CU sends UE CONTEXT RELEASE message to the
initial IAB-donor-CU.</p>
<p>NOTE: The XnAP UE IDs of the boundary IAB-MT are retained at initial
IAB-donor-CU and new IAB-donor-CU as long as the recovery path is used
for transport of traffic between the IAB-node undergoing recovery and
the initial IAB-donor-CU.</p>
<p>13. The initial IAB-donor-CU may release the BH RLC channels and
BAP-sublayer routing entries on the initial path between the initial
parent IAB-node and the initial IAB-donor-DU.</p>
<p>14. The new IAB-donor-CU sends a DL RRC MESSAGE TRANSFER message to
the new parent IAB-DU, which includes an RRCReconfiguration message for
the IAB-MT undergoing recovery. The RRC configuration may include new
TNL addresses anchored at the new IAB-donor-DU. The RRC configuration
may further include a BAP address for the recovery IAB-node in the new
IAB-donor-CU’s topology, default BH RLC channel and a default BAP
routing ID configuration for UL F1-C/non-F1 traffic mapping on the
recovery path.</p>
<p>15. The new parent IAB-DU forwards the received RRCReconfiguration
message to the IAB-MT undergoing recovery.</p>
<p>16. The IAB-MT undergoing recovery responds to the new parent IAB-DU
with an RRCReconfigurationComplete message.</p>
<p>17. The new parent IAB-DU sends an UL RRC MESSAGE TRANSFER message to
the new IAB-donor-CU, to convey the received RRCReconfigurationComplete
message.</p>
<p>18. The remaining part of the procedure follows the steps 14-20 of
the inter-CU topology adaptation procedure defined in clause
8.17.3.1.</p>
<p>Traffic offload for descendant nodes follows the same procedure as
that of clause 8.17.3.2.</p>
<p>The new IAB-donor-CU may request the modification of the L2 transport
of the offloaded traffic in the new IAB-donor-CU’s topology. The new
IAB-donor-CU may further reconfigure the TNL addresses of the boundary
IAB-node via RRC.</p>
<p>The traffic offload due to inter-CU RLF recovery procedure for the
boundary IAB-node and its descendant IAB-nodes can be fully revoked. In
this case, the boundary IAB-MT is handed over in reverse direction,
i.e., from the new IAB-donor-CU to the initial IAB-donor-CU, and the
traffic of the boundary IAB-DU and the descendant IAB-DUs is routed
again along the initial path used prior to BH RLF recovery.</p>
<p>The new IAB-donor-CU can initiate the full revoking of traffic
offload by executing the XnAP Handover Preparation procedure for the
boundary IAB-MT towards the initial IAB-donor-CU.</p>
<p>The initial IAB-donor-CU can initiate the full revoking of traffic
offload in the same manner as described in clause 8.17.3.1 for the
revoking initiated by the F1-terminating IAB-donor-CU.</p>
<p>The initial IAB-donor-CU may request full or partial release of the
offloaded traffic from the new IAB-donor-CU via the IAB TRANSPORT
MIGRATION MANAGEMENT REQUEST message.</p>
<h2
id="overall-procedure-for-small-data-transmission-during-rrc-inactive">8.18
Overall procedure for Small Data Transmission during RRC Inactive</h2>
<h3 id="rach-based-sdt">8.18.1 RACH based SDT</h3>
<p>The procedure for RACH based small data transmission in RRC Inactive
is shown in Figure 8.18.1-1.</p>
<p><img src="media/image68.svg" /></p>
<p>Figure 8.18.1-1: RACH based Small Data Transmission in RRC Inactive
state.</p>
<p>1. The UE in RRC Inactive sends the <em>RRCResumeRequest</em> message
together with UL SDT data and/or UL SDT signalling.</p>
<p>2. The gNB-DU buffers the UL SDT data and/or UL SDT signalling.</p>
<p>3. The step 3 is as defined in step 4 in clause 8.6.2, including an
indication of SDT access. The gNB-DU may also provide SDT assistance
information.</p>
<p>4-5. If UE context is successfully retrieved as specified in TS
38.300 [2], the steps 4-5 are as defined in steps 6-7 in clause 8.9.6.2.
The UL SDT data, if any, is forwarded to the gNB-CU-UP, and the UL
signalling, if any, is forwarded to the gNB-CU-CP via the UL RRC MESSAGE
TRANSFER message, in which any UL NAS PDU is delivered to AMF.</p>
<p>NOTE 1: In case that full UE context is retrieved from another
gNB-CU-CP as specified in TS 38.300 [2], the gNB-CU-CP first establishes
the UE context in the gNB-CU-UP via the Bearer Context Setup procedure
and F1-U UL TEIDs are retrieved before step 4. The BEARER CONTEXT SETUP
REQUSET message may include an indication to suspend non-SDT bearers,
and in this case, the BEARER CONTEXT MODIFICATION REQUEST message in
step 6 does not include resume indication for SDT DRBs.</p>
<p>NOTE 2: In case that only partial UE context for SDT including F1-U
UL TEIDs is retrieved from another gNB-CU-CP as specified in TS 38.300
[2], the gNB-CU-CP uses those F1-U UL TEIDs for steps 4-5, and the
subsequent steps 6-7 are not executed. The F1-U DL TEIDs received from
the gNB-DU in step 5 should be forwarded to the other gNB-CU-CP, to be
used for transferring of the DL SDT data. In addition, the UL SDT data,
if any, is forwarded from the gNB-DU to the gNB-CU-UP of the other
gNB-CU-CP for which the partial context is retrieved, and the UL
signalling, if any, is forwarded from the gNB-CU-CP to the other
gNB-CU-CP (the last serving gNB-CU-CP) via the XnAP RRC TRANSFER
message.</p>
<p>NOTE 3: The other gNB-CU-UP may need to buffer the UL SDT data if
received before the SDT bearer(s) are resumed.</p>
<p>6. The gNB-CU-CP sends the BEARER CONTEXT MODIFICATION REQUEST
message including an resume indication for SDT DRBs. The gNB-CU-CP also
includes the F1-U DL TEIDs received from the gNB-DU in step 5.</p>
<p>7. The gNB-CU-UP responds with the BEARER CONTEXT MODIFICATION
RESPONSE message.</p>
<p>NOTE 4: void.</p>
<p>Upon receiving the UE INACTIVITY NOTIFICATION message from the
gNB-DU, the gNB-CU, if serving the UE and deciding to terminate the
ongoing SDT procedure, shall transmit the UE CONTEXT RELEASE COMMAND
message to the gNB-DU.</p>
<p>If CG-SDT is (re-)configured, the gNB-CU may request the gNB-DU to
keep CG-SDT configuration and resources in the UE CONTEXT RELEASE
COMMAND message.</p>
<p>Upon receiving non-SDT data, the gNB-CU-UP shall send the DL DATA
NOTIFICATION message to the gNB-CU-CP. The gNB-CU-CP shall terminate the
ongoing SDT procedure as specified in TS 38.300 [2].</p>
<h3 id="cg-based-sdt">8.18.2 CG based SDT</h3>
<p>The procedure for CG based small data transmission in RRC Inactive is
shown in Figure 8.18.2-1.</p>
<p><img src="media/image69.svg" /></p>
<p>Figure 8.18.2-1: CG based Small Data Transmission in RRC Inactive
state.</p>
<p>1. The gNB-CU decides to move UE into RRC_INACTIVE state.</p>
<p>2. The gNB-CU-CP decides to configure CG-SDT, it sends UE CONTEXT
MODIFICATION REQUEST message including a query indication for CG-SDT
related resource configuration associated with the information of SDT
Radio Bearer(s).</p>
<p>3. The gNB-DU sends the UE CONTEXT MODIFICATION RESPONSE message
including the CG-SDT related resource configurations for the requested
SDT Radio Bearer(s) within the <em>DU to CU RRC Information</em> IE.</p>
<p>4. The gNB-CU-CP sends the BEARER CONTEXT MODIFICATION REQUEST
towards the gNB-CU-UP, with the suspend indication.</p>
<p>5. The gNB-CU-UP sends the BEARER CONTEXT MODIFICATION RESPONSE
towards the gNB-CU-CP.</p>
<p>6. The gNB-CU-CP sends the UE CONTEXT RELEASE COMMAND message to the
gNB-DU including an <em>RRCRelease</em> message to the UE with the
CG-SDT information within suspend configuration. The gNB-CU notifies the
gNB-DU to keep the SDT RLC config, F1-U tunnels, F1AP UE association,
and store the CG resource for SDT when the UE is entering RRC_INACTIVE
state with an explicit CG-SDT kept indicator.</p>
<p>7. The gNB-DU sends the <em>RRCRelease</em> message to UE.</p>
<p>8. The gNB-DU sends UE CONTEXT RELEASE COMPLETE message. The gNB-DU
keeps the SDT RLC config, F1-U tunnels, F1AP UE association, and stores
the CG resource for SDT when the UE entering RRC_INACTIVE. The gNB-DU
also stores the C-RNTI, CS-RNTI, and which bearers are CG-SDT
bearers.</p>
<p>After a period of time of the UE being in RRC_INACTIVE state.</p>
<p>9. The UE decides to perform CG based SDT procedure, it sends the
<em>RRCResumeRequest</em> message together with UL SDT data/UL NAS
PDU.</p>
<p>10. The gNB-DU sends the UL RRC MESSAGE TRANSFER message including
the <em>RRCResumeRequest</em> message to indicate the access due to
CG-SDT.</p>
<p>11/12. If UE context is successfully retrieved as specified in TS
38.300 [2], the gNB-CU-CP initiates the BEARER CONTEXT MODIFICATION
procedure to resume SDT DRBs.</p>
<p>13 – 13a. The gNB-DU sends the UL SDT data, if any, to the gNB-CU-UP,
and/or sends the UL signalling, if any, to the gNB-CU-CP via the UL RRC
MESSAGE TRANSFER message, in which any UL NAS PDU is delivered to
AMF.</p>
<p>NOTE 1: void.</p>
<p>Upon receiving the UE INACTIVITY NOTIFICATION message from the gNB-DU
and deciding to terminate the ongoing SDT procedure, the gNB-CU shall
transmit the UE CONTEXT RELEASE COMMAND message to the gNB-DU.</p>
<p>If CG-SDT is re-configured, the gNB-CU may request the gNB-DU to keep
CG-SDT configuration and resources in the UE CONTEXT RELEASE COMMAND
message.</p>
<p>Upon receiving non-SDT data, the gNB-CU-UP shall send the DL DATA
NOTIFICATION message to the gNB-CU-CP. The gNB-CU-CP shall terminate the
ongoing SDT procedure as specified in TS 38.300 [2].</p>
<h3 id="ra-sdt-or-non-sdt-with-cg-sdt-configuration">8.18.3 RA-SDT or
non-SDT with CG-SDT configuration</h3>
<p>The procedure for the case where the UE has CG-SDT resource
configurations but decides to perform RACH based small data transmission
in RRC Inactive or to perform RACH procedure to transit to RRC Connected
(see TS 38.321 [30] clause 5.27) is shown in Figure 8.18.3-1.</p>
<p><img src="media/image70.svg" /></p>
<p>Figure 8.18.3-1: RA-SDT or non-SDT with CG-SDT configuration.</p>
<p>1. The UE in RRC Inactive sends <em>RRCResumeRequest</em> message. If
the UE decides to perform RACH based SDT procedure, it also sends UL SDT
data and/or UL SDT signalling.</p>
<p>2. The gNB-DU buffers the UL SDT data and/or UL SDT signalling.</p>
<p>3. The gNB-DU sends the INITIAL UL RRC MESSAGE TRANSFER message to
the gNB-CU-CP, including a new gNB-DU UE F1AP ID, and in case of RACH
based SDT access, the gNB-DU provides an indication of SDT access and
may also the SDT assistance information.</p>
<p>4. If UE context is successfully retrieved as specified in TS 38.300
[2], the gNB-CU-CP sends the UE CONTEXT SETUP REQUEST message with the
stored (or retrieved from the last serving gNB) F1 UL TEIDs and the new
gNB-DU UE F1AP ID received in step 3.</p>
<p>In case that the gNB-DU is the one that sent the <em>RRCRelease</em>
message with CG-SDT resource configurations to the UE, the gNB-CU-CP
also includes the old gNB-DU UE F1AP ID and the old gNB-CU F1AP UE ID
within the <em>Old CG-SDT Session Info</em> IE of the UE CONTEXT SETUP
REQUEST message.</p>
<p>In case that the gNB-CU-CP is the one that generated the RRCRelease
message with CG-SDT resource configurations but the gNB-DU is not the
old gNB-DU that sent the RRCRelease message to the UE, the gNB-CU-CP
initiates the UE Context Release procedure by sending the UE CONTEXT
RELEASE COMMAND message to the old gNB-DU.</p>
<p>In case that the UE accesses a gNB other than the last serving gNB,
upon receiving the RETRIEVE UE CONTEXT REQUEST message from the
receiving gNB-CU-CP, the last serving gNB-CU-CP initiates the UE Context
Release procedure by sending the UE CONTEXT RELEASE COMMAND message to
the last serving gNB-DU.</p>
<p>5. The gNB-DU sends the UE CONTEXT SETUP RESPONSE message with the
new gNB-DU UE F1AP ID. In case the old gNB-DU UE F1AP ID is received
within the <em>Old CG-SDT Session Info</em> IE in step 4, the gNB-DU
retrieves the stored CG-SDT resource configurations and UE context based
on the <em>Old CG-SDT Session Info</em> IE, if any, and associates them
with the new gNB-DU F1AP UE ID.</p>
<h2 id="overall-procedures-for-l2-ue-to-network-relay">8.19 Overall
procedures for L2 UE-to-Network Relay </h2>
<h3 id="remote-ue-initial-access">8.19.1 Remote UE initial access</h3>
<p>The signalling flow for Remote UE Initial access is shown in Figure
8.19.1-1.</p>
<p><img src="media/image71.svg" /></p>
<p>Figure 8.19.1-1: Remote UE Initial Access procedure</p>
<p>1. The U2N Remote UE and the U2N Relay UE perform discovery
procedure, and establish PC5 connection using NR ProSe procedure.</p>
<p>2. The U2N Remote UE sends an <em>RRCSetupRequest</em> message to the
U2N Relay UE via PC5 Relay RLC Channel.</p>
<p>3. The U2N Relay UE withholds the received RRC message and sends the
<em>SidelinkUEInformationNR</em> message to the gNB-DU. Before that, if
the U2N Relay UE is in RRC_IDLE/RRC_INACTIVE state, it should trigger
the RRC establishment/resume procedure to enter RRC_CONNECTED state and
gNB may configure the U2N Relay UE with Uu Relay RLC channel(s) for
relaying of U2N Remote UE’s SRB0/1.</p>
<p>4. The gNB-DU sends the UL RRC MESSAGE TRANSFER message of the U2N
Relay UE by encapsulating the <em>SidelinkUEInformationNR</em> message
to gNB-CU, and gNB-CU allocates the local ID of U2N Remote UE.</p>
<p>5. The gNB-CU sends the UE CONTEXT MODIFICATION REQUEST message of
the U2N Relay UE to gNB-DU. Such message may request the establishment
of Uu Relay RLC channel(s) for the transmission of U2N Remote UE’s
SRB0/1 if not configured yet.</p>
<p>6. The gNB-DU sends the UE CONTEXT MODIFICATION RESPONSE message of
the U2N Relay UE to gNB-CU.</p>
<p>7. The gNB-CU sends the DL RRC MESSAGE TRANSFER message of the U2N
Relay UE to gNB-DU by encapsulating the <em>RRCReconfiguration</em>
message, which contains the local ID allocated to the U2N Remote UE. The
<em>RRCReconfiguration</em> message shall also contain the Uu Relay RLC
channel(s) configuration if not configured and bearer mapping for
relaying of U2N Remote UE’s SRB0/1.</p>
<p>8. The gNB-DU sends the <em>RRCReconfiguration</em> message to the
U2N Relay UE to configure the local ID of the U2N Remote UE, the Uu
Relay RLC channel(s) configuration and bearer mapping for relaying of
U2N Remote UE’s SRB0/1.</p>
<p>9. The U2N Relay UE sends the <em>RRCReconfigurationComplete</em>
message to gNB-DU.</p>
<p>10. The gNB-DU sends the UL RRC MESSAGE TRANSFER message of the U2N
Relay UE by encapsulating the <em>RRCReconfigurationComplete</em>
message to gNB-CU.</p>
<p>11. After receiving the local ID of the U2N Remote UE and the Uu
Relay RLC channel(s) configuration and bearer mapping for relaying of
U2N Remote UE’s SRB0, the U2N Relay UE sends the
<em>RRCSetupRequest</em> message of the U2N Remote UE to gNB-DU. The
local ID of the U2N Remote UE and RB ID for SRB0 are conveyed in the
SRAP header.</p>
<p>12. The gNB-DU allocates a C-RNTI and a gNB-DU UE F1AP ID for the U2N
Remote UE and sends the INITIAL UL RRC MESSAGE TRANSFER message to
gNB-CU by encapsulating the <em>RRCSetupRequest</em> message of the U2N
Remote UE. In addition, the local ID of the U2N Remote UE , the gNB-DU
UE F1AP ID of the U2N Relay UE and the sidelink configuration container
for at least the PC5 Relay RLC channel configuration for relaying of U2N
Remote UE’s SRB1 are included in the INITIAL UL RRC MESSAGE TRANSFER
message.</p>
<p>13. The gNB-CU allocates a gNB-CU UE F1AP ID for the U2N Remote UE
and generates a <em>RRCSetup</em> message towards the U2N Remote UE. The
RRC message is encapsulated in the DL RRC MESSAGE TRANSFER message, and
includes the configurations of PC5 Relay RLC channel and bearer mapping
at least for the transmission of U2N Remote UE’s SRB1.</p>
<p>14. The gNB-DU sends the <em>RRCSetup</em> message to the U2N Remote
UE via the U2N Relay UE.</p>
<p>15. The gNB-CU configures the U2N Relay UE with PC5 Relay RLC
channel, Uu Relay RLC channel and bearer mapping for relaying of U2N
Remote UE’s SRB1. According to the configuration from gNB-CU, the U2N
Relay UE establishes a PC5 Relay RLC channel for relaying of U2N Remote
UE’s SRB1 over PC5 and establishes a Uu Relay RLC channel for relaying
of U2N Remote UE’s SRB1 towards gNB-DU if not configured yet.</p>
<blockquote>
<p>NOTE 1: This step may be performed earlier, e.g., via steps 5~8.</p>
</blockquote>
<p>16. The U2N Remote UE sends the <em>RRCSetupComplete</em> message to
the gNB-DU via the U2N Relay UE.</p>
<p>17. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and sends it to the gNB-CU.</p>
<p>18. Upon receiving the <em>RRCSetupComplete</em> message of U2N
Remote UE, the gNB-CU sends the INITIAL UE MESSAGE message to the
AMF.</p>
<p>19. The AMF sends the INITIAL CONTEXT SETUP REQUEST message to the
gNB-CU.</p>
<p>20. The gNB-CU sends the UE CONTEXT SETUP REQUEST message to
establish the U2N Remote UE context in the gNB-DU. Such message may
request the configuration of PC5 Relay RLC channels for the transmission
of U2N Remote UE’s SRB2 and DRBs, and may also encapsulate the
<em>SecurityModeCommand</em> message.</p>
<p>21. The gNB-DU sends the <em>SecurityModeCommand</em> message to the
U2N Remote UE via U2N Relay UE.</p>
<p>22. The gNB-DU sends the UE CONTEXT SETUP RESPONSE message of the U2N
Remote UE to the gNB-CU, which contains the configuration of PC5 Relay
RLC channels for the transmission of U2N Remote UE’s SRB2 and DRBs.</p>
<p>23. The U2N Remote UE responds with the <em>SecurityModeComplete</em>
message.</p>
<p>24. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and sends it to the gNB-CU.</p>
<p>25. The gNB-CU generates the <em>RRCReconfiguration</em> message for
U2N Remote UE and encapsulates it in the DL RRC MESSAGE TRANSFER
message. The <em>RRCReconfiguration</em> message contains the
configuration of PC5 Relay RLC channels and bearer mapping for the
transmission of U2N Remote UE’s SRB2 and DRBs.</p>
<p>26. The gNB-DU sends <em>RRCReconfiguration</em> message to the U2N
Remote UE via the U2N Relay UE.</p>
<p>27. The U2N Remote UE sends <em>RRCReconfigurationComplete</em>
message to the gNB-DU via the U2N Relay UE.</p>
<p>28. The gNB-DU encapsulates the RRC message in the UL RRC MESSAGE
TRANSFER message and send it to the gNB-CU.</p>
<p>29. The gNB-CU sends the INITIAL CONTEXT SETUP RESPONSE message to
the AMF.</p>
<p>30. The gNB-CU configures additional Uu Relay RLC channels between
the gNB-DU and the U2N Relay UE, and additional PC5 Relay RLC channels
for the U2N Relay UE for relaying of U2N Remote UE’s DRBs and SRBs.
Also, such step may configure the bearer mapping between U2N Remote UE’s
DRB/SRB and PC5/Uu Relay RLC channel at the U2N Relay UE.</p>
<blockquote>
<p>NOTE 2: This step may be performed earlier.</p>
</blockquote>
<h3 id="remote-ue-rrc-reestablishment">8.19.2 Remote UE RRC
Reestablishment</h3>
<p>The signalling flow for Remote UE RRC Reestablishment is shown in
Figure 8.19.2-1.</p>
<p><img src="media/image72.svg" /></p>
<p>Figure 8.19.2-1: Remote UE RRC Reestablishment procedure</p>
<p>1. The U2N Remote UE and the U2N Relay UE perform discovery
procedure, and establish PC5 connection using NR ProSe procedure. This
step may be omitted if PC5 connection was established.</p>
<p>2. The U2N Remote UE sends an <em>RRCReestablishmentRequest</em>
message to the U2N Relay UE via PC5 Relay RLC Channel.</p>
<p>3~10. The gNB-CU allocates the local ID of the U2N Remote UE if the
U2N Relay UE does not have it. The details of those steps can be
referred to clause 8.19.1.</p>
<p>11. After receiving the local ID of the U2N Remote UE, the U2N Relay
UE sends the <em>RRCReestablishmentRequest</em> message of the U2N
Remote UE to gNB-DU.</p>
<p>12. The gNB-DU allocates a C-RNTI and a gNB-DU UE F1AP ID for the U2N
Remote UE and sends the INITIAL UL RRC MESSAGE TRANSFER message to
gNB-CU by encapsulating the <em>RRCReestablishmentRequest</em> message
of the U2N Remote UE. In addition, the local ID of the U2N Remote UE,
the gNB-DU UE F1AP ID of the U2N Relay UE and the sidelink configuration
container for at least the PC5 Relay RLC channel configuration for
relaying of U2N Remote UE’s SRB1 are included in the INITIAL UL RRC
MESSAGE TRANSFER message.</p>
<p>13. The gNB-CU configures the U2N Relay UE with PC5 Relay RLC
channel, Uu Relay RLC channel and bearer mapping for relaying of U2N
Remote UE’s SRB1. According to the configuration from gNB-CU, the U2N
Relay UE establishes a PC5 Relay RLC channel for relaying of U2N Remote
UE’s SRB1 over PC5 and establishes a Uu Relay RLC channel for relaying
of U2N Remote UE’s SRB1 over Uu.</p>
<blockquote>
<p>NOTE 1: This step may be performed earlier, e.g., via steps 5~8.</p>
</blockquote>
<p>14~23. The details of those steps can be referred to Steps 5~14 in
clause 8.7. For L2 U2N relay, the RRC message(s) between the U2N Remote
UE and the gNB-DU are relayed via the U2N Relay UE; Steps 18~19 may
additionally perform the configurations of PC5 Relay RLC channel(s) for
relaying of U2N Remote UE’s SRB1, SRB2 and DRBs.</p>
<p>24. The gNB-CU configures additional Uu Relay RLC channels between
the gNB-DU and the U2N Relay UE, and additional PC5 Relay RLC channels
for the U2N Relay UE for relaying of U2N Remote UE’s DRBs and SRBs.
Also, such step may configure the bearer mapping between U2N Remote UE’s
DRB/SRB and PC5/Uu Relay RLC channel at the U2N Relay UE.</p>
<blockquote>
<p>NOTE 2: This step may be performed earlier.</p>
</blockquote>
<h3 id="remote-ue-rrc-inactive-to-other-states">8.19.3 Remote UE RRC
Inactive to other states</h3>
<p>The signalling flow for Remote UE from RRC Inactive to other states
is shown in Figure 8.19.3-1.</p>
<p><img src="media/image73.svg" /></p>
<p>Figure 8.19.3-1: Remote UE RRC Resume procedure</p>
<p>1. The U2N Remote UE and the U2N Relay UE perform discovery
procedure, and establish PC5 connection using NR ProSe procedure. This
step may be omitted if PC5 connection was established.</p>
<p>2. The U2N Remote UE sends an <em>RRCResumeRequest</em> message to
the U2N Relay UE via PC5 RLC Relay Channel.</p>
<p>3~10. The gNB-CU allocates the local ID of the U2N Remote UE if the
U2N Relay UE does not have it. The details of those steps can be
referred to clause 8.19.1.</p>
<p>11. After receiving the local ID of the U2N Remote UE, the U2N Relay
UE sends the <em>RRCResumeRequest</em> message of the U2N Remote UE to
gNB-DU.</p>
<p>12. The gNB-DU allocates a C-RNTI and a gNB-DU UE F1AP ID for the U2N
Remote UE and sends the INITIAL UL RRC MESSAGE TRANSFER message to
gNB-CU by encapsulating the <em>RRCResumeRequest</em> message of the U2N
Remote UE. In addition, the local ID of the U2N Remote UE, the gNB-DU UE
F1AP ID of the U2N Relay UE and the sidelink configuration container for
at least the PC5 Relay RLC channel configuration for relaying of U2N
Remote UE’s SRB1 are included in the INITIAL UL RRC MESSAGE TRANSFER
message.</p>
<p>13. The gNB-CU configures the U2N Relay UE with PC5 Relay RLC
channel, Uu Relay RLC channel and bearer mapping for relaying of U2N
Remote UE’s SRB1. According to the configuration from gNB-CU, the U2N
Relay UE establishes a PC5 Relay RLC channel for relaying of U2N Remote
UE’s SRB1 over PC5 and establishes a Uu Relay RLC channel for relaying
of U2N Remote UE’s SRB1 over Uu.</p>
<blockquote>
<p>NOTE 1: This step may be performed earlier, e.g., via steps 5~8.</p>
</blockquote>
<p>14~19. The details of those steps can be referred to Steps 5~10 in
clause 8.6.2. For L2 U2N relay, the RRC message(s) between the U2N
Remote UE and the gNB-DU are relayed via the U2N Relay UE; Steps 14~15
may additionally perform the configurations of PC5 Relay RLC channel(s)
for relaying of U2N Remote UE’s SRB2 and DRBs.</p>
<p>20. The gNB-CU establishes additional Uu Relay RLC channels between
the gNB-DU and the U2N Relay UE, and additional PC5 Relay RLC channels
for the U2N Relay UE for relaying of U2N Remote UE’s DRBs and SRBs.
Also, such step may configure the bearer mapping between U2N Remote UE’s
DRB/SRB and PC5/Uu Relay RLC channel at the U2N Relay UE.</p>
<blockquote>
<p>NOTE 2: This step may be performed earlier.</p>
</blockquote>
<h3 id="service-continuity-for-l2-u2n-relay">8.19.4 Service Continuity
for L2 U2N relay</h3>
<h4 id="inter-gnb-du-switch-from-direct-to-indirect-path">8.19.4.1
Inter-gNB-DU switch from direct to indirect path</h4>
<p>The signalling flow for U2N Remote UE switch from direct to indirect
path with gNB-DU change is shown in Figure 8.19.4.1-1.</p>
<p><img src="media/image74.svg" /></p>
<p>Figure 8.19.4.1-1: U2N Remote UE Direct-to-indirect Path Switch with
gNB-DU change procedure</p>
<p>1. The Uu measurement configuration and measurement report signalling
is performed between U2N Remote UE and gNB-CU to evaluate both relay
link measurement and Uu link measurement. The U2N Remote UE may report
one or multiple candidate U2N Relay UE(s) and Uu measurement results
after it measures/discovers the candidate U2N Relay UE(s).</p>
<p>2. The gNB-CU decides to switch the U2N Remote UE to a target U2N
Relay UE under a different gNB-DU (i.e., target gNB-DU).</p>
<p>3. The reconfiguration to target U2N Relay UE is performed among U2N
Relay UE, the target gNB-DU and gNB-CU, if the U2N Relay UE is in
RRC_CONNECTED state. The gNB-CU sends an <em>RRCReconfiguration</em>
message to the target U2N Relay UE. If the target Relay UE is in
RRC_IDLE/INACTIVE state, this step is skipped and the configuration to
the target U2N Relay UE is performed in Step 10.</p>
<p>4. gNB-CU sends the UE CONTEXT SETUP REQUEST message for the U2N
Remote UE to the target gNB-DU, which contains the path switch
configuration at least.</p>
<p>5. gNB-DU responds with the UE CONTEXT SETUP RESPONSE message to
gNB-CU.</p>
<p>6. gNB-CU sends the UE CONTEXT MODIFICATION REQUEST message by
including the <em>RRCReconfiguration</em> message to the source gNB-DU.
The contents in the <em>RRCReconfiguration</em> message may include at
least path switch configuration, PC5 Relay RLC channel configuration for
relaying traffic, bearer mapping configuration and the associated radio
bearer(s).</p>
<p>7. The source gNB-DU sends the <em>RRCReconfiguration</em> message to
the U2N Remote UE. The U2N Remote UE stops UP and CP transmission over
Uu after reception of <em>RRCReconfiguration</em> message from the
gNB.</p>
<p>8. The source gNB-DU sends the UE CONTEXT MODIFICATION RESPONSE
message to the gNB-CU.</p>
<p>9. The U2N Remote UE establishes PC5 connection with target U2N Relay
UE.</p>
<p>10. The U2N Remote UE completes the path switch procedure by sending
the <em>RRCReconfigurationComplete</em> message to the target gNB-DU via
the target U2N Relay UE. In case the U2N relay UE is in RRC_IDLE/
INACTIVE state, when the U2N relay UE receives the
<em>RRCReconfigurationComplete</em> message, the reception of the
<em>RRCReconfigurationComplete</em> message will first trigger RRC
setup/resume procedure for the U2N relay UE to enter RRC_CONNECTED
state.</p>
<p>11. The target gNB-DU sends the UL RRC MESSAGE TRANSFER message to
gNB-CU by including the <em>RRCReconfigurationComplete</em> message.</p>
<p>12. The gNB-CU sends an UE CONTEXT RELEASE COMMAND message to the
source gNB-DU.</p>
<p>13. The source gNB-DU releases the UE context and responds the gNB-CU
with an UE CONTEXT RELEASE COMPLETE message.</p>
<h4 id="intra-gnb-du-switch-from-direct-to-indirect-path">8.19.4.2
Intra-gNB-DU switch from direct to indirect path</h4>
<p>The signalling flow for U2N Remote UE switch from direct to indirect
path without gNB-DU change is shown in Figure 8.19.4.2-1.</p>
<p><img src="media/image75.svg" /></p>
<p>Figure 8.19.4.2-1: U2N Remote UE Direct-to-indirect Path Switch
without gNB-DU change procedure</p>
<p>1. The Uu measurement configuration and measurement report signalling
is performed between U2N Remote UE and gNB-CU to evaluate both relay
link measurement and Uu link measurement. The U2N Remote UE may report
one or multiple candidate U2N Relay UE(s) and Uu measurement results
after it measures/discovers the candidate U2N Relay UE(s).</p>
<p>2. The gNB-CU decides to switch the U2N Remote UE to a target U2N
Relay UE under the same gNB-DU.</p>
<p>3. The reconfiguration to target U2N Relay UE is performed among U2N
Relay UE, gNB-DU and gNB-CU if U2N Relay UE is in RRC_CONNECTED state.
The gNB-CU sends an <em>RRCReconfiguration</em> message to the target
U2N Relay UE. If the target Relay UE is in RRC_IDLE/INACTIVE state, this
step is skipped and the configuration to the target U2N Relay UE is
performed in Step 9.</p>
<p>4. gNB-CU sends the UE CONTEXT MODIFICATION REQUEST message for the
U2N Remote UE to gNB-DU, which contains the path switch configuration at
least. The F1-U packets of the U2N Remote UE can be continuously
transmitted via previous tunnels if there is no tunnel update in this
step.</p>
<p>5. gNB-DU responds with the UE CONTEXT MODIFICATION RESPONSE message
to gNB-CU.</p>
<p>6. gNB-CU sends the DL RRC MESSAGE TRANSFER message by including the
<em>RRCReconfiguration</em> message to gNB-DU. The contents in the
<em>RRCReconfiguration</em> message may include at least path switch
configuration, PC5 Relay RLC channel configuration for relaying traffic,
bearer mapping configuration and the associated radio bearer(s).</p>
<p>7. gNB-DU sends the <em>RRCReconfiguration</em> message to the U2N
Remote UE. The U2N Remote UE stops UP and CP transmission over Uu after
reception of <em>RRCReconfiguration</em> message from the gNB.</p>
<p>8. The U2N Remote UE establishes PC5 connection with target U2N Relay
UE.</p>
<p>9. The U2N Remote UE completes the path switch procedure by sending
the <em>RRCReconfigurationComplete</em> message to the gNB-DU via the
target U2N Relay UE. In case the U2N Relay UE is in RRC_IDLE/INACTIVE
state when receiving the <em>RRCReconfigurationComplete</em> message,
the reception of the <em>RRCReconfigurationComplete</em> message will
first trigger RRC setup/resume procedure for the U2N relay UE to enter
RRC_CONNECTED state.</p>
<p>10. The gNB-DU sends the UL RRC MESSAGE TRANSFER message to gNB-CU by
including the <em>RRCReconfigurationComplete</em> message.</p>
<h2 id="void-3">8.20 Void</h2>
<h1 id="synchronization">9 Synchronization</h1>
<h2 id="gnb-synchronization">9.1 gNB Synchronization</h2>
<p>The gNB shall support a logical synchronization port for phase-,
time- and/or frequency synchronization.</p>
<p>Logical synchronization port for phase- and time-synchronization
shall provide:</p>
<p>1) accuracy that allows to meet the gNB requirements on maximum
relative phase difference for all gNBs in synchronized TDD-unicast
area;</p>
<p>2) continuous time without leap seconds traceable to common time
reference for all gNBs in synchronized TDD-unicast area. In the case the
TDD-unicast area is not isolated, the common time reference shall be
traceable to the Coordinated Universal Time (UTC)<em>.</em></p>
<p>A logical synchronization port for phase- and time-synchronization
may also be provided for e.g., all gNBs in FDD time domain inter-cell
interference coordination synchronization area.</p>
<p>Furthermore common SFN initialization time shall be provided for all
gNBs in synchronized TDD-unicast area.</p>
<p>In case of non isolated networks, the start of the radio frame on the
output shall be synchronous with the input time reference, i.e., when an
UTC traceable reference is required, the start of the radio frame shall
be aligned with the start time of the UTC second.</p>
<p>Unless otherwise mutually agreed by the operators of the cells in non
isolated networks and/or unless different SFN initialization offsettings
do not affect operators’ networks in the same area, the common SFN
initialization time should be 1980-01-06T00:00:19 International Atomic
Time (TAI).</p>
<p>Based on this information, the gNB may derive the SFN according to
the following formula:</p>
<p><img src="media/image76.svg" />,</p>
<p>where:</p>
<p>time time adjusted by the common SFN initialization time, in units of
10 ms to match the length of radio frame and accuracy accordingly;</p>
<p>period(SFN) SFN period.</p>
<p>In case gNB is connected via TDM interface, it may be used to
frequency synchronize the gNB. The characteristics of the clock in the
gNB shall be designed taking into account that the jitter and wander
performance requirements on the interface are in accordance with network
limits for output wander at traffic interfaces of either ITU-T
Recommendation G.823 [8], ITU-T Recommendation G.824 [9] or network
limits for the maximum output jitter and wander at any hierarchical
interface of ITU-T Recommendation G.825 [10], whichever is
applicable.</p>
<p>In case gNB is connected via Ethernet interface and the network
supports Synchronous Ethernet, the gNB may use this interface to get
frequency synchronization. In this case the design of the gNB clock
should be done considering the jitter and wander performance
requirements on the interface are as specified for output jitter and
wander at EEC interfaces of ITU-T Recommendation G.8261/Y.1361 [11],
defined in clause 9.2.1. Further considerations on Synchronous Ethernet
recommendations and architectural aspects are defined in clause 12.2.1
and Annex A of ITU-T Recommendation G.8261/Y.1361 [11].</p>
<p>A configurable LTE TDD-offset of start frame shall be supported by
all gNBs in synchronized TDD-unicast areas in order to achieve
interoperability in coexistence scenarios.</p>
<h1 id="ng-ran-interfaces">10 NG-RAN interfaces</h1>
<h2 id="ng-interface">10.1 NG interface</h2>
<p>TS 38.410 [14] specifies NG interface general aspects and
principles.</p>
<h2 id="xn-interface">10.2 Xn interface</h2>
<p>TS 38.420 [15] specifies Xn interface general aspects and
principles.</p>
<h2 id="f1-interface">10.3 F1 interface</h2>
<p>TS 38.470 [16] specifies F1 interface general aspects and
principles.</p>
<h2 id="e1-interface">10.4 E1 interface</h2>
<p>TS 38.460 [17] specifies E1 interface general aspects and
principles.</p>
<h2 id="antenna-interface---general-principles">10.5 Antenna interface -
general principles</h2>
<p>The Iuant interface for the control of RET antennas or TMAs is a
logical part of the NG-RAN.</p>
<p>The support of any standardised antenna interface technique shall not
be prevented; e.g. AISG (Antenna interface standards group)
specifications may be used.</p>
<h1 id="overall-procedures-in-ng-ran-architecure">11 Overall procedures
in NG-RAN Architecure</h1>
<h2 id="multiple-tnlas-for-xn-c">11.1 Multiple TNLAs for Xn-C</h2>
<p>In the following, the procedure for managing multiple TNLAs for Xn-C
is described.</p>
<p><img src="media/image77.svg" /></p>
<p>Figure 11.1-1: Managing multiple TNLAs for Xn-C.</p>
<p>1. The NG-RAN node<sub>1</sub> establishes the first TNLA with the
NG-RAN node<sub>2</sub> using a configured TNL address.</p>
<p>NOTE: The NG-RAN node<sub>1</sub> may use different source and/or
destination IP end point(s) if the TNL establishment towards one IP end
point fails. How the NG-RAN node<sub>1</sub> gets the remote IP end
point(s) and its own IP address are outside the scope of this
specification.</p>
<p>2-3. Once the TNLA has been established, the NG-RAN node<sub>1</sub>
initiates the Xn Setup procedure to exchange application level
configuration data</p>
<p>4-6. The NG-RAN node<sub>2</sub> may add additional TNL Endpoint(s)
to be used for Xn-C signalling between the NG-RAN node<sub>1</sub> and
the NG-RAN node<sub>2</sub> pair using the NG-RAN node Configuration
Update procedure. NG-RAN node Configuration Update procedure also allows
the NG-RAN node<sub>2</sub> to request the NG-RAN node<sub>1</sub> to
modify or release TNLA(s).</p>
<p>7-9. The NG-RAN node<sub>1</sub> may add additional TNL Endpoint(s)
to be used for Xn-C signalling between the NG-RAN node<sub>1</sub> and
the NG-RAN node<sub>2</sub> pair using the NG-RAN node Configuration
Update procedure. NG-RAN node Configuration Update procedure also allows
the NG-RAN node<sub>1</sub> to request the NG-RAN node<sub>2</sub> to
modify or release TNLA(s).</p>
<p>The XnAP UE TNLA binding is a binding between a XnAP UE association
and a specific TNL association for a given UE. After the XnAP UE TNLA
binding is created, the NG-RAN node<sub>1</sub> or the NG-RAN
node<sub>2</sub> can update the UE TNLA binding by sending the first
available XnAP message for the UE to the peer NG-RAN node via a
different TNLA. The peer NG-RAN node shall update the XnAP UE TNLA
binding with the new TNLA.</p>
<p class="heading"
id="annex-a-informative-deployment-scenarios-of-gnben-gnb"><br />
Annex A (informative):<br />
Deployment scenarios of gNB/en-gNB </p>
<p>Figure A-1 shows logical nodes (CU-C, CU-U and DU), internal to a
logical gNB/en-gNB. Protocol terminations of the NG and Xn interfaces
are depicted as ellipses in Figure A-1. The terms "Central Entity" and
"Distributed Entity" shown in Figure A-1 refer to physical network
nodes.</p>
<p><img src="media/image78.svg" /></p>
<p>Figure A-1: Example deployment of an Logical gNB/en-gNB</p>
<p class="heading"
id="annex-b-ng-ran-architecture-for-radio-access-network-sharing-with-multiple-cell-id-broadcast-informative"><br />
Annex B:<br />
NG-RAN Architecture for Radio Access Network Sharing with multiple cell
ID broadcast (informative)</p>
<p>Each gNB-DU serving a cell identified by a Cell Identity associated
with a subset of PLMNs is connected to a gNB-CU via a single F1-C
interface instance.</p>
<p>Each F1-C interface instance is setup individually.</p>
<p>F1-C interface instances terminating at gNB-DUs which share the same
physical radio resources may share the same F1-C signalling transport
resources. If this option is applied,</p>
<p>- non-UE associated signalling is associated to an F1-C interface
instance by allocating the corresponding Transaction ID from a value
range associated to that F1-C interface instance.</p>
<p>- node related, non-UE associated F1-C interface signalling may
provide information destined for multiple logical nodes in a single F1AP
procedure instance once the F1-C interface instance is setup.</p>
<p>NOTE 1: If the Transaction ID corresponds to more than one interface
instance, the respective F1AP message carries information destined for
multiple logical nodes.</p>
<p>- a UE associated signalling connection is associated to an F1-C
interface instance by allocating values for the corresponding gNB-DU UE
F1AP ID and gNB-CU UE F1AP ID so that they can be mapped to that
interface instance.</p>
<p>NOTE 2: One possible implementation is to partition the value ranges
of the gNB-DU UE F1AP ID and gNB-CU UE F1AP ID and associate each value
range with an F1-C interface instance.</p>
<p>Interpreting the content of RRC MSG3 and other unciphered RRC message
by the gNB-DU is supported.</p>
<p>Content for System Information Broadcast is assumed to be coordinated
among the sharing PLMNs. PLMN specific SIB1 content is controlled by the
respective PLMN owner. Non PLMN specific content needs coordination to
avoid contradicting indication by PLMN specific gNB-CUs. For Warning
messages (SIB6, SIB7 and SIB8), if provided by more than one gNB-CU,
warning message duplicates are identified by provision of the Message
Number and the Serial Number by the gNB-CU and don’t trigger new
broadcast or replace existing broadcast. Other coordination between
gNB-CUs is ensured by appropriate implementation.</p>
<p class="heading" id="annex-c-informative-change-history"><br />
Annex C (informative):<br />
Change History</p>
<table>
<colgroup>
<col style="width: 8%" />
<col style="width: 10%" />
<col style="width: 10%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 4%" />
<col style="width: 50%" />
<col style="width: 7%" />
</colgroup>
<thead>
<tr>
<th colspan="8" style="text-align: center;"><strong>Change
history</strong></th>
</tr>
<tr>
<th><strong>Date</strong></th>
<th><strong>Meeting</strong></th>
<th><strong>TDoc</strong></th>
<th><strong>CR</strong></th>
<th><strong>Rev</strong></th>
<th><strong>Cat</strong></th>
<th><strong>Subject/Comment</strong></th>
<th><strong>New version</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>2017-04</td>
<td>RAN3#95bis</td>
<td>R3-171307</td>
<td></td>
<td></td>
<td></td>
<td>First Draft</td>
<td>0.0.1</td>
</tr>
<tr>
<td>2017-05</td>
<td>RAN3#96</td>
<td>R3-171962</td>
<td></td>
<td></td>
<td></td>
<td><p>Reflected agreed TP in RAN3#96.</p>
<p>Added new Clause 8 for overall procedure for gNB-CU/DU
architecture</p></td>
<td>0.1.0</td>
</tr>
<tr>
<td>2017-06</td>
<td>RAN3#NR Ad Hoc</td>
<td>R3-172634</td>
<td></td>
<td></td>
<td></td>
<td>Reflected agreed TP in RAN3#NR Ad Hoc in 2017-06 (Qingdao)</td>
<td>0.2.0</td>
</tr>
<tr>
<td>2017-08</td>
<td>RAN3#97</td>
<td>R3-173449</td>
<td></td>
<td></td>
<td></td>
<td>Reflected agreed TP in RAN3#97</td>
<td>0.3.0</td>
</tr>
<tr>
<td>2017-10</td>
<td>RAN3#97bis</td>
<td>R3-174237</td>
<td></td>
<td></td>
<td></td>
<td>Reflected agreed TP in RAN3#97bis</td>
<td>0.4.0</td>
</tr>
<tr>
<td>2017-10</td>
<td>RAN3#97bis</td>
<td>R3-174258</td>
<td></td>
<td></td>
<td></td>
<td>Removed subclauses under 10.3 (moved to 38.470)</td>
<td>0.4.1</td>
</tr>
<tr>
<td>2017-11</td>
<td>RAN3#98</td>
<td>R3-175054</td>
<td></td>
<td></td>
<td></td>
<td>Reflected agreed TP in RAN3#98</td>
<td>0.5.0</td>
</tr>
<tr>
<td>2017-12</td>
<td>RP-78</td>
<td>RP-172545</td>
<td></td>
<td></td>
<td></td>
<td>Submit to RAN Plenary#78 for approval</td>
<td>1.0.0</td>
</tr>
<tr>
<td>2017-12</td>
<td>RP-78</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>TR Approved by RAN plenary</td>
<td>15.0.0</td>
</tr>
<tr>
<td>2018-03</td>
<td>RP-79</td>
<td>RP-180468</td>
<td>0007</td>
<td>1</td>
<td>-</td>
<td>Correction on intra-gNB-DU handover</td>
<td>15.1.0</td>
</tr>
<tr>
<td>2018-06</td>
<td>RP-80</td>
<td>RP-181237</td>
<td>0001</td>
<td>5</td>
<td>B</td>
<td>Introduction of SA NR (38.401 Baseline CR covering RAN3
agreements)</td>
<td>15.2.0</td>
</tr>
<tr>
<td>2018-06</td>
<td>RP-80</td>
<td>RP-181240</td>
<td>0008</td>
<td>4</td>
<td>B</td>
<td>Introduction of Separation of CP and UP for Split Option 2 (38.401
Baseline CR covering RAN3 agreements)</td>
<td>15.2.0</td>
</tr>
<tr>
<td>2018-06</td>
<td>RP-80</td>
<td>RP-181238</td>
<td>0012</td>
<td>1</td>
<td>F</td>
<td>CR to TS38.401 on UL blockage</td>
<td>15.2.0</td>
</tr>
<tr>
<td>2018-06</td>
<td>RP-80</td>
<td>RP-181238</td>
<td>0014</td>
<td>1</td>
<td>F</td>
<td>CR to 38.401 on DL User Data to DU</td>
<td>15.2.0</td>
</tr>
<tr>
<td>2018-06</td>
<td>RP-80</td>
<td>RP-181238</td>
<td>0016</td>
<td>-</td>
<td>F</td>
<td>TP for 38.401 in supporting full configuration</td>
<td>15.2.0</td>
</tr>
<tr>
<td>2018-09</td>
<td>RP-81</td>
<td>RP-181922</td>
<td>0022</td>
<td>2</td>
<td>F</td>
<td>NR Corrections (38.401 Baseline CR covering RAN3-101
agreements)</td>
<td>15.3.0</td>
</tr>
<tr>
<td>2018-12</td>
<td>RP-82</td>
<td>RP-182707</td>
<td>0023</td>
<td>3</td>
<td>F</td>
<td>NR Corrections (TS 38.401 Baseline CR covering RAN3-101Bis and
RAN3-102 agreements)</td>
<td>15.4.0</td>
</tr>
<tr>
<td>2019-03</td>
<td>RP-83</td>
<td>RP-190554</td>
<td>0025</td>
<td>-</td>
<td>F</td>
<td>Correction to Intra-gNB-CU mobility</td>
<td>15.5.0</td>
</tr>
<tr>
<td>2019-03</td>
<td>RP-83</td>
<td>RP-190560</td>
<td>0026</td>
<td>1</td>
<td>F</td>
<td>Correction from Rapporteur for 38.401</td>
<td>15.5.0</td>
</tr>
<tr>
<td>2019-03</td>
<td>RP-83</td>
<td>RP-190554</td>
<td>0037</td>
<td>1</td>
<td>F</td>
<td>About Cells Failed to be Activated IE</td>
<td>15.5.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191394</td>
<td>0039</td>
<td>3</td>
<td>F</td>
<td>Correction of AMF set related statements</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191395</td>
<td>0063</td>
<td>1</td>
<td>F</td>
<td>CR to 38.401 on Multiple TNLAs for F1-C and E1</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191395</td>
<td>0065</td>
<td></td>
<td>F</td>
<td>Multiple TNLAs for Xn-C</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191502</td>
<td>0043</td>
<td>2</td>
<td>F</td>
<td>Clarify the support for multiple TNLAs for F1-C</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191397</td>
<td>0067</td>
<td>1</td>
<td>F</td>
<td>RAN sharing with multiple Cell ID broadcast</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-07</td>
<td>RP-84</td>
<td>RP-191396</td>
<td>0068</td>
<td>1</td>
<td>F</td>
<td>Procedure description on optional IEs in CU to DU RRC information
IE.</td>
<td>15.6.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192916</td>
<td>0045</td>
<td>4</td>
<td>F</td>
<td>Correction to RRC Inactive transition</td>
<td>15.7.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192916</td>
<td>0104</td>
<td>-</td>
<td>F</td>
<td>Inter-gNB-DU mobility using MCG SRB procedure</td>
<td>15.7.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192754</td>
<td>0105</td>
<td>2</td>
<td>F</td>
<td>CR for RRC Container IE in Initial UL RRC Message Transfer
procedure</td>
<td>15.7.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192908</td>
<td>0060</td>
<td>4</td>
<td>B</td>
<td>Introduction of RIM in TS 38.401</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192913</td>
<td>0075</td>
<td>1</td>
<td>F</td>
<td>Trace function support stage-2</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192913</td>
<td>0097</td>
<td>2</td>
<td>F</td>
<td>Introduction of common time standard source</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192911</td>
<td>0107</td>
<td>2</td>
<td>F</td>
<td>CR to 38.401 on corrections to ng-eNB deployment</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192908</td>
<td>0109</td>
<td>-</td>
<td>B</td>
<td>Introduction of Cross-link Interference Management</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2019-12</td>
<td>RP-86</td>
<td>RP-192910</td>
<td>0112</td>
<td>-</td>
<td>B</td>
<td>Support of SN Resume during the RRCResume procedure</td>
<td>16.0.0</td>
</tr>
<tr>
<td>2020-03</td>
<td>RP-87-e</td>
<td>RP-200425</td>
<td>0114</td>
<td>-</td>
<td>D</td>
<td>Rapporteur updating of specification 38.401</td>
<td>16.1.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201077</td>
<td>0033</td>
<td>21</td>
<td>B</td>
<td>BL CR to 38.401 Support for IAB</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201082</td>
<td>0099</td>
<td>7</td>
<td>B</td>
<td>Addition of MDT features</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201080</td>
<td>0102</td>
<td>6</td>
<td>B</td>
<td>BL CR NPN for TS 38.401</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201075</td>
<td>0110</td>
<td>6</td>
<td>B</td>
<td>Baseline CR for introducing Rel-16 NR mobility enhancement</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201082</td>
<td>0116</td>
<td>4</td>
<td>B</td>
<td>Addition of SON features</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201091</td>
<td>0122</td>
<td>1</td>
<td>A</td>
<td>Correction for gNB-DU transmission stop descriptoin in the inter-gNB
HO involving gNB-CU-UP change</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-07</td>
<td>RP-88-e</td>
<td>RP-201085</td>
<td>0130</td>
<td>-</td>
<td>F</td>
<td>Rapporteur Corrections to 38.401</td>
<td>16.2.0</td>
</tr>
<tr>
<td>2020-09</td>
<td>RP-89-e</td>
<td>RP-201945</td>
<td>0115</td>
<td>7</td>
<td>B</td>
<td>F1 support for positioning</td>
<td>16.3.0</td>
</tr>
<tr>
<td>2020-09</td>
<td>RP-89-e</td>
<td>RP-201954</td>
<td>0135</td>
<td>2</td>
<td>A</td>
<td>Adding missing steps querying the source DU's latest configuration
during the inter-gNB-DU mobility for intra-NR</td>
<td>16.3.0</td>
</tr>
<tr>
<td>2020-09</td>
<td>RP-89-e</td>
<td>RP-201954</td>
<td>0137</td>
<td>2</td>
<td>A</td>
<td>SCTP association change when current SCTP association is failed</td>
<td>16.3.0</td>
</tr>
<tr>
<td>2020-09</td>
<td>RP-89-e</td>
<td>RP-201947</td>
<td>0142</td>
<td>1</td>
<td>F</td>
<td>Rapporteur Corrections to 38.401</td>
<td>16.3.0</td>
</tr>
<tr>
<td>2020-09</td>
<td>RP-89-e</td>
<td>RP-201954</td>
<td>0148</td>
<td>2</td>
<td>A</td>
<td>Correction for intra-gNB-DU handover description</td>
<td>16.3.0</td>
</tr>
<tr>
<td>2020-12</td>
<td>RP-90-e</td>
<td>RP-202311</td>
<td>0154</td>
<td>1</td>
<td>F</td>
<td>Correction on CPC Complete Transfer</td>
<td>16.4.0</td>
</tr>
<tr>
<td>2020-12</td>
<td>RP-90-e</td>
<td>RP-202311</td>
<td>0156</td>
<td>3</td>
<td>F</td>
<td>Correction of Intra-system HO data forwarding</td>
<td>16.4.0</td>
</tr>
<tr>
<td>2021-03</td>
<td>RP-91-e</td>
<td>RP-210231</td>
<td>0146</td>
<td>4</td>
<td>F</td>
<td>Corrections on clarification of non-F1 traffic</td>
<td>16.5.0</td>
</tr>
<tr>
<td>2021-03</td>
<td>RP-91-e</td>
<td>RP-210233</td>
<td>0168</td>
<td>1</td>
<td>F</td>
<td>Stage-2 CR on transmission stop for Rel-16 DAPS handover</td>
<td>16.5.0</td>
</tr>
<tr>
<td>2021-06</td>
<td>RP-92-e</td>
<td>RP-211317</td>
<td>0172</td>
<td>1</td>
<td>F</td>
<td>Correction on Signalling based MDT Activation [NR_SON_MDT-Core]</td>
<td>16.6.0</td>
</tr>
<tr>
<td>2021-09</td>
<td>RP-93-e</td>
<td>RP-211882</td>
<td>0170</td>
<td>3</td>
<td>F</td>
<td>Suspend Configuration</td>
<td>16.7.0</td>
</tr>
<tr>
<td>2021-12</td>
<td>RP-94-e</td>
<td>RP-212864</td>
<td>0188</td>
<td>1</td>
<td>F</td>
<td>Correction the text of stage 2 for DL Xn-U address information
transfer (CR to TS 38.401, R16)</td>
<td>16.8.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220276</td>
<td>0193</td>
<td>2</td>
<td>F</td>
<td>CR to 38.401: Correction on IPv6 Flow Label handling for IAB using
IPsec tunnel mode</td>
<td>16.9.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220224</td>
<td>0153</td>
<td>13</td>
<td>B</td>
<td>Introduction of NR MBS</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220221</td>
<td>0165</td>
<td>9</td>
<td>B</td>
<td>BLCR to 38.401_Addition of SON features enhancement</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220935</td>
<td>0166</td>
<td>9</td>
<td>B</td>
<td>BLCR to 38.401: Support of MDT enhancement</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220218</td>
<td>0174</td>
<td>7</td>
<td>B</td>
<td>CPAC BL CR to TS38.401</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220218</td>
<td>0176</td>
<td>10</td>
<td>B</td>
<td>SCG BL CR to TS 38.401</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220217</td>
<td>0178</td>
<td>7</td>
<td>B</td>
<td>CR to 38.401: Baseline CR for introducing Rel-17 Enhanced eNB
Architecture Evolution</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220222</td>
<td>0179</td>
<td>10</td>
<td>B</td>
<td>BL CR to TS 38.401 on support of eIAB</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220230</td>
<td>0191</td>
<td>3</td>
<td>B</td>
<td>Draft BL CR to TS 38.401 on RedCap UEs</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220233</td>
<td>0192</td>
<td>3</td>
<td>B</td>
<td>RA-SDT BLCR to TS 38.401</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220231</td>
<td>0195</td>
<td>3</td>
<td>B</td>
<td>BL CR to TS38.401 on Rel-17 Sidelink Relay</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220233</td>
<td>0196</td>
<td>1</td>
<td>B</td>
<td>CG-SDT BLCR to TS 38.401</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-03</td>
<td>RP-95-e</td>
<td>RP-220229</td>
<td>0198</td>
<td>-</td>
<td>B</td>
<td>BL CR to TS38.401 for alignment of MDT and QoE</td>
<td>17.0.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221136</td>
<td>0202</td>
<td>1</td>
<td>F</td>
<td>Correction on SDT</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221141</td>
<td>0207</td>
<td>1</td>
<td>F</td>
<td>Corrections on MDT</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221139</td>
<td>0209</td>
<td>1</td>
<td>F</td>
<td>CR on TS38.401 for Rel-17 Sidelink Relay</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221145</td>
<td>0210</td>
<td>2</td>
<td>D</td>
<td>Rapporteur Update to TS 38.401</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221134</td>
<td>0214</td>
<td>2</td>
<td>F</td>
<td>Remove the editor's notes related to consent information</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221135</td>
<td>0220</td>
<td>1</td>
<td>F</td>
<td>CR to 38.401 for Corrections on Overall procedures for CPAC</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221141</td>
<td>0225</td>
<td>1</td>
<td>F</td>
<td>Correction to 38.401 for SON features enhancement</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221135</td>
<td>0228</td>
<td>2</td>
<td>F</td>
<td>Correction for stage 2 on SCG (de)activation</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221143</td>
<td>0232</td>
<td>1</td>
<td>F</td>
<td>QoE Rel-17 Corrections</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-06</td>
<td>RP-96</td>
<td>RP-221128</td>
<td>0233</td>
<td>-</td>
<td>F</td>
<td>Stage-2 corrections on IAB architecture</td>
<td>17.1.0</td>
</tr>
<tr>
<td>2022-07</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Editorial correction</p>
<p>- change the font style from "H1" to "normal" in clause
7.10.</p></td>
<td>17.1.1</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222189</td>
<td>0235</td>
<td>2</td>
<td>F</td>
<td>Stage 2 Clarification on SDT to TS 38.401</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222201</td>
<td>0239</td>
<td>2</td>
<td>F</td>
<td>Correction on gNB-DU ID</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222189</td>
<td>0241</td>
<td>1</td>
<td>F</td>
<td>Clarification to CG based SDT</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222183</td>
<td>0242</td>
<td>-</td>
<td>F</td>
<td>Correction on protocol stack for IAB</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222188</td>
<td>0244</td>
<td>-</td>
<td>F</td>
<td>Further Corrections for NR MBS</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222183</td>
<td>0246</td>
<td>2</td>
<td>F</td>
<td>Corrections for Rel-17 IAB on topology adaptation</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222183</td>
<td>0250</td>
<td>2</td>
<td>F</td>
<td>Corrections on IAB inter-CU topology adaptation</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-09</td>
<td>RP-97-e</td>
<td>RP-222190</td>
<td>0252</td>
<td>1</td>
<td>F</td>
<td>Correction to 38.401 for SL relay</td>
<td>17.2.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222882</td>
<td>0258</td>
<td>3</td>
<td>F</td>
<td>Correction on F1-U tunnels for multicast MRB</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222882</td>
<td>0261</td>
<td>3</td>
<td>F</td>
<td>Correction on Multicast Session Establishment</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222882</td>
<td>0262</td>
<td>2</td>
<td>F</td>
<td>Correction on Multicast Mobility procedure</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222882</td>
<td>0263</td>
<td>1</td>
<td>F</td>
<td>Correction on definition of Multicast F1-U Context</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222882</td>
<td>0266</td>
<td>1</td>
<td>F</td>
<td>Introduction of further multicast session flow on MRB type
reconfiguration</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2022-12</td>
<td>RP-98-e</td>
<td>RP-222888</td>
<td>0269</td>
<td>2</td>
<td>F</td>
<td>SL relay corrections</td>
<td>17.3.0</td>
</tr>
<tr>
<td>2023-03</td>
<td>RAN#99</td>
<td>RP-230581</td>
<td>0273</td>
<td>3</td>
<td>F</td>
<td>Clarification on SDT to 38.401</td>
<td>17.4.0</td>
</tr>
<tr>
<td>2023-03</td>
<td>RAN#99</td>
<td>RP-230583</td>
<td>0275</td>
<td>1</td>
<td>F</td>
<td>Providing MBS QoS Flow Information during Multicast Session
Establishment</td>
<td>17.4.0</td>
</tr>
<tr>
<td>2023-03</td>
<td>RAN#99</td>
<td>RP-230586</td>
<td>0276</td>
<td>1</td>
<td>F</td>
<td>Miscellaneous corrections for IAB inter-CU procedures</td>
<td>17.4.0</td>
</tr>
<tr>
<td>2023-03</td>
<td>RAN#99</td>
<td>RP-230581</td>
<td>0279</td>
<td>1</td>
<td>F</td>
<td>38.401 Correction for Rel-17 SDT</td>
<td>17.4.0</td>
</tr>
<tr>
<td>2023-03</td>
<td>RAN#99</td>
<td>RP-230583</td>
<td>0280</td>
<td>1</td>
<td>F</td>
<td>Correction to TS 38.401 on Broadcast session establishment</td>
<td>17.4.0</td>
</tr>
<tr>
<td>2023-06</td>
<td>RAN#100</td>
<td>RP-231074</td>
<td>0287</td>
<td>2</td>
<td>F</td>
<td>Correction on Multicast session establishment</td>
<td>17.5.0</td>
</tr>
<tr>
<td>2023-06</td>
<td>RAN#100</td>
<td>RP-231080</td>
<td>0290</td>
<td>2</td>
<td>F</td>
<td>Correction on L2 U2N Relay Remote UE RRC procedures</td>
<td>17.5.0</td>
</tr>
<tr>
<td>2023-09</td>
<td>RAN#101</td>
<td>RP-231895</td>
<td>0298</td>
<td>0</td>
<td>A</td>
<td>Correction for change of gNB-CU-UP</td>
<td>17.6.0</td>
</tr>
<tr>
<td>2023-09</td>
<td>RAN#101</td>
<td>RP-231901</td>
<td>0299</td>
<td>1</td>
<td>F</td>
<td>Corrections to TS 38.401 for SL relay</td>
<td>17.6.0</td>
</tr>
<tr>
<td>2023-09</td>
<td>RAN#101</td>
<td>RP-231902</td>
<td>0306</td>
<td>3</td>
<td>F</td>
<td>Correction on non-SDT data arrival during on-going SDT session</td>
<td>17.6.0</td>
</tr>
<tr>
<td>2023-12</td>
<td>RAN#102</td>
<td>RP-233854</td>
<td>0295</td>
<td>4</td>
<td>F</td>
<td>Clarification of the RAN UE ID usage in stage-2</td>
<td>17.7.0</td>
</tr>
<tr>
<td>2023-12</td>
<td>RAN#102</td>
<td>RP-233852</td>
<td>0311</td>
<td>-</td>
<td>F</td>
<td>Correction on small data transmission</td>
<td>17.7.0</td>
</tr>
<tr>
<td>2024-03</td>
<td>RAN#103</td>
<td>RP-240643</td>
<td>0313</td>
<td>2</td>
<td>A</td>
<td>Correction on IP address allocation for IAB via OAM</td>
<td>17.8.0</td>
</tr>
<tr>
<td>2024-03</td>
<td>RAN#103</td>
<td>RP-240643</td>
<td>0316</td>
<td>5</td>
<td>F</td>
<td>IAB-node authorization</td>
<td>17.8.0</td>
</tr>
<tr>
<td>2024-06</td>
<td>RAN#104</td>
<td>RP-241116</td>
<td>0370</td>
<td>3</td>
<td>F</td>
<td>IAB-node authorization</td>
<td>17.9.0</td>
</tr>
</tbody>
</table>
</body>
</html>
